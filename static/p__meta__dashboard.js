(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[3534],{542:function(D,l,e){"use strict";var u=e(28991),r=e(67294),M=e(61273),P=e(63430),x=e(85893),i=function(v){var _=M.G2.getEngine("canvas"),a=v.data,g=v.loading,E=v.height,c={appendPadding:10,data:a,angleField:"value",colorField:"type",radius:.8,label:{type:"spider",labelHeight:40,formatter:function(t,o){var h=new _.Group({});return h.addShape({type:"circle",attrs:{x:0,y:0,width:40,height:50,r:5,fill:o.color}}),h.addShape({type:"text",attrs:{x:10,y:8,text:"".concat(t.type),fill:o.color}}),h.addShape({type:"text",attrs:{x:0,y:25,text:"\u5171".concat(t.value,"\u4E2A\uFF0C\u5360\u6BD4").concat(Math.round((t.percent+Number.EPSILON)*100),"%"),fill:"rgba(0, 0, 0, 0.65)",fontWeight:800}}),h}},interactions:[{type:"pie-legend-active"},{type:"element-active"}]};return(0,x.jsx)(P.Z,(0,u.Z)((0,u.Z)({},c),{},{loading:g,height:E}))};l.Z=i},85983:function(D,l,e){"use strict";e.r(l);var u=e(58024),r=e(39144),M=e(13062),P=e(71230),x=e(89032),i=e(15746),B=e(34792),v=e(48086),_=e(28481),a=e(67294),g=e(47599),E=e(84619),c=e(542),d=e(46676),t=e(85893),o=d.Z.Divider,h=[{type:"\u5206\u7C7B\u4E00",value:27},{type:"\u5206\u7C7B\u4E8C",value:25},{type:"\u5206\u7C7B\u4E09",value:18},{type:"\u5206\u7C7B\u56DB",value:15},{type:"\u5206\u7C7B\u4E94",value:10},{type:"\u5176\u4ED6",value:5}];l.default=function(){var I=(0,a.useState)([]),Z=(0,_.Z)(I,2),s=Z[0],W=Z[1],K=(0,a.useState)(!1),p=(0,_.Z)(K,2),et=p[0],at=p[1],R=(0,a.useState)(1),C=(0,_.Z)(R,2),st=C[0],_t=C[1],U=(0,a.useState)(new Date),f=(0,_.Z)(U,2),nt=f[0],ut=f[1],b=(0,a.useState)(!0),S=(0,_.Z)(b,2),O=S[0],F=S[1],G=(0,a.useState)([]),y=(0,_.Z)(G,2),lt=y[0],dt=y[1],N=(0,a.useState)([]),j=(0,_.Z)(N,2),rt=j[0],it=j[1],H=(0,a.useState)([{type:"noData",value:1}]),L=(0,_.Z)(H,2),z=L[0],J=L[1],Q=(0,a.useState)([{type:"noData",value:1}]),m=(0,_.Z)(Q,2),V=m[0],X=m[1],Y=(0,a.useState)([{type:"noData",value:1}]),T=(0,_.Z)(Y,2),$=T[0],w=T[1],k=(0,a.useState)([{type:"noData",value:1}]),A=(0,_.Z)(k,2),q=A[0],tt=A[1];return(0,a.useEffect)(function(){try{fetch("/api/v1/meta/dashboard/info").then(function(n){return n.json()}).then(function(n){return console.info(n.data),W(n.data),J(n.data.datasourcePieDataList),X(n.data.databasePieDataList),w(n.data.tablePieDataList),tt(n.data.columnPieDataList),F(!1)}).catch(function(n){console.log("fetch dashboard data failed",n)})}catch(n){v.ZP.error("get data error. ".concat(n))}},[]),(0,t.jsxs)(g.ZP,{children:[(0,t.jsx)(P.Z,{gutter:[16,24],style:{marginTop:"10px"},children:(0,t.jsx)(i.Z,{span:24,children:(0,t.jsxs)(d.Z.Group,{children:[(0,t.jsx)(d.Z,{statistic:{title:"\u7C7B\u578B",value:s&&s.datasourceTypeCount,status:"processing"}}),(0,t.jsx)(o,{}),(0,t.jsx)(d.Z,{statistic:{title:"\u673A\u623F",value:s&&s.datasourceIdcCount,status:"processing"}}),(0,t.jsx)(o,{}),(0,t.jsx)(d.Z,{statistic:{title:"\u73AF\u5883",value:s&&s.datasourceEnvCount,status:"processing"}}),(0,t.jsx)(o,{}),(0,t.jsx)(d.Z,{statistic:{title:"\u5B9E\u4F8B\u6570",value:s&&s.datasourceCount,status:"processing"}}),(0,t.jsx)(o,{}),(0,t.jsx)(d.Z,{statistic:{title:"\u6570\u636E\u5E93",value:s&&s.databaseCount,status:"warning"}}),(0,t.jsx)(d.Z,{statistic:{title:"\u6570\u636E\u8868",value:s&&s.tableCount,status:"success"}}),(0,t.jsx)(d.Z,{statistic:{title:"\u5B57\u6BB5",value:s&&s.columnCount,status:"error"}})]})})}),(0,t.jsxs)(P.Z,{gutter:[16,24],style:{marginTop:"15px"},children:[(0,t.jsx)(i.Z,{span:12,children:(0,t.jsx)(r.Z,{title:(0,t.jsxs)("span",{children:[(0,t.jsx)(E.Z,{}),"\xA0\u6570\u636E\u6E90\u5B9E\u4F8B\u5206\u5E03"]}),bordered:!1,children:(0,t.jsx)(c.Z,{data:z,loading:O,height:330})})}),(0,t.jsx)(i.Z,{span:12,children:(0,t.jsx)(r.Z,{title:(0,t.jsxs)("span",{children:[(0,t.jsx)(E.Z,{}),"\xA0\u6570\u636E\u5E93\u5206\u5E03"]}),bordered:!1,children:(0,t.jsx)(c.Z,{data:V,loading:O,height:330})})})]}),(0,t.jsxs)(P.Z,{gutter:[16,24],style:{marginTop:"15px"},children:[(0,t.jsx)(i.Z,{span:12,children:(0,t.jsx)(r.Z,{title:(0,t.jsxs)("span",{children:[(0,t.jsx)(E.Z,{}),"\xA0\u6570\u636E\u8868\u5206\u5E03"]}),bordered:!1,children:(0,t.jsx)(c.Z,{data:$,loading:O,height:330})})}),(0,t.jsx)(i.Z,{span:12,children:(0,t.jsx)(r.Z,{title:(0,t.jsxs)("span",{children:[(0,t.jsx)(E.Z,{}),"\xA0\u6570\u636E\u5B57\u6BB5\u5206\u5E03"]}),bordered:!1,children:(0,t.jsx)(c.Z,{data:q,loading:O,height:330})})})]})]})}},15746:function(D,l,e){"use strict";var u=e(21584);l.Z=u.Z},89032:function(D,l,e){"use strict";var u=e(38663),r=e.n(u),M=e(6999)},71230:function(D,l,e){"use strict";var u=e(92820);l.Z=u.Z},13062:function(D,l,e){"use strict";var u=e(38663),r=e.n(u),M=e(6999)}}]);
