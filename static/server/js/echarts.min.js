(function($,ao){typeof exports=="object"&&typeof module!="undefined"?ao(exports):typeof define=="function"&&define.amd?define(["exports"],ao):ao($.echarts={})})(this,function($){"use strict";function ao(e,t){e==="createCanvas"&&(Ws=null),sd[e]=t}function Z(e){if(e==null||typeof e!="object")return e;var t=e,n=Xa.call(e);if(n==="[object Array]"){if(!so(e)){t=[];for(var i=0,o=e.length;i<o;i++)t[i]=Z(e[i])}}else if(f1[n]){if(!so(e)){var a=e.constructor;if(e.constructor.from)t=a.from(e);else{t=new a(e.length);for(var i=0,o=e.length;i<o;i++)t[i]=Z(e[i])}}}else if(!d1[n]&&!so(e)&&!ra(e)){t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=Z(e[r]))}return t}function q(e,t,n){if(!Y(t)||!Y(e))return n?Z(t):e;for(var i in t)if(t.hasOwnProperty(i)){var o=e[i],a=t[i];!Y(a)||!Y(o)||O(a)||O(o)||ra(a)||ra(o)||gu(a)||gu(o)||so(a)||so(o)?!n&&i in e||(e[i]=Z(t[i],!0)):q(o,a,n)}return e}function aa(e,t){for(var n=e[0],i=1,o=e.length;i<o;i++)n=q(n,e[i],t);return n}function G(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function W(e,t,n){for(var i in t)t.hasOwnProperty(i)&&(n?t[i]!=null:e[i]==null)&&(e[i]=t[i]);return e}function bp(){return Ws||(Ws=ko().getContext("2d")),Ws}function ne(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n}return-1}function he(e,t){function n(){}var i=e.prototype;n.prototype=t.prototype,e.prototype=new n;for(var o in i)e.prototype[o]=i[o];e.prototype.constructor=e,e.superClass=t}function oe(e,t,n){W(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,n)}function hn(e){if(e)return typeof e!="string"&&typeof e.length=="number"}function b(e,t,n){if(e&&t)if(e.forEach&&e.forEach===RA)e.forEach(t,n);else if(e.length===+e.length)for(var i=0,o=e.length;i<o;i++)t.call(n,e[i],i,e);else for(var a in e)e.hasOwnProperty(a)&&t.call(n,e[a],a,e)}function P(e,t,n){if(e&&t){if(e.map&&e.map===VA)return e.map(t,n);for(var i=[],o=0,a=e.length;o<a;o++)i.push(t.call(n,e[o],o,e));return i}}function ro(e,t,n,i){if(e&&t){if(e.reduce&&e.reduce===GA)return e.reduce(t,n,i);for(var o=0,a=e.length;o<a;o++)n=t.call(i,n,e[o],o,e);return n}}function ke(e,t,n){if(e&&t){if(e.filter&&e.filter===BA)return e.filter(t,n);for(var i=[],o=0,a=e.length;o<a;o++)t.call(n,e[o],o,e)&&i.push(e[o]);return i}}function U(e,t){var n=Ya.call(arguments,2);return function(){return e.apply(t,n.concat(Ya.call(arguments)))}}function j(e){var t=Ya.call(arguments,1);return function(){return e.apply(this,t.concat(Ya.call(arguments)))}}function O(e){return Xa.call(e)==="[object Array]"}function At(e){return typeof e=="function"}function xe(e){return Xa.call(e)==="[object String]"}function Y(e){var t=typeof e;return t==="function"||!!e&&t=="object"}function gu(e){return!!d1[Xa.call(e)]}function cn(e){return!!f1[Xa.call(e)]}function ra(e){return typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.ownerDocument=="object"}function sa(e){return e!==e}function Re(e){for(var t=0,n=arguments.length;t<n;t++)if(arguments[t]!=null)return arguments[t]}function Be(e,t){return e!=null?e:t}function ui(e,t,n){return e!=null?e:t!=null?t:n}function mu(){return Function.call.apply(Ya,arguments)}function vu(e){if(typeof e=="number")return[e,e,e,e];var t=e.length;return t===2?[e[0],e[1],e[0],e[1]]:t===3?[e[0],e[1],e[2],e[1]]:e}function Pn(e,t){if(!e)throw new Error(t)}function yu(e){return e==null?null:typeof e.trim=="function"?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function xu(e){e[p1]=!0}function so(e){return e[p1]}function Dr(e){function t(o,a){n?i.set(o,a):i.set(a,o)}var n=O(e),i=this;e instanceof Dr?e.each(t):e&&b(e,t)}function K(e){return new Dr(e)}function _u(e,t){for(var n=new e.constructor(e.length+t.length),i=0;i<e.length;i++)n[i]=e[i];var o=e.length;for(i=0;i<t.length;i++)n[i+o]=t[i];return n}function We(){}function On(e,t){var n=new g1(2);return e==null&&(e=0),t==null&&(t=0),n[0]=e,n[1]=t,n}function Fe(e,t){return e[0]=t[0],e[1]=t[1],e}function Tt(e){var t=new g1(2);return t[0]=e[0],t[1]=e[1],t}function Sp(e,t,n){return e[0]=t,e[1]=n,e}function wu(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function la(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e}function dn(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function ua(e){return Math.sqrt(bu(e))}function bu(e){return e[0]*e[0]+e[1]*e[1]}function Ar(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function lo(e,t){var n=ua(t);return n===0?(e[0]=0,e[1]=0):(e[0]=t[0]/n,e[1]=t[1]/n),e}function ha(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}function Mp(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}function Ip(e,t,n,i){return e[0]=t[0]+i*(n[0]-t[0]),e[1]=t[1]+i*(n[1]-t[1]),e}function ge(e,t,n){var i=t[0],o=t[1];return e[0]=n[0]*i+n[2]*o+n[4],e[1]=n[1]*i+n[3]*o+n[5],e}function fn(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function pn(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function Tr(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}function uo(e,t){return{target:e,topTarget:t&&t.topTarget}}function zw(e,t,n){return{type:e,event:n,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which}}function Dp(){}function Rw(e,t,n){if(e[e.rectHover?"rectContain":"contain"](t,n)){for(var i,o=e;o;){if(o.clipPath&&!o.clipPath.contain(t,n))return!1;o.silent&&(i=!0),o=o.parent}return!i||v1}return!1}function Ct(){var e=new jA(6);return ca(e),e}function ca(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function Cr(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function hi(e,t,n){var i=t[0]*n[0]+t[2]*n[1],o=t[1]*n[0]+t[3]*n[1],a=t[0]*n[2]+t[2]*n[3],r=t[1]*n[2]+t[3]*n[3],s=t[0]*n[4]+t[2]*n[5]+t[4],l=t[1]*n[4]+t[3]*n[5]+t[5];return e[0]=i,e[1]=o,e[2]=a,e[3]=r,e[4]=s,e[5]=l,e}function Vt(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e}function ci(e,t,n){var i=t[0],o=t[2],a=t[4],r=t[1],s=t[3],l=t[5],u=Math.sin(n),h=Math.cos(n);return e[0]=i*h+r*u,e[1]=-i*u+r*h,e[2]=o*h+s*u,e[3]=-o*u+h*s,e[4]=h*a+u*l,e[5]=h*l-u*a,e}function Lr(e,t,n){var i=n[0],o=n[1];return e[0]=t[0]*i,e[1]=t[1]*o,e[2]=t[2]*i,e[3]=t[3]*o,e[4]=t[4]*i,e[5]=t[5]*o,e}function kr(e,t){var n=t[0],i=t[2],o=t[4],a=t[1],r=t[3],s=t[5],l=n*r-a*i;return l?(l=1/l,e[0]=r*l,e[1]=-a*l,e[2]=-i*l,e[3]=n*l,e[4]=(i*s-r*o)*l,e[5]=(a*o-n*s)*l,e):null}function Ap(e){var t=Ct();return Cr(t,e),t}function di(e){return e>y1||e<-y1}function Su(e){this._target=e.target,this._life=e.life||1e3,this._delay=e.delay||0,this._initialized=!1,this.loop=e.loop!=null&&e.loop,this.gap=e.gap||0,this.easing=e.easing||"Linear",this.onframe=e.onframe,this.ondestroy=e.ondestroy,this.onrestart=e.onrestart,this._pausedTime=0,this._paused=!1}function Gt(e){return(e=Math.round(e))<0?0:e>255?255:e}function Bw(e){return(e=Math.round(e))<0?0:e>360?360:e}function Pr(e){return e<0?0:e>1?1:e}function Mu(e){return Gt(e.length&&e.charAt(e.length-1)==="%"?parseFloat(e)/100*255:parseInt(e,10))}function ho(e){return Pr(e.length&&e.charAt(e.length-1)==="%"?parseFloat(e)/100:parseFloat(e))}function Iu(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function Nn(e,t,n){return e+(t-e)*n}function Lt(e,t,n,i,o){return e[0]=t,e[1]=n,e[2]=i,e[3]=o,e}function Du(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function co(e,t){Hs&&Du(Hs,t),Hs=S1.put(e,Hs||t.slice())}function vt(e,t){if(e){t=t||[];var n=S1.get(e);if(n)return Du(t,n);var i=(e+="").replace(/ /g,"").toLowerCase();if(i in b1)return Du(t,b1[i]),co(e,t),t;if(i.charAt(0)!=="#"){var o=i.indexOf("("),a=i.indexOf(")");if(o!==-1&&a+1===i.length){var r=i.substr(0,o),s=i.substr(o+1,a-(o+1)).split(","),l=1;switch(r){case"rgba":if(s.length!==4)return void Lt(t,0,0,0,1);l=ho(s.pop());case"rgb":return s.length!==3?void Lt(t,0,0,0,1):(Lt(t,Mu(s[0]),Mu(s[1]),Mu(s[2]),l),co(e,t),t);case"hsla":return s.length!==4?void Lt(t,0,0,0,1):(s[3]=ho(s[3]),Au(s,t),co(e,t),t);case"hsl":return s.length!==3?void Lt(t,0,0,0,1):(Au(s,t),co(e,t),t);default:return}}Lt(t,0,0,0,1)}else{if(i.length===4)return(u=parseInt(i.substr(1),16))>=0&&u<=4095?(Lt(t,(3840&u)>>4|(3840&u)>>8,240&u|(240&u)>>4,15&u|(15&u)<<4,1),co(e,t),t):void Lt(t,0,0,0,1);if(i.length===7){var u=parseInt(i.substr(1),16);return u>=0&&u<=16777215?(Lt(t,(16711680&u)>>16,(65280&u)>>8,255&u,1),co(e,t),t):void Lt(t,0,0,0,1)}}}}function Au(e,t){var n=(parseFloat(e[0])%360+360)%360/360,i=ho(e[1]),o=ho(e[2]),a=o<=.5?o*(i+1):o+i-o*i,r=2*o-a;return t=t||[],Lt(t,Gt(255*Iu(r,a,n+1/3)),Gt(255*Iu(r,a,n)),Gt(255*Iu(r,a,n-1/3)),1),e.length===4&&(t[3]=e[3]),t}function Vw(e){if(e){var t,n,i=e[0]/255,o=e[1]/255,a=e[2]/255,r=Math.min(i,o,a),s=Math.max(i,o,a),l=s-r,u=(s+r)/2;if(l===0)t=0,n=0;else{n=u<.5?l/(s+r):l/(2-s-r);var h=((s-i)/6+l/2)/l,c=((s-o)/6+l/2)/l,d=((s-a)/6+l/2)/l;i===s?t=d-c:o===s?t=1/3+h-d:a===s&&(t=2/3+c-h),t<0&&(t+=1),t>1&&(t-=1)}var f=[360*t,n,u];return e[3]!=null&&f.push(e[3]),f}}function Tp(e,t){var n=vt(e);if(n){for(var i=0;i<3;i++)n[i]=t<0?n[i]*(1-t)|0:(255-n[i])*t+n[i]|0,n[i]>255?n[i]=255:e[i]<0&&(n[i]=0);return gn(n,n.length===4?"rgba":"rgb")}}function Cp(e){var t=vt(e);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function da(e,t,n){if(t&&t.length&&e>=0&&e<=1){n=n||[];var i=e*(t.length-1),o=Math.floor(i),a=Math.ceil(i),r=t[o],s=t[a],l=i-o;return n[0]=Gt(Nn(r[0],s[0],l)),n[1]=Gt(Nn(r[1],s[1],l)),n[2]=Gt(Nn(r[2],s[2],l)),n[3]=Pr(Nn(r[3],s[3],l)),n}}function Lp(e,t,n){if(t&&t.length&&e>=0&&e<=1){var i=e*(t.length-1),o=Math.floor(i),a=Math.ceil(i),r=vt(t[o]),s=vt(t[a]),l=i-o,u=gn([Gt(Nn(r[0],s[0],l)),Gt(Nn(r[1],s[1],l)),Gt(Nn(r[2],s[2],l)),Pr(Nn(r[3],s[3],l))],"rgba");return n?{color:u,leftIndex:o,rightIndex:a,value:i}:u}}function fo(e,t,n,i){if(e=vt(e))return e=Vw(e),t!=null&&(e[0]=Bw(t)),n!=null&&(e[1]=ho(n)),i!=null&&(e[2]=ho(i)),gn(Au(e),"rgba")}function Or(e,t){if((e=vt(e))&&t!=null)return e[3]=Pr(t),gn(e,"rgba")}function gn(e,t){if(e&&e.length){var n=e[0]+","+e[1]+","+e[2];return t!=="rgba"&&t!=="hsva"&&t!=="hsla"||(n+=","+e[3]),t+"("+n+")"}}function Gw(e,t){return e[t]}function Ww(e,t,n){e[t]=n}function Tu(e,t,n){return(t-e)*n+e}function kp(e,t,n){return n>.5?t:e}function Pp(e,t,n,i,o){var a=e.length;if(o==1)for(s=0;s<a;s++)i[s]=Tu(e[s],t[s],n);else for(var r=a&&e[0].length,s=0;s<a;s++)for(var l=0;l<r;l++)i[s][l]=Tu(e[s][l],t[s][l],n)}function Op(e,t,n){var i=e.length,o=t.length;if(i!==o)if(i>o)e.length=o;else for(r=i;r<o;r++)e.push(n===1?t[r]:cd.call(t[r]));for(var a=e[0]&&e[0].length,r=0;r<e.length;r++)if(n===1)isNaN(e[r])&&(e[r]=t[r]);else for(var s=0;s<a;s++)isNaN(e[r][s])&&(e[r][s]=t[r][s])}function Fw(e,t,n){if(e===t)return!0;var i=e.length;if(i!==t.length)return!1;if(n===1){for(a=0;a<i;a++)if(e[a]!==t[a])return!1}else for(var o=e[0].length,a=0;a<i;a++)for(var r=0;r<o;r++)if(e[a][r]!==t[a][r])return!1;return!0}function Np(e,t,n,i,o,a,r,s,l){var u=e.length;if(l==1)for(c=0;c<u;c++)s[c]=Cu(e[c],t[c],n[c],i[c],o,a,r);else for(var h=e[0].length,c=0;c<u;c++)for(var d=0;d<h;d++)s[c][d]=Cu(e[c][d],t[c][d],n[c][d],i[c][d],o,a,r)}function Cu(e,t,n,i,o,a,r){var s=.5*(n-e),l=.5*(i-t);return(2*(t-n)+s+l)*r+(-3*(t-n)-2*s-l)*a+s*o+t}function Hw(e){if(hn(e)){var t=e.length;if(hn(e[0])){for(var n=[],i=0;i<t;i++)n.push(cd.call(e[i]));return n}return cd.call(e)}return e}function Ep(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),"rgba("+e.join(",")+")"}function Zw(e){var t=e[e.length-1].value;return hn(t&&t[0])?2:1}function Uw(e,t,n,i,o,a){var r=e._getter,s=e._setter,l=t==="spline",u=i.length;if(u){var h,c=hn(i[0].value),d=!1,f=!1,p=c?Zw(i):0;i.sort(function(R,H){return R.time-H.time}),h=i[u-1].time;for(var g=[],m=[],v=i[0].value,y=!0,x=0;x<u;x++){g.push(i[x].time/h);var _=i[x].value;if(c&&Fw(_,v,p)||!c&&_===v||(y=!1),v=_,typeof _=="string"){var w=vt(_);w?(_=w,d=!0):f=!0}m.push(_)}if(a||!y){for(var S=m[u-1],x=0;x<u-1;x++)c?Op(m[x],S,p):!isNaN(m[x])||isNaN(S)||f||d||(m[x]=S);c&&Op(r(e._target,o),S,p);var M,I,D,T,A,L,k=0,C=0;if(d)var N=[0,0,0,0];var B=new Su({target:e._target,life:h,loop:e._loop,delay:e._delay,onframe:function(R,H){var z;if(H<0)z=0;else if(H<C){for(z=M=Math.min(k+1,u-1);z>=0&&!(g[z]<=H);z--);z=Math.min(z,u-2)}else{for(z=k;z<u&&!(g[z]>H);z++);z=Math.min(z-1,u-2)}k=z,C=H;var de=g[z+1]-g[z];if(de!==0)if(I=(H-g[z])/de,l)if(T=m[z],D=m[z===0?z:z-1],A=m[z>u-2?u-1:z+1],L=m[z>u-3?u-1:z+2],c)Np(D,T,A,L,I,I*I,I*I*I,r(R,o),p);else{if(d)X=Np(D,T,A,L,I,I*I,I*I*I,N,1),X=Ep(N);else{if(f)return kp(T,A,I);X=Cu(D,T,A,L,I,I*I,I*I*I)}s(R,o,X)}else if(c)Pp(m[z],m[z+1],I,r(R,o),p);else{var X;if(d)Pp(m[z],m[z+1],I,N,1),X=Ep(N);else{if(f)return kp(m[z],m[z+1],I);X=Tu(m[z],m[z+1],I)}s(R,o,X)}},ondestroy:n});return t&&t!=="spline"&&(B.easing=t),B}}}function Q(e,t,n,i){n<0&&(e+=n,n=-n),i<0&&(t+=i,i=-i),this.x=e,this.y=t,this.width=n,this.height=i}function jw(e){for(var t=0;e>=I1;)t|=1&e,e>>=1;return e+t}function zp(e,t,n,i){var o=t+1;if(o===n)return 1;if(i(e[o++],e[t])<0){for(;o<n&&i(e[o],e[o-1])<0;)o++;Xw(e,t,o)}else for(;o<n&&i(e[o],e[o-1])>=0;)o++;return o-t}function Xw(e,t,n){for(n--;t<n;){var i=e[t];e[t++]=e[n],e[n--]=i}}function Rp(e,t,n,i,o){for(i===t&&i++;i<n;i++){for(var a,r=e[i],s=t,l=i;s<l;)o(r,e[a=s+l>>>1])<0?l=a:s=a+1;var u=i-s;switch(u){case 3:e[s+3]=e[s+2];case 2:e[s+2]=e[s+1];case 1:e[s+1]=e[s];break;default:for(;u>0;)e[s+u]=e[s+u-1],u--}e[s]=r}}function Lu(e,t,n,i,o,a){var r=0,s=0,l=1;if(a(e,t[n+o])>0){for(s=i-o;l<s&&a(e,t[n+o+l])>0;)r=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),r+=o,l+=o}else{for(s=o+1;l<s&&a(e,t[n+o-l])<=0;)r=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=r;r=o-l,l=o-u}for(r++;r<l;){var h=r+(l-r>>>1);a(e,t[n+h])>0?r=h+1:l=h}return l}function ku(e,t,n,i,o,a){var r=0,s=0,l=1;if(a(e,t[n+o])<0){for(s=o+1;l<s&&a(e,t[n+o-l])<0;)r=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=r;r=o-l,l=o-u}else{for(s=i-o;l<s&&a(e,t[n+o+l])>=0;)r=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),r+=o,l+=o}for(r++;r<l;){var h=r+(l-r>>>1);a(e,t[n+h])<0?l=h:r=h+1}return l}function qw(e,t){function n(h){var c=a[h],d=r[h],f=a[h+1],p=r[h+1];r[h]=d+p,h===l-3&&(a[h+1]=a[h+2],r[h+1]=r[h+2]),l--;var g=ku(e[f],e,c,d,0,t);c+=g,(d-=g)!==0&&(p=Lu(e[c+d-1],e,f,p,p-1,t))!==0&&(d<=p?i(c,d,f,p):o(c,d,f,p))}function i(h,c,d,f){var p=0;for(p=0;p<c;p++)u[p]=e[h+p];var g=0,m=d,v=h;if(e[v++]=e[m++],--f!=0)if(c!==1){for(var y,x,_,w=s;;){y=0,x=0,_=!1;do if(t(e[m],u[g])<0){if(e[v++]=e[m++],x++,y=0,--f==0){_=!0;break}}else if(e[v++]=u[g++],y++,x=0,--c==1){_=!0;break}while((y|x)<w);if(_)break;do{if((y=ku(e[m],u,g,c,0,t))!==0){for(p=0;p<y;p++)e[v+p]=u[g+p];if(v+=y,g+=y,(c-=y)<=1){_=!0;break}}if(e[v++]=e[m++],--f==0){_=!0;break}if((x=Lu(u[g],e,m,f,0,t))!==0){for(p=0;p<x;p++)e[v+p]=e[m+p];if(v+=x,m+=x,(f-=x)===0){_=!0;break}}if(e[v++]=u[g++],--c==1){_=!0;break}w--}while(y>=Ka||x>=Ka);if(_)break;w<0&&(w=0),w+=2}if((s=w)<1&&(s=1),c===1){for(p=0;p<f;p++)e[v+p]=e[m+p];e[v+f]=u[g]}else{if(c===0)throw new Error;for(p=0;p<c;p++)e[v+p]=u[g+p]}}else{for(p=0;p<f;p++)e[v+p]=e[m+p];e[v+f]=u[g]}else for(p=0;p<c;p++)e[v+p]=u[g+p]}function o(h,c,d,f){var p=0;for(p=0;p<f;p++)u[p]=e[d+p];var g=h+c-1,m=f-1,v=d+f-1,y=0,x=0;if(e[v--]=e[g--],--c!=0)if(f!==1){for(var _=s;;){var w=0,S=0,M=!1;do if(t(u[m],e[g])<0){if(e[v--]=e[g--],w++,S=0,--c==0){M=!0;break}}else if(e[v--]=u[m--],S++,w=0,--f==1){M=!0;break}while((w|S)<_);if(M)break;do{if((w=c-ku(u[m],e,h,c,c-1,t))!=0){for(c-=w,x=(v-=w)+1,y=(g-=w)+1,p=w-1;p>=0;p--)e[x+p]=e[y+p];if(c===0){M=!0;break}}if(e[v--]=u[m--],--f==1){M=!0;break}if((S=f-Lu(e[g],u,0,f,f-1,t))!=0){for(f-=S,x=(v-=S)+1,y=(m-=S)+1,p=0;p<S;p++)e[x+p]=u[y+p];if(f<=1){M=!0;break}}if(e[v--]=e[g--],--c==0){M=!0;break}_--}while(w>=Ka||S>=Ka);if(M)break;_<0&&(_=0),_+=2}if((s=_)<1&&(s=1),f===1){for(x=(v-=c)+1,y=(g-=c)+1,p=c-1;p>=0;p--)e[x+p]=e[y+p];e[v]=u[m]}else{if(f===0)throw new Error;for(y=v-(f-1),p=0;p<f;p++)e[y+p]=u[p]}}else{for(x=(v-=c)+1,y=(g-=c)+1,p=c-1;p>=0;p--)e[x+p]=e[y+p];e[v]=u[m]}else for(y=v-(f-1),p=0;p<f;p++)e[y+p]=u[p]}var a,r,s=Ka,l=0,u=[];a=[],r=[],this.mergeRuns=function(){for(;l>1;){var h=l-2;if(h>=1&&r[h-1]<=r[h]+r[h+1]||h>=2&&r[h-2]<=r[h]+r[h-1])r[h-1]<r[h+1]&&h--;else if(r[h]>r[h+1])break;n(h)}},this.forceMergeRuns=function(){for(;l>1;){var h=l-2;h>0&&r[h-1]<r[h+1]&&h--,n(h)}},this.pushRun=function(h,c){a[l]=h,r[l]=c,l+=1}}function Nr(e,t,n,i){n||(n=0),i||(i=e.length);var o=i-n;if(!(o<2)){var a=0;if(o<I1)return a=zp(e,n,i,t),void Rp(e,n,i,n+a,t);var r=new qw(e,t),s=jw(o);do{if((a=zp(e,n,i,t))<s){var l=o;l>s&&(l=s),Rp(e,n,n+l,n+a,t),a=l}r.pushRun(n,a),r.mergeRuns(),o-=a,n+=a}while(o!==0);r.forceMergeRuns()}}function Bp(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}function Yw(e,t,n){var i=t.x==null?0:t.x,o=t.x2==null?1:t.x2,a=t.y==null?0:t.y,r=t.y2==null?0:t.y2;return t.global||(i=i*n.width+n.x,o=o*n.width+n.x,a=a*n.height+n.y,r=r*n.height+n.y),i=isNaN(i)?0:i,o=isNaN(o)?1:o,a=isNaN(a)?0:a,r=isNaN(r)?0:r,e.createLinearGradient(i,a,o,r)}function $w(e,t,n){var i=n.width,o=n.height,a=Math.min(i,o),r=t.x==null?.5:t.x,s=t.y==null?.5:t.y,l=t.r==null?.5:t.r;return t.global||(r=r*i+n.x,s=s*o+n.y,l*=a),e.createRadialGradient(r,s,0,r,s,l)}function Kw(){return!1}function Vp(e,t,n){var i=ko(),o=t.getWidth(),a=t.getHeight(),r=i.style;return r&&(r.position="absolute",r.left=0,r.top=0,r.width=o+"px",r.height=a+"px",i.setAttribute("data-zr-dom-id",e)),i.width=o*n,i.height=a*n,i}function Jw(e){if(typeof e=="string"){var t=xd.get(e);return t&&t.image}return e}function Gp(e,t,n,i,o){if(e){if(typeof e=="string"){if(t&&t.__zrImageSrc===e||!n)return t;var a=xd.get(e),r={hostEl:n,cb:i,cbPayload:o};return a?!Er(t=a.image)&&a.pending.push(r):(!t&&(t=new Image),t.onload=Qw,xd.put(e,t.__cachedImgObj={image:t,pending:[r]}),t.src=t.__zrImageSrc=e),t}return e}return t}function Qw(){var e=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var n=e.pending[t],i=n.cb;i&&i(this,n.cbPayload),n.hostEl.dirty()}e.pending.length=0}function Er(e){return e&&e.width&&e.height}function Wt(e,t){var n=e+":"+(t=t||Qa);if($s[n])return $s[n];for(var i=(e+"").split(`
`),o=0,a=0,r=i.length;a<r;a++)o=Math.max(ib(i[a],t).width,o);return _d>QA&&(_d=0,$s={}),_d++,$s[n]=o,o}function mn(e,t,n,i,o,a,r){return a?tb(e,t,n,i,o,a,r):eb(e,t,n,i,o,r)}function eb(e,t,n,i,o,a){var r=Up(e,t,o,a),s=Wt(e,t);o&&(s+=o[1]+o[3]);var l=r.outerHeight,u=new Q(fa(0,s,n),pa(0,l,i),s,l);return u.lineHeight=r.lineHeight,u}function tb(e,t,n,i,o,a,r){var s=Ou(e,{rich:a,truncate:r,font:t,textAlign:n,textPadding:o}),l=s.outerWidth,u=s.outerHeight;return new Q(fa(0,l,n),pa(0,u,i),l,u)}function fa(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function pa(e,t,n){return n==="middle"?e-=t/2:n==="bottom"&&(e-=t),e}function Pu(e,t,n){var i=t.x,o=t.y,a=t.height,r=t.width,s=a/2,l="left",u="top";switch(e){case"left":i-=n,o+=s,l="right",u="middle";break;case"right":i+=n+r,o+=s,u="middle";break;case"top":i+=r/2,o-=n,l="center",u="bottom";break;case"bottom":i+=r/2,o+=a+n,l="center";break;case"inside":i+=r/2,o+=s,l="center",u="middle";break;case"insideLeft":i+=n,o+=s,u="middle";break;case"insideRight":i+=r-n,o+=s,l="right",u="middle";break;case"insideTop":i+=r/2,o+=n,l="center";break;case"insideBottom":i+=r/2,o+=a-n,l="center",u="bottom";break;case"insideTopLeft":i+=n,o+=n;break;case"insideTopRight":i+=r-n,o+=n,l="right";break;case"insideBottomLeft":i+=n,o+=a-n,u="bottom";break;case"insideBottomRight":i+=r-n,o+=a-n,l="right",u="bottom"}return{x:i,y:o,textAlign:l,textVerticalAlign:u}}function Wp(e,t,n,i,o){if(!t)return"";var a=(e+"").split(`
`);o=Fp(t,n,i,o);for(var r=0,s=a.length;r<s;r++)a[r]=Hp(a[r],o);return a.join(`
`)}function Fp(e,t,n,i){(i=G({},i)).font=t;var n=Be(n,"...");i.maxIterations=Be(i.maxIterations,2);var o=i.minChar=Be(i.minChar,0);i.cnCharWidth=Wt("\u56FD",t);var a=i.ascCharWidth=Wt("a",t);i.placeholder=Be(i.placeholder,"");for(var r=e=Math.max(0,e-1),s=0;s<o&&r>=a;s++)r-=a;var l=Wt(n);return l>r&&(n="",l=0),r=e-l,i.ellipsis=n,i.ellipsisWidth=l,i.contentWidth=r,i.containerWidth=e,i}function Hp(e,t){var n=t.containerWidth,i=t.font,o=t.contentWidth;if(!n)return"";var a=Wt(e,i);if(a<=n)return e;for(var r=0;;r++){if(a<=o||r>=t.maxIterations){e+=t.ellipsis;break}var s=r===0?nb(e,o,t.ascCharWidth,t.cnCharWidth):a>0?Math.floor(e.length*o/a):0;a=Wt(e=e.substr(0,s),i)}return e===""&&(e=t.placeholder),e}function nb(e,t,n,i){for(var o=0,a=0,r=e.length;a<r&&o<t;a++){var s=e.charCodeAt(a);o+=0<=s&&s<=127?n:i}return a}function Zp(e){return Wt("\u56FD",e)}function ib(e,t){return bd.measureText(e,t)}function Up(e,t,n,i){e!=null&&(e+="");var o=Zp(t),a=e?e.split(`
`):[],r=a.length*o,s=r;if(n&&(s+=n[0]+n[2]),e&&i){var l=i.outerHeight,u=i.outerWidth;if(l!=null&&s>l)e="",a=[];else if(u!=null)for(var h=Fp(u-(n?n[1]+n[3]:0),t,i.ellipsis,{minChar:i.minChar,placeholder:i.placeholder}),c=0,d=a.length;c<d;c++)a[c]=Hp(a[c],h)}return{lines:a,height:r,outerHeight:s,lineHeight:o}}function Ou(e,t){var n={lines:[],width:0,height:0};if(e!=null&&(e+=""),!e)return n;for(var i,o=wd.lastIndex=0;(i=wd.exec(e))!=null;){var a=i.index;a>o&&Nu(n,e.substring(o,a)),Nu(n,i[2],i[1]),o=wd.lastIndex}o<e.length&&Nu(n,e.substring(o,e.length));var r=n.lines,s=0,l=0,u=[],h=t.textPadding,c=t.truncate,d=c&&c.outerWidth,f=c&&c.outerHeight;for(h&&(d!=null&&(d-=h[1]+h[3]),f!=null&&(f-=h[0]+h[2])),L=0;L<r.length;L++){for(var p=r[L],g=0,m=0,v=0;v<p.tokens.length;v++){var y=(k=p.tokens[v]).styleName&&t.rich[k.styleName]||{},x=k.textPadding=y.textPadding,_=k.font=y.font||t.font,w=k.textHeight=Be(y.textHeight,Zp(_));if(x&&(w+=x[0]+x[2]),k.height=w,k.lineHeight=ui(y.textLineHeight,t.textLineHeight,w),k.textAlign=y&&y.textAlign||t.textAlign,k.textVerticalAlign=y&&y.textVerticalAlign||"middle",f!=null&&s+k.lineHeight>f)return{lines:[],width:0,height:0};k.textWidth=Wt(k.text,_);var S=y.textWidth,M=S==null||S==="auto";if(typeof S=="string"&&S.charAt(S.length-1)==="%")k.percentWidth=S,u.push(k),S=0;else{if(M){S=k.textWidth;var I=y.textBackgroundColor,D=I&&I.image;D&&Er(D=Jw(D))&&(S=Math.max(S,D.width*w/D.height))}var T=x?x[1]+x[3]:0;S+=T;var A=d!=null?d-m:null;A!=null&&A<S&&(!M||A<T?(k.text="",k.textWidth=S=0):(k.text=Wp(k.text,A-T,_,c.ellipsis,{minChar:c.minChar}),k.textWidth=Wt(k.text,_),S=k.textWidth+T))}m+=k.width=S,y&&(g=Math.max(g,k.lineHeight))}p.width=m,p.lineHeight=g,s+=g,l=Math.max(l,m)}n.outerWidth=n.width=Be(t.textWidth,l),n.outerHeight=n.height=Be(t.textHeight,s),h&&(n.outerWidth+=h[1]+h[3],n.outerHeight+=h[0]+h[2]);for(var L=0;L<u.length;L++){var k=u[L],C=k.percentWidth;k.width=parseInt(C,10)/100*l}return n}function Nu(e,t,n){for(var i=t==="",o=t.split(`
`),a=e.lines,r=0;r<o.length;r++){var s=o[r],l={styleName:n,text:s,isLineHolder:!s&&!i};if(r)a.push({tokens:[l]});else{var u=(a[a.length-1]||(a[0]={tokens:[]})).tokens,h=u.length;h===1&&u[0].isLineHolder?u[0]=l:(s||!h||i)&&u.push(l)}}}function jp(e){var t=(e.fontSize||e.fontFamily)&&[e.fontStyle,e.fontWeight,(e.fontSize||12)+"px",e.fontFamily||"sans-serif"].join(" ");return t&&yu(t)||e.textFont||e.font}function Xp(e,t){var n,i,o,a,r=t.x,s=t.y,l=t.width,u=t.height,h=t.r;l<0&&(r+=l,l=-l),u<0&&(s+=u,u=-u),typeof h=="number"?n=i=o=a=h:h instanceof Array?h.length===1?n=i=o=a=h[0]:h.length===2?(n=o=h[0],i=a=h[1]):h.length===3?(n=h[0],i=a=h[1],o=h[2]):(n=h[0],i=h[1],o=h[2],a=h[3]):n=i=o=a=0;var c;n+i>l&&(n*=l/(c=n+i),i*=l/c),o+a>l&&(o*=l/(c=o+a),a*=l/c),i+o>u&&(i*=u/(c=i+o),o*=u/c),n+a>u&&(n*=u/(c=n+a),a*=u/c),e.moveTo(r+n,s),e.lineTo(r+l-i,s),i!==0&&e.arc(r+l-i,s+i,i,-Math.PI/2,0),e.lineTo(r+l,s+u-o),o!==0&&e.arc(r+l-o,s+u-o,o,0,Math.PI/2),e.lineTo(r+a,s+u),a!==0&&e.arc(r+a,s+u-a,a,Math.PI/2,Math.PI),e.lineTo(r,s+n),n!==0&&e.arc(r+n,s+n,n,Math.PI,1.5*Math.PI)}function ga(e){return qp(e),b(e.rich,qp),e}function qp(e){if(e){e.font=jp(e);var t=e.textAlign;t==="middle"&&(t="center"),e.textAlign=t==null||eT[t]?t:"left";var n=e.textVerticalAlign||e.textBaseline;n==="center"&&(n="middle"),e.textVerticalAlign=n==null||tT[n]?n:"top",e.textPadding&&(e.textPadding=vu(e.textPadding))}}function Yp(e,t,n,i,o){i.rich?ab(e,t,n,i,o):ob(e,t,n,i,o)}function ob(e,t,n,i,o){var a=me(t,"font",i.font||Qa),r=i.textPadding,s=e.__textCotentBlock;s&&!e.__dirty||(s=e.__textCotentBlock=Up(n,a,r,i.truncate));var l=s.outerHeight,u=s.lines,h=s.lineHeight,c=Kp(l,i,o),d=c.baseX,f=c.baseY,p=c.textAlign,g=c.textVerticalAlign;$p(t,i,o,d,f);var m=pa(f,l,g),v=d,y=m,x=zu(i);if(x||r){var _=Wt(n,a);r&&(_+=r[1]+r[3]);var w=fa(d,_,p);x&&Ru(e,t,i,w,m,_,l),r&&(v=eg(d,p,r),y+=r[0])}me(t,"textAlign",p||"left"),me(t,"textBaseline","middle"),me(t,"shadowBlur",i.textShadowBlur||0),me(t,"shadowColor",i.textShadowColor||"transparent"),me(t,"shadowOffsetX",i.textShadowOffsetX||0),me(t,"shadowOffsetY",i.textShadowOffsetY||0),y+=h/2;var S=i.textStrokeWidth,M=Bu(i.textStroke,S),I=Jp(i.textFill);M&&(me(t,"lineWidth",S),me(t,"strokeStyle",M)),I&&me(t,"fillStyle",I);for(var D=0;D<u.length;D++)M&&t.strokeText(u[D],v,y),I&&t.fillText(u[D],v,y),y+=h}function ab(e,t,n,i,o){var a=e.__textCotentBlock;a&&!e.__dirty||(a=e.__textCotentBlock=Ou(n,i)),rb(e,t,a,i,o)}function rb(e,t,n,i,o){var a=n.width,r=n.outerWidth,s=n.outerHeight,l=i.textPadding,u=Kp(s,i,o),h=u.baseX,c=u.baseY,d=u.textAlign,f=u.textVerticalAlign;$p(t,i,o,h,c);var p=fa(h,r,d),g=pa(c,s,f),m=p,v=g;l&&(m+=l[3],v+=l[0]);var y=m+a;zu(i)&&Ru(e,t,i,p,g,r,s);for(var x=0;x<n.lines.length;x++){for(var _,w=n.lines[x],S=w.tokens,M=S.length,I=w.lineHeight,D=w.width,T=0,A=m,L=y,k=M-1;T<M&&(!(_=S[T]).textAlign||_.textAlign==="left");)Eu(e,t,_,i,I,v,A,"left"),D-=_.width,A+=_.width,T++;for(;k>=0&&(_=S[k]).textAlign==="right";)Eu(e,t,_,i,I,v,L,"right"),D-=_.width,L-=_.width,k--;for(A+=(a-(A-m)-(y-L)-D)/2;T<=k;)Eu(e,t,_=S[T],i,I,v,A+_.width/2,"center"),A+=_.width,T++;v+=I}}function $p(e,t,n,i,o){if(n&&t.textRotation){var a=t.textOrigin;a==="center"?(i=n.width/2+n.x,o=n.height/2+n.y):a&&(i=a[0]+n.x,o=a[1]+n.y),e.translate(i,o),e.rotate(-t.textRotation),e.translate(-i,-o)}}function Eu(e,t,n,i,o,a,r,s){var l=i.rich[n.styleName]||{},u=n.textVerticalAlign,h=a+o/2;u==="top"?h=a+n.height/2:u==="bottom"&&(h=a+o-n.height/2),!n.isLineHolder&&zu(l)&&Ru(e,t,l,s==="right"?r-n.width:s==="center"?r-n.width/2:r,h-n.height/2,n.width,n.height);var c=n.textPadding;c&&(r=eg(r,s,c),h-=n.height/2-c[2]-n.textHeight/2),me(t,"shadowBlur",ui(l.textShadowBlur,i.textShadowBlur,0)),me(t,"shadowColor",l.textShadowColor||i.textShadowColor||"transparent"),me(t,"shadowOffsetX",ui(l.textShadowOffsetX,i.textShadowOffsetX,0)),me(t,"shadowOffsetY",ui(l.textShadowOffsetY,i.textShadowOffsetY,0)),me(t,"textAlign",s),me(t,"textBaseline","middle"),me(t,"font",n.font||Qa);var d=Bu(l.textStroke||i.textStroke,p),f=Jp(l.textFill||i.textFill),p=Be(l.textStrokeWidth,i.textStrokeWidth);d&&(me(t,"lineWidth",p),me(t,"strokeStyle",d),t.strokeText(n.text,r,h)),f&&(me(t,"fillStyle",f),t.fillText(n.text,r,h))}function zu(e){return e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor}function Ru(e,t,n,i,o,a,r){var s=n.textBackgroundColor,l=n.textBorderWidth,u=n.textBorderColor,h=xe(s);if(me(t,"shadowBlur",n.textBoxShadowBlur||0),me(t,"shadowColor",n.textBoxShadowColor||"transparent"),me(t,"shadowOffsetX",n.textBoxShadowOffsetX||0),me(t,"shadowOffsetY",n.textBoxShadowOffsetY||0),h||l&&u){t.beginPath();var c=n.textBorderRadius;c?Xp(t,{x:i,y:o,width:a,height:r,r:c}):t.rect(i,o,a,r),t.closePath()}if(h)me(t,"fillStyle",s),t.fill();else if(Y(s)){var d=s.image;(d=Gp(d,null,e,sb,s))&&Er(d)&&t.drawImage(d,i,o,a,r)}l&&u&&(me(t,"lineWidth",l),me(t,"strokeStyle",u),t.stroke())}function sb(e,t){t.image=e}function Kp(e,t,n){var i=t.x||0,o=t.y||0,a=t.textAlign,r=t.textVerticalAlign;if(n){var s=t.textPosition;if(s instanceof Array)i=n.x+Qp(s[0],n.width),o=n.y+Qp(s[1],n.height);else{var l=Pu(s,n,t.textDistance);i=l.x,o=l.y,a=a||l.textAlign,r=r||l.textVerticalAlign}var u=t.textOffset;u&&(i+=u[0],o+=u[1])}return{baseX:i,baseY:o,textAlign:a,textVerticalAlign:r}}function me(e,t,n){return e[t]=D1(e,t,n),e[t]}function Bu(e,t){return e==null||t<=0||e==="transparent"||e==="none"?null:e.image||e.colorStops?"#000":e}function Jp(e){return e==null||e==="none"?null:e.image||e.colorStops?"#000":e}function Qp(e,t){return typeof e=="string"?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function eg(e,t,n){return t==="right"?e-n[1]:t==="center"?e+n[3]/2-n[1]/2:e+n[3]}function tg(e,t){return e!=null&&(e||t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor||t.textPadding)}function tt(e){e=e||{},Mn.call(this,e);for(var t in e)e.hasOwnProperty(t)&&t!=="style"&&(this[t]=e[t]);this.style=new ki(e.style,this),this._rect=null,this.__clipPaths=[]}function Ze(e){tt.call(this,e)}function zr(e){return parseInt(e,10)}function lb(e){return!!e&&(!!e.__builtin__||typeof e.resize=="function"&&typeof e.refresh=="function")}function ub(e,t,n){return Md.copy(e.getBoundingRect()),e.transform&&Md.applyTransform(e.transform),Id.width=t,Id.height=n,!Md.intersect(Id)}function hb(e,t){if(e==t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!0}function cb(e,t){for(var n=0;n<e.length;n++){var i=e[n];i.setTransform(t),t.beginPath(),i.buildPath(t,i.shape),t.clip(),i.restoreTransform(t)}}function db(e,t){var n=document.createElement("div");return n.style.cssText=["position:relative","overflow:hidden","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}function fb(e){return e.getBoundingClientRect?e.getBoundingClientRect():{left:0,top:0}}function Vu(e,t,n,i){return n=n||{},i||!ee.canvasSupported?ng(e,t,n):ee.browser.firefox&&t.layerX!=null&&t.layerX!==t.offsetX?(n.zrX=t.layerX,n.zrY=t.layerY):t.offsetX!=null?(n.zrX=t.offsetX,n.zrY=t.offsetY):ng(e,t,n),n}function ng(e,t,n){var i=fb(e);n.zrX=t.clientX-i.left,n.zrY=t.clientY-i.top}function fi(e,t,n){if((t=t||window.event).zrX!=null)return t;var i=t.type;if(i&&i.indexOf("touch")>=0){var o=i!="touchend"?t.targetTouches[0]:t.changedTouches[0];o&&Vu(e,o,t,n)}else Vu(e,t,t,n),t.zrDelta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3;var a=t.button;return t.which==null&&a!==void 0&&nT.test(t.type)&&(t.which=1&a?1:2&a?3:4&a?2:0),t}function Rr(e,t,n){Ad?e.addEventListener(t,n):e.attachEvent("on"+t,n)}function pb(e,t,n){Ad?e.removeEventListener(t,n):e.detachEvent("on"+t,n)}function Gu(e){return e.which>1}function ig(e){var t=e[1][0]-e[0][0],n=e[1][1]-e[0][1];return Math.sqrt(t*t+n*n)}function gb(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}function og(e){return e==="mousewheel"&&ee.browser.firefox?"DOMMouseScroll":e}function Wu(e,t,n){var i=e._gestureMgr;n==="start"&&i.clear();var o=i.recognize(t,e.handler.findHover(t.zrX,t.zrY,null).target,e.dom);if(n==="end"&&i.clear(),o){var a=o.type;t.gestureEvent=a,e.handler.dispatchToElement({target:o.target},a,o.event)}}function Fu(e){e._touching=!0,clearTimeout(e._touchTimer),e._touchTimer=setTimeout(function(){e._touching=!1},700)}function ag(e){var t=e.pointerType;return t==="pen"||t==="touch"}function mb(e){function t(n,i){return function(){if(!i._touching)return n.apply(i,arguments)}}b(Ld,function(n){e._handlers[n]=U(ct[n],e)}),b(A1,function(n){e._handlers[n]=U(ct[n],e)}),b(Qs,function(n){e._handlers[n]=t(ct[n],e)})}function Hu(e){function t(n,i){b(n,function(o){Rr(e,og(o),i._handlers[o])},i)}Ne.call(this),this.dom=e,this._touching=!1,this._touchTimer,this._gestureMgr=new Td,this._handlers={},mb(this),ee.pointerEventsSupported?t(A1,this):(ee.touchEventsSupported&&t(Ld,this),t(Qs,this))}function Zu(e,t){var n=new kd(c1(),e,t);return Pi[n.id]=n,n}function Uu(e,t){el[e]=t}function vb(e){delete Pi[e]}function Ue(e){return e instanceof Array?e:e==null?[]:[e]}function pi(e,t,n){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var i=0,o=n.length;i<o;i++){var a=n[i];!e.emphasis[t].hasOwnProperty(a)&&e[t].hasOwnProperty(a)&&(e.emphasis[t][a]=e[t][a])}}}function ma(e){return!No(e)||rT(e)||e instanceof Date?e:e.value}function yb(e){return No(e)&&!(e instanceof Array)}function ju(e,t){t=(t||[]).slice();var n=P(e||[],function(i,o){return{exist:i}});return Oo(t,function(i,o){if(No(i)){for(a=0;a<n.length;a++)if(!n[a].option&&i.id!=null&&n[a].exist.id===i.id+"")return n[a].option=i,void(t[o]=null);for(var a=0;a<n.length;a++){var r=n[a].exist;if(!(n[a].option||r.id!=null&&i.id!=null||i.name==null||Br(i)||Br(r)||r.name!==i.name+""))return n[a].option=i,void(t[o]=null)}}}),Oo(t,function(i,o){if(No(i)){for(var a=0;a<n.length;a++){var r=n[a].exist;if(!n[a].option&&!Br(r)&&i.id==null){n[a].option=i;break}}a>=n.length&&n.push({option:i})}}),n}function rg(e){var t=K();Oo(e,function(n,i){var o=n.exist;o&&t.set(o.id,n)}),Oo(e,function(n,i){var o=n.option;Pn(!o||o.id==null||!t.get(o.id)||t.get(o.id)===n,"id duplicates: "+(o&&o.id)),o&&o.id!=null&&t.set(o.id,n),!n.keyInfo&&(n.keyInfo={})}),Oo(e,function(n,i){var o=n.exist,a=n.option,r=n.keyInfo;if(No(a)){if(r.name=a.name!=null?a.name+"":o?o.name:C1+i,o)r.id=o.id;else if(a.id!=null)r.id=a.id+"";else{var s=0;do r.id="\0"+r.name+"\0"+s++;while(t.get(r.id))}t.set(r.id,n)}})}function Xu(e){var t=e.name;return!(!t||!t.indexOf(C1))}function Br(e){return No(e)&&e.id&&(e.id+"").indexOf("\0_ec_\0")===0}function xb(e,t){function n(r,s,l){for(var u=0,h=r.length;u<h;u++)for(var c=r[u].seriesId,d=Ue(r[u].dataIndex),f=l&&l[c],p=0,g=d.length;p<g;p++){var m=d[p];f&&f[m]?f[m]=null:(s[c]||(s[c]={}))[m]=1}}function i(r,s){var l=[];for(var u in r)if(r.hasOwnProperty(u)&&r[u]!=null)if(s)l.push(+u);else{var h=i(r[u],!0);h.length&&l.push({seriesId:u,dataIndex:h})}return l}var o={},a={};return n(e||[],o),n(t||[],a,o),[i(o),i(a)]}function Vr(e,t){return t.dataIndexInside!=null?t.dataIndexInside:t.dataIndex!=null?O(t.dataIndex)?P(t.dataIndex,function(n){return e.indexOfRawIndex(n)}):e.indexOfRawIndex(t.dataIndex):t.name!=null?O(t.name)?P(t.name,function(n){return e.indexOfName(n)}):e.indexOfName(t.name):void 0}function Ft(){var e="__\0ec_inner_"+sT+++"_"+Math.random().toFixed(5);return function(t){return t[e]||(t[e]={})}}function Gr(e,t,n){if(xe(t)){var i={};i[t+"Index"]=0,t=i}var o=n&&n.defaultMainType;!o||qu(t,o+"Index")||qu(t,o+"Id")||qu(t,o+"Name")||(t[o+"Index"]=0);var a={};return Oo(t,function(r,s){var r=t[s];if(s!=="dataIndex"&&s!=="dataIndexInside"){var l=s.match(/^(\w+)(Index|Id|Name)$/)||[],u=l[1],h=(l[2]||"").toLowerCase();if(!(!u||!h||r==null||h==="index"&&r==="none"||n&&n.includeMainTypes&&ne(n.includeMainTypes,u)<0)){var c={mainType:u};h==="index"&&r==="all"||(c[h]=r);var d=e.queryComponents(c);a[u+"Models"]=d,a[u+"Model"]=d[0]}}else a[s]=r}),a}function qu(e,t){return e&&e.hasOwnProperty(t)}function sg(e,t,n){e.setAttribute?e.setAttribute(t,n):e[t]=n}function _b(e,t){return e.getAttribute?e.getAttribute(t):e[t]}function En(e){var t={main:"",sub:""};return e&&(e=e.split(lT),t.main=e[0]||"",t.sub=e[1]||""),t}function wb(e){Pn(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function va(e,t){e.$constructor=e,e.extend=function(n){var i=this,o=function(){n.$constructor?n.$constructor.apply(this,arguments):i.apply(this,arguments)};return G(o.prototype,n),o.extend=this.extend,o.superCall=bb,o.superApply=Sb,he(o,this),o.superClass=i,o}}function Wr(e){var t=["__\0is_clz",uT++,Math.random().toFixed(3)].join("_");e.prototype[t]=!0,e.isInstance=function(n){return!(!n||!n[t])}}function bb(e,t){var n=mu(arguments,2);return this.superClass.prototype[t].apply(e,n)}function Sb(e,t,n){return this.superClass.prototype[t].apply(e,n)}function Fr(e,t){function n(a){var r=i[a.main];return r&&r[Oi]||((r=i[a.main]={})[Oi]=!0),r}t=t||{};var i={};if(e.registerClass=function(a,r){return r&&(wb(r),(r=En(r)).sub?r.sub!==Oi&&(n(r)[r.sub]=a):i[r.main]=a),a},e.getClass=function(a,r,s){var l=i[a];if(l&&l[Oi]&&(l=r?l[r]:null),s&&!l)throw new Error(r?"Component "+a+"."+(r||"")+" not exists. Load it first.":a+".type should be specified.");return l},e.getClassesByMainType=function(a){a=En(a);var r=[],s=i[a.main];return s&&s[Oi]?b(s,function(l,u){u!==Oi&&r.push(l)}):r.push(s),r},e.hasClass=function(a){return a=En(a),!!i[a.main]},e.getAllClassMainTypes=function(){var a=[];return b(i,function(r,s){a.push(s)}),a},e.hasSubTypes=function(a){a=En(a);var r=i[a.main];return r&&r[Oi]},e.parseClassType=En,t.registerWhenExtend){var o=e.extend;o&&(e.extend=function(a){var r=o.call(this,a);return e.registerClass(r,a.type)})}return e}function zn(e){return e>-nl&&e<nl}function lg(e){return e>nl||e<-nl}function Ke(e,t,n,i,o){var a=1-o;return a*a*(a*e+3*o*t)+o*o*(o*i+3*a*n)}function ug(e,t,n,i,o){var a=1-o;return 3*(((t-e)*a+2*(n-t)*o)*a+(i-n)*o*o)}function Mb(e,t,n,i,o,a){var r=i+3*(t-n)-e,s=3*(n-2*t+e),l=3*(t-e),u=e-o,h=s*s-3*r*l,c=s*l-9*r*u,d=l*l-3*s*u,f=0;if(zn(h)&&zn(c))zn(s)?a[0]=0:(I=-l/s)>=0&&I<=1&&(a[f++]=I);else{var p=c*c-4*h*d;if(zn(p)){var g=c/h,m=-g/2;(I=-s/r+g)>=0&&I<=1&&(a[f++]=I),m>=0&&m<=1&&(a[f++]=m)}else if(p>0){var v=Un(p),y=h*s+1.5*r*(-c+v),x=h*s+1.5*r*(-c-v);(I=(-s-((y=y<0?-tl(-y,il):tl(y,il))+(x=x<0?-tl(-x,il):tl(x,il))))/(3*r))>=0&&I<=1&&(a[f++]=I)}else{var _=(2*h*s-3*r*c)/(2*Un(h*h*h)),w=Math.acos(_)/3,S=Un(h),M=Math.cos(w),I=(-s-2*S*M)/(3*r),m=(-s+S*(M+P1*Math.sin(w)))/(3*r),D=(-s+S*(M-P1*Math.sin(w)))/(3*r);I>=0&&I<=1&&(a[f++]=I),m>=0&&m<=1&&(a[f++]=m),D>=0&&D<=1&&(a[f++]=D)}}return f}function hg(e,t,n,i,o){var a=6*n-12*t+6*e,r=9*t+3*i-3*e-9*n,s=3*t-3*e,l=0;if(zn(r))lg(a)&&(c=-s/a)>=0&&c<=1&&(o[l++]=c);else{var u=a*a-4*r*s;if(zn(u))o[0]=-a/(2*r);else if(u>0){var h=Un(u),c=(-a+h)/(2*r),d=(-a-h)/(2*r);c>=0&&c<=1&&(o[l++]=c),d>=0&&d<=1&&(o[l++]=d)}}return l}function cg(e,t,n,i,o,a){var r=(t-e)*o+e,s=(n-t)*o+t,l=(i-n)*o+n,u=(s-r)*o+r,h=(l-s)*o+s,c=(h-u)*o+u;a[0]=e,a[1]=r,a[2]=u,a[3]=c,a[4]=c,a[5]=h,a[6]=l,a[7]=i}function Ib(e,t,n,i,o,a,r,s,l,u,h){var c,d,f,p,g,m=.005,v=1/0;Yt[0]=l,Yt[1]=u;for(var y=0;y<1;y+=.05)wt[0]=Ke(e,n,o,r,y),wt[1]=Ke(t,i,a,s,y),(p=Fn(Yt,wt))<v&&(c=y,v=p);v=1/0;for(var x=0;x<32&&!(m<k1);x++)d=c-m,f=c+m,wt[0]=Ke(e,n,o,r,d),wt[1]=Ke(t,i,a,s,d),p=Fn(wt,Yt),d>=0&&p<v?(c=d,v=p):(zo[0]=Ke(e,n,o,r,f),zo[1]=Ke(t,i,a,s,f),g=Fn(zo,Yt),f<=1&&g<v?(c=f,v=g):m*=.5);return h&&(h[0]=Ke(e,n,o,r,c),h[1]=Ke(t,i,a,s,c)),Un(v)}function je(e,t,n,i){var o=1-i;return o*(o*e+2*i*t)+i*i*n}function Yu(e,t,n,i){return 2*((1-i)*(t-e)+i*(n-t))}function Db(e,t,n,i,o){var a=e-2*t+n,r=2*(t-e),s=e-i,l=0;if(zn(a))lg(r)&&(c=-s/r)>=0&&c<=1&&(o[l++]=c);else{var u=r*r-4*a*s;if(zn(u))(c=-r/(2*a))>=0&&c<=1&&(o[l++]=c);else if(u>0){var h=Un(u),c=(-r+h)/(2*a),d=(-r-h)/(2*a);c>=0&&c<=1&&(o[l++]=c),d>=0&&d<=1&&(o[l++]=d)}}return l}function dg(e,t,n){var i=e+n-2*t;return i===0?.5:(e-t)/i}function $u(e,t,n,i,o){var a=(t-e)*i+e,r=(n-t)*i+t,s=(r-a)*i+a;o[0]=e,o[1]=a,o[2]=s,o[3]=s,o[4]=r,o[5]=n}function Ab(e,t,n,i,o,a,r,s,l){var u,h=.005,c=1/0;Yt[0]=r,Yt[1]=s;for(var d=0;d<1;d+=.05)wt[0]=je(e,n,o,d),wt[1]=je(t,i,a,d),(m=Fn(Yt,wt))<c&&(u=d,c=m);c=1/0;for(var f=0;f<32&&!(h<k1);f++){var p=u-h,g=u+h;wt[0]=je(e,n,o,p),wt[1]=je(t,i,a,p);var m=Fn(wt,Yt);if(p>=0&&m<c)u=p,c=m;else{zo[0]=je(e,n,o,g),zo[1]=je(t,i,a,g);var v=Fn(zo,Yt);g<=1&&v<c?(u=g,c=v):h*=.5}}return l&&(l[0]=je(e,n,o,u),l[1]=je(t,i,a,u)),Un(c)}function fg(e,t,n){if(e.length!==0){var i,o=e[0],a=o[0],r=o[0],s=o[1],l=o[1];for(i=1;i<e.length;i++)o=e[i],a=ot(a,o[0]),r=at(r,o[0]),s=ot(s,o[1]),l=at(l,o[1]);t[0]=a,t[1]=s,n[0]=r,n[1]=l}}function pg(e,t,n,i,o,a){o[0]=ot(e,n),o[1]=ot(t,i),a[0]=at(e,n),a[1]=at(t,i)}function Tb(e,t,n,i,o,a,r,s,l,u){var h,c=hg,d=Ke,f=c(e,n,o,r,O1);for(l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0,h=0;h<f;h++){var p=d(e,n,o,r,O1[h]);l[0]=ot(p,l[0]),u[0]=at(p,u[0])}for(f=c(t,i,a,s,N1),h=0;h<f;h++){var g=d(t,i,a,s,N1[h]);l[1]=ot(g,l[1]),u[1]=at(g,u[1])}l[0]=ot(e,l[0]),u[0]=at(e,u[0]),l[0]=ot(r,l[0]),u[0]=at(r,u[0]),l[1]=ot(t,l[1]),u[1]=at(t,u[1]),l[1]=ot(s,l[1]),u[1]=at(s,u[1])}function Cb(e,t,n,i,o,a,r,s){var l=dg,u=je,h=at(ot(l(e,n,o),1),0),c=at(ot(l(t,i,a),1),0),d=u(e,n,o,h),f=u(t,i,a,c);r[0]=ot(e,o,d),r[1]=ot(t,a,f),s[0]=at(e,o,d),s[1]=at(t,a,f)}function Lb(e,t,n,i,o,a,r,s,l){var u=fn,h=pn,c=Math.abs(o-a);if(c%Ni<1e-4&&c>1e-4)return s[0]=e-n,s[1]=t-i,l[0]=e+n,void(l[1]=t+i);if(ol[0]=Od(o)*n+e,ol[1]=Pd(o)*i+t,al[0]=Od(a)*n+e,al[1]=Pd(a)*i+t,u(s,ol,al),h(l,ol,al),(o%=Ni)<0&&(o+=Ni),(a%=Ni)<0&&(a+=Ni),o>a&&!r?a+=Ni:o<a&&r&&(o+=Ni),r){var d=a;a=o,o=d}for(var f=0;f<a;f+=Math.PI/2)f>o&&(rl[0]=Od(f)*n+e,rl[1]=Pd(f)*i+t,u(s,rl,s),h(l,rl,l))}function Rn(e,t,n,i,o,a,r){if(o===0)return!1;var s=o,l=0,u=e;if(r>t+s&&r>i+s||r<t-s&&r<i-s||a>e+s&&a>n+s||a<e-s&&a<n-s)return!1;if(e===n)return Math.abs(a-e)<=s/2;var h=(l=(t-i)/(e-n))*a-r+(u=(e*i-n*t)/(e-n));return h*h/(l*l+1)<=s/2*s/2}function kb(e,t,n,i,o,a,r,s,l,u,h){if(l===0)return!1;var c=l;return!(h>t+c&&h>i+c&&h>a+c&&h>s+c||h<t-c&&h<i-c&&h<a-c&&h<s-c||u>e+c&&u>n+c&&u>o+c&&u>r+c||u<e-c&&u<n-c&&u<o-c&&u<r-c)&&Ib(e,t,n,i,o,a,r,s,u,h,null)<=c/2}function gg(e,t,n,i,o,a,r,s,l){if(r===0)return!1;var u=r;return!(l>t+u&&l>i+u&&l>a+u||l<t-u&&l<i-u&&l<a-u||s>e+u&&s>n+u&&s>o+u||s<e-u&&s<n-u&&s<o-u)&&Ab(e,t,n,i,o,a,s,l,null)<=u/2}function Bn(e){return(e%=R1)<0&&(e+=R1),e}function Pb(e,t,n,i,o,a,r,s,l){if(r===0)return!1;var u=r;s-=e,l-=t;var h=Math.sqrt(s*s+l*l);if(h-u>n||h+u<n)return!1;if(Math.abs(i-o)%nr<1e-4)return!0;if(a){var c=i;i=Bn(o),o=Bn(c)}else i=Bn(i),o=Bn(o);i>o&&(o+=nr);var d=Math.atan2(l,s);return d<0&&(d+=nr),d>=i&&d<=o||d+nr>=i&&d+nr<=o}function vn(e,t,n,i,o,a){if(a>t&&a>i||a<t&&a<i||i===t)return 0;var r=i<t?1:-1,s=(a-t)/(i-t);return s!==1&&s!==0||(r=i<t?.5:-.5),s*(n-e)+e>o?r:0}function Ob(e,t){return Math.abs(e-t)<pT}function Nb(){var e=bt[0];bt[0]=bt[1],bt[1]=e}function Eb(e,t,n,i,o,a,r,s,l,u){if(u>t&&u>i&&u>a&&u>s||u<t&&u<i&&u<a&&u<s)return 0;var h=Mb(t,i,a,s,u,et);if(h===0)return 0;for(var c,d,f=0,p=-1,g=0;g<h;g++){var m=et[g],v=m===0||m===1?.5:1;Ke(e,n,o,r,m)<l||(p<0&&(p=hg(t,i,a,s,bt),bt[1]<bt[0]&&p>1&&Nb(),c=Ke(t,i,a,s,bt[0]),p>1&&(d=Ke(t,i,a,s,bt[1]))),p==2?m<bt[0]?f+=c<t?v:-v:m<bt[1]?f+=d<c?v:-v:f+=s<d?v:-v:m<bt[0]?f+=c<t?v:-v:f+=s<c?v:-v)}return f}function zb(e,t,n,i,o,a,r,s){if(s>t&&s>i&&s>a||s<t&&s<i&&s<a)return 0;var l=Db(t,i,a,s,et);if(l===0)return 0;var u=dg(t,i,a);if(u>=0&&u<=1){for(var h=0,c=je(t,i,a,u),d=0;d<l;d++)f=et[d]===0||et[d]===1?.5:1,(p=je(e,n,o,et[d]))<r||(et[d]<u?h+=c<t?f:-f:h+=a<c?f:-f);return h}var f=et[0]===0||et[0]===1?.5:1,p=je(e,n,o,et[0]);return p<r?0:a<t?f:-f}function Rb(e,t,n,i,o,a,r,s){if((s-=t)>n||s<-n)return 0;u=Math.sqrt(n*n-s*s),et[0]=-u,et[1]=u;var l=Math.abs(i-o);if(l<1e-4)return 0;if(l%Bo<1e-4)return i=0,o=Bo,p=a?1:-1,r>=et[0]+e&&r<=et[1]+e?p:0;if(a){var u=i;i=Bn(o),o=Bn(u)}else i=Bn(i),o=Bn(o);i>o&&(o+=Bo);for(var h=0,c=0;c<2;c++){var d=et[c];if(d+e>r){var f=Math.atan2(s,d),p=a?1:-1;f<0&&(f=Bo+f),(f>=i&&f<=o||f+Bo>=i&&f+Bo<=o)&&(f>Math.PI/2&&f<1.5*Math.PI&&(p=-p),h+=p)}}return h}function mg(e,t,n,i,o){for(var a=0,r=0,s=0,l=0,u=0,h=0;h<e.length;){var c=e[h++];switch(c===Xn.M&&h>1&&(n||(a+=vn(r,s,l,u,i,o))),h==1&&(l=r=e[h],u=s=e[h+1]),c){case Xn.M:r=l=e[h++],s=u=e[h++];break;case Xn.L:if(n){if(Rn(r,s,e[h],e[h+1],t,i,o))return!0}else a+=vn(r,s,e[h],e[h+1],i,o)||0;r=e[h++],s=e[h++];break;case Xn.C:if(n){if(kb(r,s,e[h++],e[h++],e[h++],e[h++],e[h],e[h+1],t,i,o))return!0}else a+=Eb(r,s,e[h++],e[h++],e[h++],e[h++],e[h],e[h+1],i,o)||0;r=e[h++],s=e[h++];break;case Xn.Q:if(n){if(gg(r,s,e[h++],e[h++],e[h],e[h+1],t,i,o))return!0}else a+=zb(r,s,e[h++],e[h++],e[h],e[h+1],i,o)||0;r=e[h++],s=e[h++];break;case Xn.A:var d=e[h++],f=e[h++],p=e[h++],g=e[h++],m=e[h++],v=e[h++],y=(e[h++],1-e[h++]),x=Math.cos(m)*p+d,_=Math.sin(m)*g+f;h>1?a+=vn(r,s,x,_,i,o):(l=x,u=_);var w=(i-d)*g/p+d;if(n){if(Pb(d,f,g,m,m+v,y,t,w,o))return!0}else a+=Rb(d,f,g,m,m+v,y,w,o);r=Math.cos(m+v)*p+d,s=Math.sin(m+v)*g+f;break;case Xn.R:l=r=e[h++],u=s=e[h++];var x=l+e[h++],_=u+e[h++];if(n){if(Rn(l,u,x,u,t,i,o)||Rn(x,u,x,_,t,i,o)||Rn(x,_,l,_,t,i,o)||Rn(l,_,l,u,t,i,o))return!0}else a+=vn(x,u,x,_,i,o),a+=vn(l,_,l,u,i,o);break;case Xn.Z:if(n){if(Rn(r,s,l,u,t,i,o))return!0}else a+=vn(r,s,l,u,i,o);r=l,s=u}}return n||Ob(s,u)||(a+=vn(r,s,l,u,i,o)||0),a!==0}function Bb(e,t,n){return mg(e,0,!1,t,n)}function Vb(e,t,n,i){return mg(e,t,!0,n,i)}function ae(e){tt.call(this,e),this.path=null}function vg(e,t,n,i,o,a,r,s,l,u,h){var c=l*(hl/180),d=ul(c)*(e-n)/2+ll(c)*(t-i)/2,f=-1*ll(c)*(e-n)/2+ul(c)*(t-i)/2,p=d*d/(r*r)+f*f/(s*s);p>1&&(r*=Rd(p),s*=Rd(p));var g=(o===a?-1:1)*Rd((r*r*(s*s)-r*r*(f*f)-s*s*(d*d))/(r*r*(f*f)+s*s*(d*d)))||0,m=g*r*f/s,v=g*-s*d/r,y=(e+n)/2+ul(c)*m-ll(c)*v,x=(t+i)/2+ll(c)*m+ul(c)*v,_=W1([1,0],[(d-m)/r,(f-v)/s]),w=[(d-m)/r,(f-v)/s],S=[(-1*d-m)/r,(-1*f-v)/s],M=W1(w,S);Bd(w,S)<=-1&&(M=hl),Bd(w,S)>=1&&(M=0),a===0&&M>0&&(M-=2*hl),a===1&&M<0&&(M+=2*hl),h.addData(u,y,x,r,s,_,M,c,a)}function Gb(e){if(!e)return[];var t,n=e.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(t=0;t<zd.length;t++)n=n.replace(new RegExp(zd[t],"g"),"|"+zd[t]);var i,o=n.split("|"),a=0,r=0,s=new dt,l=dt.CMD;for(t=1;t<o.length;t++){var u,h=o[t],c=h.charAt(0),d=0,f=h.slice(1).replace(/e,-/g,"e-").split(",");f.length>0&&f[0]===""&&f.shift();for(var p=0;p<f.length;p++)f[p]=parseFloat(f[p]);for(;d<f.length&&!isNaN(f[d])&&!isNaN(f[0]);){var g,m,v,y,x,_,w,S=a,M=r;switch(c){case"l":a+=f[d++],r+=f[d++],u=l.L,s.addData(u,a,r);break;case"L":a=f[d++],r=f[d++],u=l.L,s.addData(u,a,r);break;case"m":a+=f[d++],r+=f[d++],u=l.M,s.addData(u,a,r),c="l";break;case"M":a=f[d++],r=f[d++],u=l.M,s.addData(u,a,r),c="L";break;case"h":a+=f[d++],u=l.L,s.addData(u,a,r);break;case"H":a=f[d++],u=l.L,s.addData(u,a,r);break;case"v":r+=f[d++],u=l.L,s.addData(u,a,r);break;case"V":r=f[d++],u=l.L,s.addData(u,a,r);break;case"C":u=l.C,s.addData(u,f[d++],f[d++],f[d++],f[d++],f[d++],f[d++]),a=f[d-2],r=f[d-1];break;case"c":u=l.C,s.addData(u,f[d++]+a,f[d++]+r,f[d++]+a,f[d++]+r,f[d++]+a,f[d++]+r),a+=f[d-2],r+=f[d-1];break;case"S":g=a,m=r;var I=s.len(),D=s.data;i===l.C&&(g+=a-D[I-4],m+=r-D[I-3]),u=l.C,S=f[d++],M=f[d++],a=f[d++],r=f[d++],s.addData(u,g,m,S,M,a,r);break;case"s":g=a,m=r;var I=s.len(),D=s.data;i===l.C&&(g+=a-D[I-4],m+=r-D[I-3]),u=l.C,S=a+f[d++],M=r+f[d++],a+=f[d++],r+=f[d++],s.addData(u,g,m,S,M,a,r);break;case"Q":S=f[d++],M=f[d++],a=f[d++],r=f[d++],u=l.Q,s.addData(u,S,M,a,r);break;case"q":S=f[d++]+a,M=f[d++]+r,a+=f[d++],r+=f[d++],u=l.Q,s.addData(u,S,M,a,r);break;case"T":g=a,m=r;var I=s.len(),D=s.data;i===l.Q&&(g+=a-D[I-4],m+=r-D[I-3]),a=f[d++],r=f[d++],u=l.Q,s.addData(u,g,m,a,r);break;case"t":g=a,m=r;var I=s.len(),D=s.data;i===l.Q&&(g+=a-D[I-4],m+=r-D[I-3]),a+=f[d++],r+=f[d++],u=l.Q,s.addData(u,g,m,a,r);break;case"A":v=f[d++],y=f[d++],x=f[d++],_=f[d++],w=f[d++],vg(S=a,M=r,a=f[d++],r=f[d++],_,w,v,y,x,u=l.A,s);break;case"a":v=f[d++],y=f[d++],x=f[d++],_=f[d++],w=f[d++],vg(S=a,M=r,a+=f[d++],r+=f[d++],_,w,v,y,x,u=l.A,s)}}c!=="z"&&c!=="Z"||(u=l.Z,s.addData(u)),i=u}return s.toStatic(),s}function yg(e,t){var n=Gb(e);return t=t||{},t.buildPath=function(i){if(i.setData)i.setData(n.data),(o=i.getContext())&&i.rebuildPath(o);else{var o=i;n.rebuildPath(o)}},t.applyTransform=function(i){yT(n,i),this.dirty(!0)},t}function Wb(e,t){return new ae(yg(e,t))}function Fb(e,t){return ae.extend(yg(e,t))}function xg(e,t,n,i,o,a,r){var s=.5*(n-e),l=.5*(i-t);return(2*(t-n)+s+l)*r+(-3*(t-n)-2*s-l)*a+s*o+t}function _g(e,t,n){var i=t.points,o=t.smooth;if(i&&i.length>=2){if(o&&o!=="spline"){var a=_T(i,o,n,t.smoothConstraint);e.moveTo(i[0][0],i[0][1]);for(var r=i.length,s=0;s<(n?r:r-1);s++){var l=a[2*s],u=a[2*s+1],h=i[(s+1)%r];e.bezierCurveTo(l[0],l[1],u[0],u[1],h[0],h[1])}}else{o==="spline"&&(i=xT(i,n)),e.moveTo(i[0][0],i[0][1]);for(var s=1,c=i.length;s<c;s++)e.lineTo(i[s][0],i[s][1])}n&&e.closePath()}}function wg(e,t,n){var i=e.cpx2,o=e.cpy2;return i===null||o===null?[(n?ug:Ke)(e.x1,e.cpx1,e.cpx2,e.x2,t),(n?ug:Ke)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(n?Yu:je)(e.x1,e.cpx1,e.x2,t),(n?Yu:je)(e.y1,e.cpy1,e.y2,t)]}function lt(e){tt.call(this,e),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}function Ht(e){return ae.extend(e)}function ya(e,t,n,i){var o=Wb(e,t),a=o.getBoundingRect();return n&&(i==="center"&&(n=Sg(n,a)),Mg(o,n)),o}function bg(e,t,n){var i=new Ze({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(o){if(n==="center"){var a={width:o.width,height:o.height};i.setStyle(Sg(t,a))}}});return i}function Sg(e,t){var n,i=t.width/t.height,o=e.height*i;return n=o<=e.width?e.height:(o=e.width)/i,{x:e.x+e.width/2-o/2,y:e.y+e.height/2-n/2,width:o,height:n}}function Mg(e,t){if(e.applyTransform){var n=e.getBoundingRect().calculateTransform(t);e.applyTransform(n)}}function gi(e){var t=e.shape,n=e.style.lineWidth;return Wo(2*t.x1)===Wo(2*t.x2)&&(t.x1=t.x2=Zt(t.x1,n,!0)),Wo(2*t.y1)===Wo(2*t.y2)&&(t.y1=t.y2=Zt(t.y1,n,!0)),e}function Ku(e){var t=e.shape,n=e.style.lineWidth,i=t.x,o=t.y,a=t.width,r=t.height;return t.x=Zt(t.x,n,!0),t.y=Zt(t.y,n,!0),t.width=Math.max(Zt(i+a,n,!1)-t.x,a===0?0:1),t.height=Math.max(Zt(o+r,n,!1)-t.y,r===0?0:1),e}function Zt(e,t,n){var i=Wo(2*e);return(i+Wo(t))%2==0?i/2:(i+(n?1:-1))/2}function Ig(e){return e!=null&&e!="none"}function Dg(e){return typeof e=="string"?Tp(e,-.1):e}function Ag(e){if(e.__hoverStlDirty){var t=e.style.stroke,n=e.style.fill,i=e.__hoverStl;i.fill=i.fill||(Ig(n)?Dg(n):null),i.stroke=i.stroke||(Ig(t)?Dg(t):null);var o={};for(var a in i)i[a]!=null&&(o[a]=e.style[a]);e.__normalStl=o,e.__hoverStlDirty=!1}}function Tg(e){if(!e.__isHover){if(Ag(e),e.useHoverLayer)e.__zr&&e.__zr.addHover(e,e.__hoverStl);else{var t=e.style,n=t.insideRollbackOpt;n&&qb(t),t.extendFrom(e.__hoverStl),n&&(Eg(t,t.insideOriginalTextPosition,n),t.textFill==null&&(t.textFill=n.autoColor)),e.dirty(!1),e.z2+=1}e.__isHover=!0}}function Cg(e){if(e.__isHover){var t=e.__normalStl;e.useHoverLayer?e.__zr&&e.__zr.removeHover(e):(t&&e.setStyle(t),e.z2-=1),e.__isHover=!1}}function Lg(e){e.type==="group"?e.traverse(function(t){t.type!=="group"&&Tg(t)}):Tg(e)}function kg(e){e.type==="group"?e.traverse(function(t){t.type!=="group"&&Cg(t)}):Cg(e)}function Pg(e,t){e.__hoverStl=e.hoverStyle||t||{},e.__hoverStlDirty=!0,e.__isHover&&Ag(e)}function Hb(e){this.__hoverSilentOnTouch&&e.zrByTouch||!this.__isEmphasis&&Lg(this)}function Zb(e){this.__hoverSilentOnTouch&&e.zrByTouch||!this.__isEmphasis&&kg(this)}function Ub(){this.__isEmphasis=!0,Lg(this)}function jb(){this.__isEmphasis=!1,kg(this)}function ve(e,t,n){e.__hoverSilentOnTouch=n&&n.hoverSilentOnTouch,e.type==="group"?e.traverse(function(i){i.type!=="group"&&Pg(i,t)}):Pg(e,t),e.on("mouseover",Hb).on("mouseout",Zb),e.on("emphasis",Ub).on("normal",jb)}function yt(e,t,n,i,o,a,r){var s,l=(o=o||pl).labelFetcher,u=o.labelDataIndex,h=o.labelDimIndex,c=n.getShallow("show"),d=i.getShallow("show");(c||d)&&(l&&(s=l.getFormattedLabel(u,"normal",null,h)),s==null&&(s=At(o.defaultText)?o.defaultText(u,o):o.defaultText));var f=c?s:null,p=d?Be(l?l.getFormattedLabel(u,"emphasis",null,h):null,s):null;f==null&&p==null||(Se(e,n,a,o),Se(t,i,r,o,!0)),e.text=f,t.text=p}function Se(e,t,n,i,o){return Og(e,t,i,o),n&&G(e,n),e.host&&e.host.dirty&&e.host.dirty(!1),e}function Og(e,t,n,i){if((n=n||pl).isRectText){var o=t.getShallow("position")||(i?null:"inside");o==="outside"&&(o="top"),e.textPosition=o,e.textOffset=t.getShallow("offset");var a=t.getShallow("rotate");a!=null&&(a*=Math.PI/180),e.textRotation=a,e.textDistance=Be(t.getShallow("distance"),i?null:5)}var r,s=t.ecModel,l=s&&s.option.textStyle,u=Xb(t);if(u){r={};for(var h in u)if(u.hasOwnProperty(h)){var c=t.getModel(["rich",h]);Ng(r[h]={},c,l,n,i)}}return e.rich=r,Ng(e,t,l,n,i,!0),n.forceRich&&!n.textStyle&&(n.textStyle={}),e}function Xb(e){for(var t;e&&e!==e.ecModel;){var n=(e.option||pl).rich;if(n){t=t||{};for(var i in n)n.hasOwnProperty(i)&&(t[i]=1)}e=e.parentModel}return t}function Ng(e,t,n,i,o,a){if(n=!o&&n||pl,e.textFill=Hr(t.getShallow("color"),i)||n.color,e.textStroke=Hr(t.getShallow("textBorderColor"),i)||n.textBorderColor,e.textStrokeWidth=Be(t.getShallow("textBorderWidth"),n.textBorderWidth),!o){if(a){var r=e.textPosition;e.insideRollback=Eg(e,r,i),e.insideOriginalTextPosition=r,e.insideRollbackOpt=i}e.textFill==null&&(e.textFill=i.autoColor)}e.fontStyle=t.getShallow("fontStyle")||n.fontStyle,e.fontWeight=t.getShallow("fontWeight")||n.fontWeight,e.fontSize=t.getShallow("fontSize")||n.fontSize,e.fontFamily=t.getShallow("fontFamily")||n.fontFamily,e.textAlign=t.getShallow("align"),e.textVerticalAlign=t.getShallow("verticalAlign")||t.getShallow("baseline"),e.textLineHeight=t.getShallow("lineHeight"),e.textWidth=t.getShallow("width"),e.textHeight=t.getShallow("height"),e.textTag=t.getShallow("tag"),a&&i.disableBox||(e.textBackgroundColor=Hr(t.getShallow("backgroundColor"),i),e.textPadding=t.getShallow("padding"),e.textBorderColor=Hr(t.getShallow("borderColor"),i),e.textBorderWidth=t.getShallow("borderWidth"),e.textBorderRadius=t.getShallow("borderRadius"),e.textBoxShadowColor=t.getShallow("shadowColor"),e.textBoxShadowBlur=t.getShallow("shadowBlur"),e.textBoxShadowOffsetX=t.getShallow("shadowOffsetX"),e.textBoxShadowOffsetY=t.getShallow("shadowOffsetY")),e.textShadowColor=t.getShallow("textShadowColor")||n.textShadowColor,e.textShadowBlur=t.getShallow("textShadowBlur")||n.textShadowBlur,e.textShadowOffsetX=t.getShallow("textShadowOffsetX")||n.textShadowOffsetX,e.textShadowOffsetY=t.getShallow("textShadowOffsetY")||n.textShadowOffsetY}function Hr(e,t){return e!=="auto"?e:t&&t.autoColor?t.autoColor:null}function Eg(e,t,n){var i,o=n.useInsideStyle;return e.textFill==null&&o!==!1&&(o===!0||n.isRectText&&t&&typeof t=="string"&&t.indexOf("inside")>=0)&&(i={textFill:null,textStroke:e.textStroke,textStrokeWidth:e.textStrokeWidth},e.textFill="#fff",e.textStroke==null&&(e.textStroke=n.autoColor,e.textStrokeWidth==null&&(e.textStrokeWidth=2))),i}function qb(e){var t=e.insideRollback;t&&(e.textFill=t.textFill,e.textStroke=t.textStroke,e.textStrokeWidth=t.textStrokeWidth)}function Ju(e,t){var n=t||t.getModel("textStyle");return yu([e.fontStyle||n&&n.getShallow("fontStyle")||"",e.fontWeight||n&&n.getShallow("fontWeight")||"",(e.fontSize||n&&n.getShallow("fontSize")||12)+"px",e.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}function zg(e,t,n,i,o,a){if(typeof o=="function"&&(a=o,o=null),i&&i.isAnimationEnabled()){var r=e?"Update":"",s=i.getShallow("animationDuration"+r),l=i.getShallow("animationEasing"+r),u=i.getShallow("animationDelay"+r);typeof u=="function"&&(u=u(o,i.getAnimationDelayParams?i.getAnimationDelayParams(t,o):null)),typeof s=="function"&&(s=s(o)),s>0?t.animateTo(n,s,u||0,l,a,!!a):(t.stopAnimation(),t.attr(n),a&&a())}else t.stopAnimation(),t.attr(n),a&&a()}function J(e,t,n,i,o){zg(!0,e,t,n,i,o)}function Je(e,t,n,i,o){zg(!1,e,t,n,i,o)}function mi(e,t){for(var n=ca([]);e&&e!==t;)hi(n,e.getLocalTransform(),n),e=e.parent;return n}function Ut(e,t,n){return t&&!hn(t)&&(t=Xt.getLocalTransform(t)),n&&(t=kr([],t)),ge([],e,t)}function Qu(e,t,n){var i=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),o=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),a=[e==="left"?-i:e==="right"?i:0,e==="top"?-o:e==="bottom"?o:0];return a=Ut(a,t,n),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function eh(e,t,n,i){function o(r){var s={position:Tt(r.position),rotation:r.rotation};return r.shape&&(s.shape=G({},r.shape)),s}if(e&&t){var a=function(r){var s={};return r.traverse(function(l){!l.isGroup&&l.anid&&(s[l.anid]=l)}),s}(e);t.traverse(function(r){if(!r.isGroup&&r.anid){var s=a[r.anid];if(s){var l=o(r);r.attr(o(s)),J(r,l,n,r.dataIndex)}}})}}function Rg(e,t){return P(e,function(n){var i=n[0];i=dl(i,t.x),i=fl(i,t.x+t.width);var o=n[1];return o=dl(o,t.y),o=fl(o,t.y+t.height),[i,o]})}function xa(e,t,n){var i=(t=G({rectHover:!0},t)).style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},e)return e.indexOf("image://")===0?(i.image=e.slice(8),W(i,n),new Ze(t)):ya(e.replace("path://",""),t,n,"center")}function re(e,t,n){this.parentModel=t,this.ecModel=n,this.option=e}function Bg(e,t,n){for(var i=0;i<t.length&&(!t[i]||(e=e&&typeof e=="object"?e[t[i]]:null)!=null);i++);return e==null&&n&&(e=n.get(t)),e}function th(e,t){var n=U1(e).getParent;return n?n.call(e,t):e.parentModel}function Zr(e){return[e||"",DT++,Math.random().toFixed(5)].join("_")}function Yb(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function Ie(e,t,n,i){var o=t[1]-t[0],a=n[1]-n[0];if(o===0)return a===0?n[0]:(n[0]+n[1])/2;if(i)if(o>0){if(e<=t[0])return n[0];if(e>=t[1])return n[1]}else{if(e>=t[0])return n[0];if(e<=t[1])return n[1]}else{if(e===t[0])return n[0];if(e===t[1])return n[1]}return(e-t[0])/o*a+n[0]}function E(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%"}return typeof e=="string"?Yb(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):e==null?NaN:+e}function nt(e,t,n){return t==null&&(t=10),t=Math.min(Math.max(0,t),20),e=(+e).toFixed(t),n?e:+e}function vi(e){return e.sort(function(t,n){return t-n}),e}function Vg(e){if(e=+e,isNaN(e))return 0;for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Ur(e){var t=e.toString(),n=t.indexOf("e");if(n>0){var i=+t.slice(n+1);return i<0?-i:0}var o=t.indexOf(".");return o<0?0:t.length-1-o}function nh(e,t){var n=Math.log,i=Math.LN10,o=Math.floor(n(e[1]-e[0])/i),a=Math.round(n(Math.abs(t[1]-t[0]))/i),r=Math.min(Math.max(-o+a,0),20);return isFinite(r)?r:20}function Gg(e,t,n){if(!e[t])return 0;var i=ro(e,function(p,g){return p+(isNaN(g)?0:g)},0);if(i===0)return 0;for(var o=Math.pow(10,n),a=P(e,function(p){return(isNaN(p)?0:p)/i*o*100}),r=100*o,s=P(a,function(p){return Math.floor(p)}),l=ro(s,function(p,g){return p+g},0),u=P(a,function(p,g){return p-s[g]});l<r;){for(var h=Number.NEGATIVE_INFINITY,c=null,d=0,f=u.length;d<f;++d)u[d]>h&&(h=u[d],c=d);++s[c],u[c]=0,++l}return s[t]/o}function ih(e){var t=2*Math.PI;return(e%t+t)%t}function _a(e){return e>-j1&&e<j1}function wa(e){if(e instanceof Date)return e;if(typeof e=="string"){var t=AT.exec(e);if(!t)return new Date(NaN);if(t[8]){var n=+t[4]||0;return t[8].toUpperCase()!=="Z"&&(n-=t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,n,+(t[5]||0),+t[6]||0,+t[7]||0))}return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,+t[7]||0)}return e==null?new Date(NaN):new Date(Math.round(e))}function Wg(e){return Math.pow(10,Fg(e))}function Fg(e){return Math.floor(Math.log(e)/Math.LN10)}function oh(e,t){var n,i=Fg(e),o=Math.pow(10,i),a=e/o;return n=t?a<1.5?1:a<2.5?2:a<4?3:a<7?5:10:a<1?1:a<2?2:a<3?3:a<5?5:10,e=n*o,i>=-20?+e.toFixed(i<0?-i:0):e}function ah(e){function t(l,u,h){return l.interval[h]<u.interval[h]||l.interval[h]===u.interval[h]&&(l.close[h]-u.close[h]==(h?-1:1)||!h&&t(l,u,1))}e.sort(function(l,u){return t(l,u,0)?-1:1});for(var n=-1/0,i=1,o=0;o<e.length;){for(var a=e[o].interval,r=e[o].close,s=0;s<2;s++)a[s]<=n&&(a[s]=n,r[s]=s?1:1-i),n=a[s],i=r[s];a[0]===a[1]&&r[0]*r[1]!=1?e.splice(o,1):o++}return e}function Hg(e){return e-parseFloat(e)>=0}function yi(e){return isNaN(e)?"-":(e=(e+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function Zg(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,function(n,i){return i.toUpperCase()}),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}function we(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function rh(e,t,n){O(t)||(t=[t]);var i=t.length;if(!i)return"";for(var o=t[0].$vars||[],a=0;a<o.length;a++){var r=X1[a];e=e.replace(Fd(r),Fd(r,0))}for(var s=0;s<i;s++)for(var l=0;l<o.length;l++){var u=t[s][o[l]];e=e.replace(Fd(X1[l],s),n?we(u):u)}return e}function Ug(e,t,n){return b(t,function(i,o){e=e.replace("{"+o+"}",n?we(i):i)}),e}function jr(e,t){var n=(e=xe(e)?{color:e,extraCssText:t}:e||{}).color,i=e.type,t=e.extraCssText;return n?i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+we(n)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+we(n)+";"+(t||"")+'"></span>':""}function po(e,t){return e+="","0000".substr(0,t-e.length)+e}function sh(e,t,n){e!=="week"&&e!=="month"&&e!=="quarter"&&e!=="half-year"&&e!=="year"||(e=`MM-dd
yyyy`);var i=wa(t),o=n?"UTC":"",a=i["get"+o+"FullYear"](),r=i["get"+o+"Month"]()+1,s=i["get"+o+"Date"](),l=i["get"+o+"Hours"](),u=i["get"+o+"Minutes"](),h=i["get"+o+"Seconds"](),c=i["get"+o+"Milliseconds"]();return e=e.replace("MM",po(r,2)).replace("M",r).replace("yyyy",a).replace("yy",a%100).replace("dd",po(s,2)).replace("d",s).replace("hh",po(l,2)).replace("h",l).replace("mm",po(u,2)).replace("m",u).replace("ss",po(h,2)).replace("s",h).replace("SSS",po(c,3))}function Xr(e){return e&&e.charAt(0).toUpperCase()+e.substr(1)}function lh(e,t,n,i,o){var a=0,r=0;i==null&&(i=1/0),o==null&&(o=1/0);var s=0;t.eachChild(function(l,u){var h,c,d=l.position,f=l.getBoundingRect(),p=t.childAt(u+1),g=p&&p.getBoundingRect();if(e==="horizontal"){var m=f.width+(g?-g.x+f.x:0);(h=a+m)>i||l.newline?(a=0,h=m,r+=s+n,s=f.height):s=Math.max(s,f.height)}else{var v=f.height+(g?-g.y+f.y:0);(c=r+v)>o||l.newline?(a+=s+n,r=0,c=v,s=f.width):s=Math.max(s,f.width)}l.newline||(d[0]=a,d[1]=r,e==="horizontal"?a=h+n:r=c+n)})}function $b(e,t,n){var i=t.width,o=t.height,a=E(e.x,i),r=E(e.y,o),s=E(e.x2,i),l=E(e.y2,o);return(isNaN(a)||isNaN(parseFloat(e.x)))&&(a=0),(isNaN(s)||isNaN(parseFloat(e.x2)))&&(s=i),(isNaN(r)||isNaN(parseFloat(e.y)))&&(r=0),(isNaN(l)||isNaN(parseFloat(e.y2)))&&(l=o),n=zi(n||0),{width:Math.max(s-a-n[1]-n[3],0),height:Math.max(l-r-n[0]-n[2],0)}}function Pe(e,t,n){n=zi(n||0);var i=t.width,o=t.height,a=E(e.left,i),r=E(e.top,o),s=E(e.right,i),l=E(e.bottom,o),u=E(e.width,i),h=E(e.height,o),c=n[2]+n[0],d=n[1]+n[3],f=e.aspect;switch(isNaN(u)&&(u=i-s-d-a),isNaN(h)&&(h=o-l-c-r),f!=null&&(isNaN(u)&&isNaN(h)&&(f>i/o?u=.8*i:h=.8*o),isNaN(u)&&(u=f*h),isNaN(h)&&(h=u/f)),isNaN(a)&&(a=i-s-u-d),isNaN(r)&&(r=o-l-h-c),e.left||e.right){case"center":a=i/2-u/2-n[3];break;case"right":a=i-u-d}switch(e.top||e.bottom){case"middle":case"center":r=o/2-h/2-n[0];break;case"bottom":r=o-h-c}a=a||0,r=r||0,isNaN(u)&&(u=i-d-a-(s||0)),isNaN(h)&&(h=o-c-r-(l||0));var p=new Q(a+n[3],r+n[0],u,h);return p.margin=n,p}function qr(e,t,n,i,o){var a=!o||!o.hv||o.hv[0],r=!o||!o.hv||o.hv[1],s=o&&o.boundingMode||"all";if(a||r){var l;if(s==="raw")l=e.type==="group"?new Q(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(l=e.getBoundingRect(),e.needLocalTransform()){var u=e.getLocalTransform();(l=l.clone()).applyTransform(u)}t=Pe(W({width:l.width,height:l.height},t),n,i);var h=e.position,c=a?t.x-l.x:0,d=r?t.y-l.y:0;e.attr("position",s==="raw"?[c,d]:[h[0]+c,h[1]+d])}}function Kb(e,t){return e[Ri[t][0]]!=null||e[Ri[t][1]]!=null&&e[Ri[t][2]]!=null}function Vn(e,t,n){function i(h,c){var d={},f=0,p={},g=0;if(ml(h,function(y){p[y]=e[y]}),ml(h,function(y){o(t,y)&&(d[y]=p[y]=t[y]),a(d,y)&&f++,a(p,y)&&g++}),s[c])return a(t,h[1])?p[h[2]]=null:a(t,h[2])&&(p[h[1]]=null),p;if(g!==2&&f){if(f>=2)return d;for(var m=0;m<h.length;m++){var v=h[m];if(!o(d,v)&&o(e,v)){d[v]=e[v];break}}return d}return p}function o(h,c){return h.hasOwnProperty(c)}function a(h,c){return h[c]!=null&&h[c]!=="auto"}function r(h,c,d){ml(h,function(f){c[f]=d[f]})}!Y(n)&&(n={});var s=n.ignoreSize;!O(s)&&(s=[s,s]);var l=i(Ri[0],0),u=i(Ri[1],1);r(Ri[0],e,l),r(Ri[1],e,u)}function go(e){return jg({},e)}function jg(e,t){return t&&e&&ml(Y1,function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e}function Jb(e,t){for(var n=e.length,i=0;i<n;i++)if(e[i].length>t)return e[i];return e[n-1]}function Xg(e){var t=e.get("coordinateSystem"),n={coordSysName:t,coordSysDims:[],axisMap:K(),categoryAxisMap:K()},i=NT[t];if(i)return i(e,n,n.axisMap,n.categoryAxisMap),n}function mo(e){return e.get("type")==="category"}function kt(e){this.fromDataset=e.fromDataset,this.data=e.data||(e.sourceFormat===xl?{}:[]),this.sourceFormat=e.sourceFormat||K1,this.seriesLayoutBy=e.seriesLayoutBy||J1,this.dimensionsDefine=e.dimensionsDefine,this.encodeDefine=e.encodeDefine&&K(e.encodeDefine),this.startIndex=e.startIndex||0,this.dimensionsDetectCount=e.dimensionsDetectCount}function Qb(e){var t=e.option.source,n=K1;if(cn(t))n=_l;else if(O(t))for(var i=0,o=t.length;i<o;i++){var a=t[i];if(a!=null){if(O(a)){n=vl;break}if(Y(a)){n=yl;break}}}else if(Y(t)){for(var r in t)if(t.hasOwnProperty(r)&&hn(t[r])){n=xl;break}}else if(t!=null)throw new Error("Invalid data");Fo(e).sourceFormat=n}function eS(e){return Fo(e).source}function tS(e){Fo(e).datasetMap=K()}function qg(e){var t=e.option,n=t.data,i=cn(n)?_l:Bi,o=!1,a=t.seriesLayoutBy,r=t.sourceHeader,s=t.dimensions,l=aS(e);if(l){var u=l.option;n=u.source,i=Fo(l).sourceFormat,o=!0,a=a||u.seriesLayoutBy,r==null&&(r=u.sourceHeader),s=s||u.dimensions}var h=nS(n,i,a,r,s),c=t.encode;!c&&l&&(c=oS(e,l,n,i,a,h)),Fo(e).source=new kt({data:n,fromDataset:o,seriesLayoutBy:a,sourceFormat:i,dimensionsDefine:h.dimensionsDefine,startIndex:h.startIndex,dimensionsDetectCount:h.dimensionsDetectCount,encodeDefine:c})}function nS(e,t,n,i,o){if(!e)return{dimensionsDefine:Yg(o)};var a,r,s;if(t===vl)i==="auto"||i==null?$g(function(h){h!=null&&h!=="-"&&(xe(h)?r==null&&(r=1):r=0)},n,e,10):r=i?1:0,o||r!==1||(o=[],$g(function(h,c){o[c]=h!=null?h:""},n,e)),a=o?o.length:n===Ud?e.length:e[0]?e[0].length:null;else if(t===yl)o||(o=iS(e),s=!0);else if(t===xl)o||(o=[],s=!0,b(e,function(h,c){o.push(c)}));else if(t===Bi){var l=ma(e[0]);a=O(l)&&l.length||1}var u;return s&&b(o,function(h,c){(Y(h)?h.name:h)==="name"&&(u=c)}),{startIndex:r,dimensionsDefine:Yg(o),dimensionsDetectCount:a,potentialNameDimIndex:u}}function Yg(e){if(e){var t=K();return P(e,function(n,i){if((n=G({},Y(n)?n:{name:n})).name==null)return n;n.name+="",n.displayName==null&&(n.displayName=n.name);var o=t.get(n.name);return o?n.name+="-"+o.count++:t.set(n.name,{count:1}),n})}}function $g(e,t,n,i){if(i==null&&(i=1/0),t===Ud)for(a=0;a<n.length&&a<i;a++)e(n[a]?n[a][0]:null,a);else for(var o=n[0]||[],a=0;a<o.length&&a<i;a++)e(o[a],a)}function iS(e){for(var t,n=0;n<e.length&&!(t=e[n++]););if(t){var i=[];return b(t,function(o,a){i.push(a)}),i}}function oS(e,t,n,i,o,a){var r=Xg(e),s={},l=[],u=[],h=e.subType,c=K(["pie","map","funnel"]),d=K(["line","bar","pictorialBar","scatter","effectScatter","candlestick","boxplot"]);if(r&&d.get(h)!=null){var f=e.ecModel,p=Fo(f).datasetMap,g=t.uid+"_"+o,m=p.get(g)||p.set(g,{categoryWayDim:1,valueWayDim:0});b(r.coordSysDims,function(_){if(r.firstCategoryDimIndex==null)w=m.valueWayDim++,s[_]=w,u.push(w);else if(r.categoryAxisMap.get(_))s[_]=0,l.push(0);else{var w=m.categoryWayDim++;s[_]=w,u.push(w)}})}else if(c.get(h)!=null){for(var v,y=0;y<5&&v==null;y++)Kg(n,i,o,a.dimensionsDefine,a.startIndex,y)||(v=y);if(v!=null){s.value=v;var x=a.potentialNameDimIndex||Math.max(v-1,0);u.push(x),l.push(x)}}return l.length&&(s.itemName=l),u.length&&(s.seriesName=u),s}function aS(e){var t=e.option;if(!t.data)return e.ecModel.getComponent("dataset",t.datasetIndex||0)}function rS(e,t){return Kg(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function Kg(e,t,n,i,o,a){function r(p){return(p==null||!isFinite(p)||p==="")&&(!(!xe(p)||p==="-")||void 0)}var s;if(cn(e))return!1;var l;if(i&&(l=Y(l=i[a])?l.name:l),t===vl)if(n===Ud){for(var u=e[a],h=0;h<(u||[]).length&&h<5;h++)if((s=r(u[o+h]))!=null)return s}else for(h=0;h<e.length&&h<5;h++){var c=e[o+h];if(c&&(s=r(c[a]))!=null)return s}else if(t===yl){if(!l)return;for(h=0;h<e.length&&h<5;h++)if((d=e[h])&&(s=r(d[l]))!=null)return s}else if(t===xl){if(!l)return;if(!(u=e[l])||cn(u))return!1;for(h=0;h<u.length&&h<5;h++)if((s=r(u[h]))!=null)return s}else if(t===Bi)for(h=0;h<e.length&&h<5;h++){var d=e[h],f=ma(d);if(!O(f))return!1;if((s=r(f[a]))!=null)return s}return!1}function sS(e,t){if(t){var n=t.seiresIndex,i=t.seriesId,o=t.seriesName;return n!=null&&e.componentIndex!==n||i!=null&&e.id!==i||o!=null&&e.name!==o}}function lS(e,t){var n=e.color&&!e.colorLayer;b(t,function(i,o){o==="colorLayer"&&n||ie.hasClass(o)||(typeof i=="object"?e[o]=e[o]?q(e[o],i,!1):Z(i):e[o]==null&&(e[o]=i))})}function uS(e){e=e,this.option={},this.option[jd]=1,this._componentsMap=K({series:[]}),this._seriesIndices,this._seriesIndicesMap,lS(e,this._theme.option),q(e,OT,!1),this.mergeOption(e)}function hS(e,t){O(t)||(t=t?[t]:[]);var n={};return b(t,function(i){n[i]=(e.get(i)||[]).slice()}),n}function cS(e,t,n){return t.type?t.type:n?n.subType:ie.determineSubType(e,t)}function uh(e,t){e._seriesIndicesMap=K(e._seriesIndices=P(t,function(n){return n.componentIndex})||[])}function Jg(e,t){return t.hasOwnProperty("subType")?ke(e,function(n){return n.subType===t.subType}):e}function Qg(e){b(ET,function(t){this[t]=U(e[t],e)},this)}function Xe(){this._coordinateSystems=[]}function hh(e){this._api=e,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function dS(e,t,n){var i,o,a=[],r=[],s=e.timeline;if(e.baseOption&&(o=e.baseOption),(s||e.options)&&(o=o||{},a=(e.options||[]).slice()),e.media){o=o||{};var l=e.media;bl(l,function(u){u&&u.option&&(u.query?r.push(u):i||(i=u))})}return o||(o=e),o.timeline||(o.timeline=s),bl([o].concat(a).concat(P(r,function(u){return u.option})),function(u){bl(t,function(h){h(u,n)})}),{baseOption:o,timelineOptions:a,mediaDefault:i,mediaList:r}}function fS(e,t,n){var i={width:t,height:n,aspectratio:t/n},o=!0;return b(e,function(a,r){var s=r.match(zT);if(s&&s[1]&&s[2]){var l=s[1],u=s[2].toLowerCase();pS(i[u],a,l)||(o=!1)}}),o}function pS(e,t,n){return n==="min"?e>=t:n==="max"?e<=t:e===t}function gS(e,t){return e.join(",")===t.join(",")}function mS(e,t){bl(t=t||{},function(n,i){if(n!=null){var o=e[i];if(ie.hasClass(i)){n=Ue(n);var a=ju(o=Ue(o),n);e[i]=Sl(a,function(r){return r.option&&r.exist?Q1(r.exist,r.option,!0):r.exist||r.option})}else e[i]=Q1(o,n,!0)}})}function ch(e){var t=e&&e.itemStyle;if(t)for(var n=0,i=ex.length;n<i;n++){var o=ex[n],a=t.normal,r=t.emphasis;a&&a[o]&&(e[o]=e[o]||{},e[o].normal?q(e[o].normal,a[o]):e[o].normal=a[o],a[o]=null),r&&r[o]&&(e[o]=e[o]||{},e[o].emphasis?q(e[o].emphasis,r[o]):e[o].emphasis=r[o],r[o]=null)}}function qe(e,t,n){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var i=e[t].normal,o=e[t].emphasis;i&&(n?(e[t].normal=e[t].emphasis=null,W(e[t],i)):e[t]=i),o&&(e.emphasis=e.emphasis||{},e.emphasis[t]=o)}}function Yr(e){qe(e,"itemStyle"),qe(e,"lineStyle"),qe(e,"areaStyle"),qe(e,"label"),qe(e,"labelLine"),qe(e,"upperLabel"),qe(e,"edgeLabel")}function Te(e,t){var n=or(e)&&e[t],i=or(n)&&n.textStyle;if(i)for(var o=0,a=L1.length;o<a;o++){var t=L1[o];i.hasOwnProperty(t)&&(n[t]=i[t])}}function xt(e){e&&(Yr(e),Te(e,"label"),e.emphasis&&Te(e.emphasis,"label"))}function vS(e){if(or(e)){ch(e),Yr(e),Te(e,"label"),Te(e,"upperLabel"),Te(e,"edgeLabel"),e.emphasis&&(Te(e.emphasis,"label"),Te(e.emphasis,"upperLabel"),Te(e.emphasis,"edgeLabel"));var t=e.markPoint;t&&(ch(t),xt(t));var n=e.markLine;n&&(ch(n),xt(n));var i=e.markArea;i&&xt(i);var o=e.data;if(e.type==="graph"){o=o||e.nodes;var a=e.links||e.edges;if(a&&!cn(a))for(s=0;s<a.length;s++)xt(a[s]);b(e.categories,function(u){Yr(u)})}if(o&&!cn(o))for(s=0;s<o.length;s++)xt(o[s]);if((t=e.markPoint)&&t.data)for(var r=t.data,s=0;s<r.length;s++)xt(r[s]);if((n=e.markLine)&&n.data)for(var l=n.data,s=0;s<l.length;s++)O(l[s])?(xt(l[s][0]),xt(l[s][1])):xt(l[s]);e.type==="gauge"?(Te(e,"axisLabel"),Te(e,"title"),Te(e,"detail")):e.type==="treemap"&&(qe(e.breadcrumb,"itemStyle"),b(e.levels,function(u){Yr(u)}))}}function yn(e){return O(e)?e:e?[e]:[]}function em(e){return(O(e)?e[0]:e)||{}}function yS(e,t){t=t.split(",");for(var n=e,i=0;i<t.length&&(n=n&&n[t[i]])!=null;i++);return n}function xS(e,t,n,i){t=t.split(",");for(var o,a=e,r=0;r<t.length-1;r++)a[o=t[r]]==null&&(a[o]={}),a=a[o];(i||a[t[r]]==null)&&(a[t[r]]=n)}function tm(e){b(BT,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}function _S(e){b(e,function(t,n){var i=[],o=[NaN,NaN],a=[t.stackResultDimension,t.stackedOverDimension],r=t.data,s=t.isStackedByIndex,l=r.map(a,function(u,h,c){var d=r.get(t.stackedDimension,c);if(isNaN(d))return o;var f,p;s?p=r.getRawIndex(c):f=r.get(t.stackedByDimension,c);for(var g=NaN,m=n-1;m>=0;m--){var v=e[m];if(s||(p=v.data.rawIndexOf(v.stackedByDimension,f)),p>=0){var y=v.data.getByRawIndex(v.stackResultDimension,p);if(d>=0&&y>0||d<=0&&y<0){d+=y,g=y;break}}}return i[0]=d,i[1]=g,i});r.hostModel.setData(l),t.data=l})}function nm(e,t){kt.isInstance(e)||(e=kt.seriesDataToSource(e)),this._source=e;var n=this._data=e.data,i=e.sourceFormat;i===_l&&(this._offset=0,this._dimSize=t,this._data=n),G(this,GT[i===vl?i+"_"+e.seriesLayoutBy:i])}function im(){return this._data.length}function om(e){return this._data[e]}function dh(e){for(var t=0;t<e.length;t++)this._data.push(e[t])}function fh(e,t,n,i){return n!=null?e[n]:e}function am(e,t,n,i){return ph(e[i],this._dimensionInfos[t])}function ph(e,t){var n=t&&t.type;if(n==="ordinal"){var i=t&&t.ordinalMeta;return i?i.parseAndCollect(e):e}return n==="time"&&typeof e!="number"&&e!=null&&e!=="-"&&(e=+wa(e)),e==null||e===""?NaN:+e}function xi(e,t,n){if(e){var i=e.getRawDataItem(t);if(i!=null){var o,a,r=e.getProvider().getSource().sourceFormat,s=e.getDimensionInfo(n);return s&&(o=s.name,a=s.index),WT[r](i,t,a,o)}}}function rm(e,t,n){if(e){var i=e.getProvider().getSource().sourceFormat;if(i===Bi||i===yl){var o=e.getRawDataItem(t);return i!==Bi||Y(o)||(o=null),o?o[n]:void 0}}}function ba(e){return new sm(e)}function sm(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0,this.context}function wS(e,t){e._dueIndex=e._outputDueEnd=e._dueEnd=0,e._settedOutputEnd=null;var n,i;!t&&e._reset&&(n=e._reset(e.context))&&n.progress&&(i=n.forceFirstProgress,n=n.progress),e._progress=n;var o=e._downstream;return o&&o.dirty(),i}function lm(e){var t=e.name;Xu(e)||(e.name=bS(e)||t)}function bS(e){var t=e.getRawData(),n=[];return b(t.mapDimension("seriesName",!0),function(i){var o=t.getDimensionInfo(i);o.displayName&&n.push(o.displayName)}),n.join(" ")}function SS(e){return e.model.getRawData().count()}function MS(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),IS}function IS(e,t){e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function um(e,t){b(e.CHANGABLE_METHODS,function(n){e.wrapMethod(n,j(DS,t))})}function DS(e){var t=gh(e);t&&t.setOutputEnd(this.count())}function gh(e){var t=(e.ecModel||{}).scheduler,n=t&&t.getPipeline(e.uid);if(n){var i=n.currentTask;if(i){var o=i.agentStubMap;o&&(i=o.get(e.uid))}return i}}function Ve(){this.group=new V,this.uid=Zr("viewChart"),this.renderTask=ba({plan:AS,reset:TS}),this.renderTask.context={view:this}}function mh(e,t){if(e&&(e.trigger(t),e.type==="group"))for(var n=0;n<e.childCount();n++)mh(e.childAt(n),t)}function hm(e,t,n){var i=Vr(e,t);i!=null?b(Ue(i),function(o){mh(e.getItemGraphicEl(o),n)}):e.eachItemGraphicEl(function(o){mh(o,n)})}function AS(e){return ZT(e.model)}function TS(e){var t=e.model,n=e.ecModel,i=e.api,o=e.payload,a=t.pipelineContext.canProgressiveRender,r=e.view,s=o&&nx(o).updateMethod,l=a?"incrementalPrepareRender":s&&r[s]?s:"render";return l!=="render"&&r[l](t,n,i,o),UT[l]}function vh(e,t,n){function i(){h=new Date().getTime(),c=null,e.apply(r,s||[])}var o,a,r,s,l,u=0,h=0,c=null;t=t||0;var d=function(){o=new Date().getTime(),r=this,s=arguments;var f=l||t,p=l||n;l=null,a=o-(p?u:h)-f,clearTimeout(c),p?c=setTimeout(i,f):a>=0?i():c=setTimeout(i,-a),u=o};return d.clear=function(){c&&(clearTimeout(c),c=null)},d.debounceNextCall=function(f){l=f},d}function Sa(e,t,n,i){var o=e[t];if(o){var a=o[Ml]||o,r=o[ox];if(o[ix]!==n||r!==i){if(n==null||!i)return e[t]=a;(o=e[t]=vh(a,n,i==="debounce"))[Ml]=a,o[ox]=i,o[ix]=n}return o}}function cm(e,t){var n=e[t];n&&n[Ml]&&(e[t]=n[Ml])}function $r(e,t,n,i){this.ecInstance=e,this.api=t,this.unfinished,this._dataProcessorHandlers=n.slice(),this._visualHandlers=i.slice(),this._stageTaskMap=K()}function dm(e,t,n,i,o){function a(s,l){return s.setDirty&&(!s.dirtyMap||s.dirtyMap.get(l.__pipeline.id))}o=o||{};var r;b(t,function(s,l){if(!o.visualType||o.visualType===s.visualType){var u=e._stageTaskMap.get(s.uid),h=u.seriesTaskMap,c=u.overallTask;if(c){var d,f=c.agentStubMap;f.each(function(g){a(o,g)&&(g.dirty(),d=!0)}),d&&c.dirty(),ax(c,i);var p=e.getPerformArgs(c,o.block);f.each(function(g){g.perform(p)}),r|=c.perform(p)}else h&&h.each(function(g,m){a(o,g)&&g.dirty();var v=e.getPerformArgs(g,o.block);v.skip=!s.performRawSeries&&n.isSeriesFiltered(g.context.model),ax(g,i),r|=g.perform(v)})}}),e.unfinished|=r}function CS(e,t,n,i,o){function a(h){var c=h.uid,d=r.get(c)||r.set(c,ba({plan:ES,reset:zS,count:BS}));d.context={model:h,ecModel:i,api:o,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:e},Kr(e,h,d)}var r=n.seriesTaskMap||(n.seriesTaskMap=K()),s=t.seriesType,l=t.getTargetSeries;t.createOnAllSeries?i.eachRawSeries(a):s?i.eachRawSeriesByType(s,a):l&&l(i,o).each(a);var u=e._pipelineMap;r.each(function(h,c){u.get(c)||(h.dispose(),r.removeKey(c))})}function LS(e,t,n,i,o){function a(f){var p=f.uid,g=s.get(p)||s.set(p,ba({reset:PS,onDirty:NS}));g.context={model:f,overallProgress:h,isOverallFilter:c},g.agent=r,g.__block=h,Kr(e,f,g)}var r=n.overallTask=n.overallTask||ba({reset:kS});r.context={ecModel:i,api:o,overallReset:t.overallReset,scheduler:e};var s=r.agentStubMap=r.agentStubMap||K(),l=t.seriesType,u=t.getTargetSeries,h=!0,c=t.isOverallFilter;l?i.eachRawSeriesByType(l,a):u?u(i,o).each(a):(h=!1,b(i.getSeries(),a));var d=e._pipelineMap;s.each(function(f,p){d.get(p)||(f.dispose(),s.removeKey(p))})}function kS(e){e.overallReset(e.ecModel,e.api,e.payload)}function PS(e,t){return e.overallProgress&&OS}function OS(){this.agent.dirty(),this.getDownstream().dirty()}function NS(){this.agent&&this.agent.dirty()}function ES(e){return e.plan&&e.plan(e.model,e.ecModel,e.api,e.payload)}function zS(e){if(e.useClearVisual&&e.data.clearAllVisual(),(e.resetDefines=Ue(e.reset(e.model,e.ecModel,e.api,e.payload))).length)return RS}function RS(e,t){for(var n=t.data,i=t.resetDefines,o=0;o<i.length;o++){var a=i[o];if(a&&a.dataEach)for(var r=e.start;r<e.end;r++)a.dataEach(n,r);else a&&a.progress&&a.progress(e,n)}}function BS(e){return e.data.count()}function Kr(e,t,n){var i=t.uid,o=e._pipelineMap.get(i);!o.head&&(o.head=n),o.tail&&o.tail.pipe(n),o.tail=n,n.__idxInPipeline=o.count++,n.__pipeline=o}function VS(e){Dl=null;try{e(rr,rx)}catch(t){}return Dl}function fm(e,t){for(var n in t.prototype)e[n]=We}function vo(e){return function(t,n,i){t=t&&t.toLowerCase(),Ne.prototype[e].call(this,t,n,i)}}function Ma(){Ne.call(this)}function Ia(e,t,n){function i(r,s){return r.__prio-s.__prio}n=n||{},typeof t=="string"&&(t=mx[t]),this.id,this.group,this._dom=e;var o=this._zr=Zu(e,{renderer:n.renderer||"canvas",devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height});this._throttledZrFlush=vh(U(o.flush,o),17),(t=Z(t))&&tx(t,!0),this._theme=t,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new Xe;var a=this._api=ZS(this);Nr(Cl,i),Nr(ef,i),this._scheduler=new $r(this,a,ef,Cl),Ne.call(this),this._messageCenter=new Ma,this._initEvents(),this.resize=U(this.resize,this),this._pendingActions=[],o.animation.on("frame",this._onframe,this),GS(o,this),xu(this)}function pm(e,t,n){var i,o=this._model,a=this._coordSysMgr.getCoordinateSystems();t=Gr(o,t);for(var r=0;r<a.length;r++){var s=a[r];if(s[e]&&(i=s[e](o,t,n))!=null)return i}}function Da(e){var t=e._model,n=e._scheduler;n.restorePipelines(t),n.prepareStageTasks(),ym(e,"component",t,n),ym(e,"chart",t,n),n.plan()}function gm(e,t,n,i,o){function a(u){u&&u.__alive&&u[t]&&u[t](u.__model,r,e._api,n)}var r=e._model;if(i){var s={};s[i+"Id"]=n[i+"Id"],s[i+"Index"]=n[i+"Index"],s[i+"Name"]=n[i+"Name"];var l={mainType:i,query:s};o&&(l.subType=o),r&&r.eachComponent(l,function(u,h){a(e[i==="series"?"_chartsMap":"_componentsMap"][u.__viewId])},e)}else Ge(e._componentsViews.concat(e._chartsViews),a)}function mm(e,t){var n=e._chartsMap,i=e._scheduler;t.eachSeries(function(o){i.updateStreamModes(o,n[o.__viewId])})}function vm(e,t){var n=e.type,i=e.escapeConnect,o=Al[n],a=o.actionInfo,r=(a.update||"update").split(":"),s=r.pop();r=r[0]!=null&&ux(r[0]),this[tn]=!0;var l=[e],u=!1;e.batch&&(u=!0,l=P(e.batch,function(f){return f=W(G({},f),e),f.batch=null,f}));var h,c=[],d=n==="highlight"||n==="downplay";Ge(l,function(f){h=o.action(f,this._model,this._api),(h=h||G({},f)).type=a.event||h.type,c.push(h),d?gm(this,s,f,"series"):r&&gm(this,s,f,r.main,r.sub)},this),s==="none"||d||r||(this[Kn]?(Da(this),Jn.update.call(this,e),this[Kn]=!1):Jn[s].call(this,e)),h=u?{type:a.event||n,escapeConnect:i,batch:c}:c[0],this[tn]=!1,!t&&this._messageCenter.trigger(h.type,h)}function Jr(e){for(var t=this._pendingActions;t.length;){var n=t.shift();vm.call(this,n,e)}}function Qr(e){!e&&this.trigger("updated")}function GS(e,t){e.on("rendered",function(){t.trigger("rendered"),!e.animation.isFinished()||t[Kn]||t._scheduler.unfinished||t._pendingActions.length||t.trigger("finished")})}function ym(e,t,n,i){function o(d){var f="_ec_"+d.id+"_"+d.type,p=s[f];if(!p){var g=ux(d.type);(p=new(a?An.getClass(g.main,g.sub):Ve.getClass(g.sub))).init(n,u),s[f]=p,r.push(p),l.add(p.group)}d.__viewId=p.__id=f,p.__alive=!0,p.__model=d,p.group.__ecComponentInfo={mainType:d.mainType,index:d.componentIndex},!a&&i.prepareView(p,d,n,u)}for(var a=t==="component",r=a?e._componentsViews:e._chartsViews,s=a?e._componentsMap:e._chartsMap,l=e._zr,u=e._api,h=0;h<r.length;h++)r[h].__alive=!1;for(a?n.eachComponent(function(d,f){d!=="series"&&o(f)}):n.eachSeries(o),h=0;h<r.length;){var c=r[h];c.__alive?h++:(!a&&c.renderTask.dispose(),l.remove(c.group),c.dispose(n,u),r.splice(h,1),delete s[c.__id],c.__id=c.group.__ecComponentInfo=null)}}function yh(e){e.clearColorPalette(),e.eachSeries(function(t){t.clearColorPalette()})}function xm(e,t,n,i){WS(e,t,n,i),Ge(e._chartsViews,function(o){o.__alive=!1}),xh(e,t,n,i),Ge(e._chartsViews,function(o){o.__alive||o.remove(t,n)})}function WS(e,t,n,i,o){Ge(o||e._componentsViews,function(a){var r=a.__model;a.render(r,t,n,i),_m(r,a)})}function xh(e,t,n,i,o){var a,r=e._scheduler;t.eachSeries(function(s){var l=e._chartsMap[s.__viewId];l.__alive=!0;var u=l.renderTask;r.updatePayload(u,i),o&&o.get(s.uid)&&u.dirty(),a|=u.perform(r.getPerformArgs(u)),l.group.silent=!!s.get("silent"),_m(s,l),HS(s,l)}),r.unfinished|=a,FS(e._zr,t),XT(e._zr.dom,t)}function _h(e,t){Ge(gx,function(n){n(e,t)})}function FS(e,t){var n=e.storage,i=0;n.traverse(function(o){o.isGroup||i++}),i>t.get("hoverLayerThreshold")&&!ee.node&&n.traverse(function(o){o.isGroup||(o.useHoverLayer=!0)})}function HS(e,t){var n=e.get("blendMode")||null;t.group.traverse(function(i){i.isGroup||i.style.blend!==n&&i.setStyle("blend",n),i.eachPendingDisplayable&&i.eachPendingDisplayable(function(o){o.setStyle("blend",n)})})}function _m(e,t){var n=e.get("z"),i=e.get("zlevel");t.group.traverse(function(o){o.type!=="group"&&(n!=null&&(o.z=n),i!=null&&(o.zlevel=i))})}function ZS(e){var t=e._coordSysMgr;return G(new Qg(e),{getCoordinateSystems:U(t.getCoordinateSystems,t),getComponentByElement:function(n){for(;n;){var i=n.__ecComponentInfo;if(i!=null)return e._model.getComponent(i.mainType,i.index);n=n.parent}}})}function US(e){function t(i,o){for(var a=0;a<i.length;a++)i[a][n]=o}var n="__connectUpdateStatus";Ge(Tl,function(i,o){e._messageCenter.on(o,function(a){if(Ll[e.group]&&e[n]!==0){if(a&&a.escapeConnect)return;var r=e.makeActionFromEvent(a),s=[];Ge(Gi,function(l){l!==e&&l.group===e.group&&s.push(l)}),t(s,0),Ge(s,function(l){l[n]!==1&&l.dispatchAction(r)}),t(s,2)}})})}function wm(e){Ll[e]=!1}function wh(e){return Gi[_b(e,nf)]}function bh(e,t){mx[e]=t}function He(e){px.push(e)}function ut(e,t){Mh(ef,e,t,hx)}function se(e,t,n){typeof t=="function"&&(n=t,t="");var i=sr(e)?e.type:[e,e={event:t}][0];e.event=(e.event||i).toLowerCase(),t=e.event,YT(fx.test(i)&&fx.test(t)),Al[i]||(Al[i]={action:n,actionInfo:e}),Tl[t]=i}function Sh(e,t){Xe.register(e,t)}function be(e,t){Mh(Cl,e,t,cx,"layout")}function ye(e,t){Mh(Cl,e,t,dx,"visual")}function Mh(e,t,n,i,o){($T(t)||sr(t))&&(n=t,t=i);var a=$r.wrapStageHandler(n,o);return a.__prio=t,a.__raw=n,e.push(a),a}function bm(e,t){tf[e]=t}function it(e){return ie.extend(e)}function Oe(e){return An.extend(e)}function Aa(e){return Ae.extend(e)}function Qe(e){return Ve.extend(e)}function es(e){return vx[e]}function Sm(e){return e}function xn(e,t,n,i,o){this._old=e,this._new=t,this._oldKeyGetter=n||Sm,this._newKeyGetter=i||Sm,this.context=o}function Mm(e,t,n,i,o){for(var a=0;a<e.length;a++){var r="_ec_"+o[i](e[a],a),s=t[r];s==null?(n.push(r),t[r]=a):(s.length||(t[r]=s=[s]),s.push(a))}}function jS(e){var t={},n=t.encode={},i=K(),o=[];b(e.dimensions,function(h){var c=e.getDimensionInfo(h),d=c.coordDim;if(d){var f=n[d];n.hasOwnProperty(d)||(f=n[d]=[]),f[c.coordDimIndex]=h,c.isExtraCoord||(i.set(d,1),XS(c.type)&&(o[0]=h))}yx.each(function(p,g){var m=n[g];n.hasOwnProperty(g)||(m=n[g]=[]);var v=c.otherDims[g];v!=null&&v!==!1&&(m[v]=c.name)})});var a=[],r={};i.each(function(h,c){var d=n[c];r[c]=d[0],a=a.concat(d)}),t.dataDimsOnCoord=a,t.encodeFirstDimNotExtra=r;var s=n.label;s&&s.length&&(o=s.slice());var l=o.slice(),u=n.tooltip;return u&&u.length&&(l=u.slice()),n.defaultedLabel=o,n.defaultedTooltip=l,t}function ts(e){return e==="category"?"ordinal":e==="time"?"time":"float"}function XS(e){return!(e==="ordinal"||e==="time")}function ns(e){return e._rawCount>65535?xx:aC}function qS(e){var t=e.constructor;return t===Array?e.slice():new t(e)}function Im(e,t){b(rC.concat(t.__wrappedMethods||[]),function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e.__wrappedMethods=t.__wrappedMethods}function YS(e){var t=e._invertedIndicesMap;b(t,function(n,i){var o=e._dimensionInfos[i].ordinalMeta;if(o){for(n=t[i]=new xx(o.categories.length),a=0;a<n.length;a++)n[a]=NaN;for(var a=0;a<e._count;a++)n[e.get(i,a)]=a}})}function Ta(e){return e}function Ca(e){return e<this._count&&e>=0?this._indices[e]:-1}function Ih(e,t){var n=e._idList[t];return n==null&&(n=e._getIdFromStore(t)),n==null&&(n=iC+t),n}function Dh(e){return O(e)||(e=[e]),e}function Dm(e,t){var n=e.dimensions,i=new Ee(P(n,e.getDimensionInfo,e),e.hostModel);Im(i,e);for(var o=i._storage={},a=e._storage,r=G({},e._rawExtent),s=0;s<n.length;s++){var l=n[s];a[l]&&(ne(t,l)>=0?(o[l]=$S(a[l]),r[l]=KS()):o[l]=a[l])}return i}function $S(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=qS(e[n]);return t}function KS(){return[1/0,-1/0]}function Am(e,t,n){function i(_,w,S){yx.get(w)!=null?_.otherDims[w]=S:(_.coordDim=w,_.coordDimIndex=S,s.set(w,!0))}kt.isInstance(t)||(t=kt.seriesDataToSource(t)),n=n||{},e=(e||[]).slice();for(var o=(n.dimsDef||[]).slice(),a=K(n.encodeDef),r=K(),s=K(),l=[],u=JS(t,e,o,n.dimCount),h=0;h<u;h++){var c=o[h]=G({},Y(o[h])?o[h]:{name:o[h]}),d=c.name,f=l[h]={otherDims:{}};d!=null&&r.get(d)==null&&(f.name=f.displayName=d,r.set(d,h)),c.type!=null&&(f.type=c.type),c.displayName!=null&&(f.displayName=c.displayName)}a.each(function(_,w){_=Ue(_).slice();var S=a.set(w,[]);b(_,function(M,I){xe(M)&&(M=r.get(M)),M!=null&&M<u&&(S[I]=M,i(l[M],w,I))})});var p=0;b(e,function(_,w){var S,_,M,I;if(xe(_))S=_,_={};else{S=_.name;var D=_.ordinalMeta;_.ordinalMeta=null,(_=Z(_)).ordinalMeta=D,M=_.dimsDef,I=_.otherDims,_.name=_.coordDim=_.coordDimIndex=_.dimsDef=_.otherDims=null}var T=Ue(a.get(S));if(!T.length)for(var A=0;A<(M&&M.length||1);A++){for(;p<l.length&&l[p].coordDim!=null;)p++;p<l.length&&T.push(p++)}b(T,function(L,k){var C=l[L];i(W(C,_),S,k),C.name==null&&M&&(C.name=C.displayName=M[k]),I&&W(C.otherDims,I)})});var g=n.generateCoord,m=n.generateCoordCount,v=m!=null;m=g?m||1:0;for(var y=g||"value",x=0;x<u;x++)(f=l[x]=l[x]||{}).coordDim==null&&(f.coordDim=Tm(y,s,v),f.coordDimIndex=0,(!g||m<=0)&&(f.isExtraCoord=!0),m--),f.name==null&&(f.name=Tm(f.coordDim,r)),f.type==null&&rS(t,x,f.name)&&(f.type="ordinal");return l}function JS(e,t,n,i){var o=Math.max(e.dimensionsDetectCount||1,t.length,n.length,i||0);return b(t,function(a){var r=a.dimsDef;r&&(o=Math.max(o,r.length))}),o}function Tm(e,t,n){if(n||t.get(e)!=null){for(var i=0;t.get(e+i)!=null;)i++;e+=i}return t.set(e,!0),e}function Cm(e,t,n){var i,o,a,r,s=(n=n||{}).byIndex,l=n.stackedCoordDimension,u=!(!e||!e.get("stack"));if(b(t,function(f,p){xe(f)&&(t[p]=f={name:f}),u&&!f.isExtraCoord&&(s||i||!f.ordinalMeta||(i=f),o||f.type==="ordinal"||f.type==="time"||l&&l!==f.coordDim||(o=f))}),o&&(s||i)){a="__\0ecstackresult",r="__\0ecstackedover",i&&(i.createInvertedIndices=!0);var h=o.coordDim,c=o.type,d=0;b(t,function(f){f.coordDim===h&&d++}),t.push({name:a,coordDim:h,coordDimIndex:d,type:c,isExtraCoord:!0,isCalculationCoord:!0}),d++,t.push({name:r,coordDim:r,coordDimIndex:d,type:c,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:o&&o.name,stackedByDimension:i&&i.name,isStackedByIndex:s,stackedOverDimension:r,stackResultDimension:a}}function _i(e,t,n){return t&&t===e.getCalculationInfo("stackedDimension")&&(n!=null?n===e.getCalculationInfo("stackedByDimension"):e.getCalculationInfo("isStackedByIndex"))}function _n(e,t,n){n=n||{},kt.isInstance(e)||(e=kt.seriesDataToSource(e));var i,o=t.get("coordinateSystem"),a=Xe.get(o),r=Xg(t);r&&(i=P(r.coordSysDims,function(f){var p={name:f},g=r.axisMap.get(f);if(g){var m=g.get("type");p.type=ts(m)}return p})),i||(i=a&&(a.getDimensionsInfo?a.getDimensionsInfo():a.dimensions.slice())||["x","y"]);var s,l,u=Zo(e,{coordDimensions:i,generateCoord:n.generateCoord});r&&b(u,function(f,p){var g=f.coordDim,m=r.categoryAxisMap.get(g);m&&(s==null&&(s=p),f.ordinalMeta=m.getOrdinalMeta()),f.otherDims.itemName!=null&&(l=!0)}),l||s==null||(u[s].otherDims.itemName=0);var h=Cm(t,u),c=new Ee(u,t);c.setCalculationInfo(h);var d=s!=null&&QS(e)?function(f,p,g,m){return m===s?g:this.defaultDimValueGetter(f,p,g,m)}:null;return c.hasItemOption=!1,c.initData(e,null,d),c}function QS(e){if(e.sourceFormat===Bi){var t=eM(e.data||[]);return t!=null&&!O(ma(t))}}function eM(e){for(var t=0;t<e.length&&e[t]==null;)t++;return e[t]}function Ce(e){this._setting=e||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}function La(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this._map}function Lm(e){return e._map||(e._map=K(e.categories))}function tM(e){return Y(e)&&e.value!=null?e.value:e+""}function nM(e,t,n,i){var o={},a=e[1]-e[0],r=o.interval=oh(a/t,!0);n!=null&&r<n&&(r=o.interval=n),i!=null&&r>i&&(r=o.interval=i);var s=o.intervalPrecision=km(r);return Om(o.niceTickExtent=[rf(Math.ceil(e[0]/r)*r,s),rf(Math.floor(e[1]/r)*r,s)],e),o}function km(e){return Ur(e)+2}function Pm(e,t,n){e[t]=Math.max(Math.min(e[t],n[1]),n[0])}function Om(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),Pm(e,0,t),Pm(e,1,t),e[0]>e[1]&&(e[0]=e[1])}function iM(e,t,n,i){var o=[];if(!e)return o;t[0]<n[0]&&o.push(t[0]);for(var a=n[0];a<=n[1]&&(o.push(a),(a=rf(a+e,i))!==o[o.length-1]);)if(o.length>1e4)return[];return t[1]>(o.length?o[o.length-1]:n[1])&&o.push(t[1]),o}function Nm(e){return e.get("stack")||lf+e.seriesIndex}function Em(e){return e.dim+e.index}function oM(e,t){var n=[],i=e.axis;if(i.type==="category"){for(var o=i.getBandWidth(),a=0;a<e.count;a++)n.push(W({bandWidth:o,axisKey:"axis0",stackId:lf+a},e));for(var r=Rm(n,t),s=[],a=0;a<e.count;a++){var l=r.axis0[lf+a];l.offsetCenter=l.offset+l.width/2,s.push(l)}return s}}function zm(e,t){return Rm(P(e,function(n){var i=n.getData(),o=n.coordinateSystem.getBaseAxis(),a=o.getExtent(),r=o.type==="category"?o.getBandWidth():Math.abs(a[1]-a[0])/i.count();return{bandWidth:r,barWidth:E(n.get("barWidth"),r),barMaxWidth:E(n.get("barMaxWidth"),r),barGap:n.get("barGap"),barCategoryGap:n.get("barCategoryGap"),axisKey:Em(o),stackId:Nm(n)}}),t)}function Rm(e,t){var n={};b(e,function(o,a){var r=o.axisKey,s=o.bandWidth,l=n[r]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},u=l.stacks;n[r]=l;var h=o.stackId;u[h]||l.autoWidthCount++,u[h]=u[h]||{width:0,maxWidth:0};var c=o.barWidth;c&&!u[h].width&&(u[h].width=c,c=Math.min(l.remainedWidth,c),l.remainedWidth-=c);var d=o.barMaxWidth;d&&(u[h].maxWidth=d);var f=o.barGap;f!=null&&(l.gap=f);var p=o.barCategoryGap;p!=null&&(l.categoryGap=p)});var i={};return b(n,function(o,a){i[a]={};var r=o.stacks,s=o.bandWidth,l=E(o.categoryGap,s),u=E(o.gap,1),h=o.remainedWidth,c=o.autoWidthCount,d=(h-l)/(c+(c-1)*u);d=Math.max(d,0),b(r,function(m,v){var y=m.maxWidth;y&&y<d&&(y=Math.min(y,h),m.width&&(y=Math.min(y,m.width)),h-=y,m.width=y,c--)}),d=(h-l)/(c+(c-1)*u),d=Math.max(d,0);var f,p=0;b(r,function(m,v){m.width||(m.width=d),f=m,p+=m.width*(1+u)}),f&&(p-=f.width*u);var g=-p/2;b(r,function(m,v){i[a][v]=i[a][v]||{offset:g,width:m.width},g+=m.width*(1+u)})}),i}function Bm(e,t,n){var i=[];t.eachSeriesByType(e,function(r){r.coordinateSystem&&r.coordinateSystem.type==="cartesian2d"&&i.push(r)});var o=zm(i),a={};b(i,function(r){var s=r.getData(),l=r.coordinateSystem,u=l.getBaseAxis(),h=Nm(r),c=o[Em(u)][h],d=c.offset,f=c.width,p=l.getOtherAxis(u),g=r.get("barMinHeight")||0;a[h]=a[h]||[],s.setLayout({offset:d,size:f});for(var m=s.mapDimension(p.dim),v=s.mapDimension(u.dim),y=_i(s,m,v),x=p.isHorizontal(),_=u.onZero||y?p.toGlobalCoord(p.dataToCoord(0)):p.getGlobalExtent()[0],w=0,S=s.count();w<S;w++){var M=s.get(m,w),I=s.get(v,w);if(!isNaN(M)){var D=M>=0?"p":"n",T=_;y&&(a[h][I]||(a[h][I]={p:_,n:_}),T=a[h][I][D]);var A,L,k,C;if(x)A=T,L=(N=l.dataToPoint([M,I]))[1]+d,k=N[0]-_,C=f,Math.abs(k)<g&&(k=(k<0?-1:1)*g),y&&(a[h][I][D]+=k);else{var N=l.dataToPoint([I,M]);A=N[0]+d,L=T,k=f,C=N[1]-_,Math.abs(C)<g&&(C=(C<=0?-1:1)*g),y&&(a[h][I][D]+=C)}s.setItemLayout(w,{x:A,y:L,width:k,height:C})}}},this)}function is(e,t){return cC(e,hC(t))}function Vm(e,t){var n,i,o,a=e.type,r=t.getMin(),s=t.getMax(),l=r!=null,u=s!=null,h=e.getExtent();a==="ordinal"?n=t.getCategories().length:(O(i=t.get("boundaryGap"))||(i=[i||0,i||0]),typeof i[0]=="boolean"&&(i=[0,0]),i[0]=E(i[0],1),i[1]=E(i[1],1),o=h[1]-h[0]||Math.abs(h[0])),r==null&&(r=a==="ordinal"?n?0:NaN:h[0]-i[0]*o),s==null&&(s=a==="ordinal"?n?n-1:NaN:h[1]+i[1]*o),r==="dataMin"?r=h[0]:typeof r=="function"&&(r=r({min:h[0],max:h[1]})),s==="dataMax"?s=h[1]:typeof s=="function"&&(s=s({min:h[0],max:h[1]})),(r==null||!isFinite(r))&&(r=NaN),(s==null||!isFinite(s))&&(s=NaN),e.setBlank(sa(r)||sa(s)),t.getNeedCrossZero()&&(r>0&&s>0&&!l&&(r=0),r<0&&s<0&&!u&&(s=0));var c=t.ecModel;if(c&&a==="time"){var d,f=[];if(c.eachSeriesByType("bar",function(g){g.coordinateSystem&&g.coordinateSystem.type==="cartesian2d"&&(f.push(g),d|=g.getBaseAxis()===t.axis)}),d){var p=aM(r,s,t,f);r=p.min,s=p.max}}return[r,s]}function aM(e,t,n,i){var o=n.axis.getExtent(),a=o[1]-o[0],r=zm(i)[n.axis.dim+n.axis.index];if(r===void 0)return{min:e,max:t};var s=1/0;b(r,function(d){s=Math.min(d.offset,s)});var l=-1/0;b(r,function(d){l=Math.max(d.offset+d.width,l)}),s=Math.abs(s),l=Math.abs(l);var u=s+l,h=t-e,c=h/(1-(s+l)/a)-h;return t+=c*(l/u),e-=c*(s/u),{min:e,max:t}}function wi(e,t){var n=Vm(e,t),i=t.getMin()!=null,o=t.getMax()!=null,a=t.get("splitNumber");e.type==="log"&&(e.base=t.get("logBase"));var r=e.type;e.setExtent(n[0],n[1]),e.niceExtent({splitNumber:a,fixMin:i,fixMax:o,minInterval:r==="interval"||r==="time"?t.get("minInterval"):null,maxInterval:r==="interval"||r==="time"?t.get("maxInterval"):null});var s=t.get("interval");s!=null&&e.setInterval&&e.setInterval(s)}function yo(e,t){if(t=t||e.get("type"))switch(t){case"category":return new af(e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),[1/0,-1/0]);case"value":return new nn;default:return(Ce.getClass(t)||nn).create(e)}}function Gm(e,t,n,i,o){var a,r=0,s=0,l=(i-o)/180*Math.PI,u=1;t.length>40&&(u=Math.floor(t.length/40));for(var h=0;h<e.length;h+=u){var c=e[h],d=mn(t[h],n,"center","top");d.x+=c*Math.cos(l),d.y+=c*Math.sin(l),d.width*=1.3,d.height*=1.3,a?a.intersect(d)?(s++,r=Math.max(r,s)):(a.union(d),s=0):a=d.clone()}return r===0&&u>1?u:(r+1)*u-1}function Ah(e,t){var n=e.scale,i=n.getTicksLabels(),o=n.getTicks();return typeof t=="string"?(t=function(a){return function(r){return a.replace("{value}",r!=null?r:"")}}(t),P(i,t)):typeof t=="function"?P(o,function(a,r){return t(Th(e,a),r)},this):i}function Th(e,t){return e.type==="category"?e.scale.getLabel(t):t}function rM(e,t){if(this.type!=="image"){var n=this.style,i=this.shape;i&&i.symbolType==="line"?n.stroke=e:this.__isEmptyBrush?(n.stroke=e,n.fill=t||"#fff"):(n.fill&&(n.fill=e),n.stroke&&(n.stroke=e)),this.dirty(!1)}}function ht(e,t,n,i,o,a,r){var s=e.indexOf("empty")===0;s&&(e=e.substr(5,1).toLowerCase()+e.substr(6));var l;return l=e.indexOf("image://")===0?bg(e.slice(8),new Q(t,n,i,o),r?"center":"cover"):e.indexOf("path://")===0?ya(e.slice(7),{},new Q(t,n,i,o),r?"center":"cover"):new xC({shape:{symbolType:e,x:t,y:n,width:i,height:o}}),l.__isEmptyBrush=s,l.setColor=rM,l.setColor(a),l}function Wm(e,t){return Math.abs(e-t)<bC}function bi(e,t,n){var i=0,o=e[0];if(!o)return!1;for(var a=1;a<e.length;a++){var r=e[a];i+=vn(o[0],o[1],r[0],r[1],t,n),o=r}var s=e[0];return Wm(o[0],s[0])&&Wm(o[1],s[1])||(i+=vn(o[0],o[1],s[0],s[1],t,n)),i!==0}function os(e,t,n){if(this.name=e,this.geometries=t,n)n=[n[0],n[1]];else{var i=this.getBoundingRect();n=[i.x+i.width/2,i.y+i.height/2]}this.center=n}function sM(e){if(!e.UTF8Encoding)return e;var t=e.UTF8Scale;t==null&&(t=1024);for(var n=e.features,i=0;i<n.length;i++)for(var o=n[i].geometry,a=o.coordinates,r=o.encodeOffsets,s=0;s<a.length;s++){var l=a[s];if(o.type==="Polygon")a[s]=Fm(l,r[s],t);else if(o.type==="MultiPolygon")for(var u=0;u<l.length;u++){var h=l[u];l[u]=Fm(h,r[s][u],t)}}return e.UTF8Encoding=!1,e}function Fm(e,t,n){for(var i=[],o=t[0],a=t[1],r=0;r<e.length;r+=2){var s=e.charCodeAt(r)-64,l=e.charCodeAt(r+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),o=s+=o,a=l+=a,i.push([s/n,l/n])}return i}function Hm(e,t){var n=(e[1]-e[0])/t/2;e[0]+=n,e[1]-=n}function as(e,t){var n=e.mapDimension("defaultedLabel",!0),i=n.length;if(i===1)return xi(e,t,n[0]);if(i){for(var o=[],a=0;a<n.length;a++){var r=xi(e,t,n[a]);o.push(r)}return o.join(" ")}}function lM(e,t){var n=e.getItemVisual(t,"symbolSize");return n instanceof Array?n.slice():[+n,+n]}function Ch(e){return[e[0]/2,e[1]/2]}function xo(e,t,n){V.call(this),this.updateData(e,t,n)}function uM(e,t){this.parent.drift(e,t)}function _o(e){this.group=new V,this._symbolCtor=e||xo}function Lh(e,t,n,i){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(i.isIgnore&&i.isIgnore(n))&&!(i.clipShape&&!i.clipShape.contain(t[0],t[1]))&&e.getItemVisual(n,"symbol")!=="none"}function Zm(e){return e==null||Y(e)||(e={isIgnore:e}),e||{}}function Um(e){var t=e.hostModel;return{itemStyle:t.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:t.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:t.get("symbolRotate"),symbolOffset:t.get("symbolOffset"),hoverAnimation:t.get("hoverAnimation"),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label"),cursorStyle:t.get("cursor")}}function kh(e,t,n){var i=e.getBaseAxis(),o=e.getOtherAxis(i),a=hM(o,n),r=i.dim,s=o.dim,l=t.mapDimension(s),u=t.mapDimension(r),h=s==="x"||s==="radius"?1:0,c=_i(t,l,u);return{dataDimsForPoint:P(e.dimensions,function(d){return t.mapDimension(d)}),valueStart:a,valueAxisDim:s,baseAxisDim:r,stacked:c,valueDim:l,baseDim:u,baseDataOffset:h,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function hM(e,t){var n=0,i=e.scale.getExtent();return t==="start"?n=i[0]:t==="end"?n=i[1]:i[0]>0?n=i[0]:i[1]<0&&(n=i[1]),n}function Ph(e,t,n,i){var o=NaN;e.stacked&&(o=n.get(n.getCalculationInfo("stackedOverDimension"),i)),isNaN(o)&&(o=e.valueStart);var a=e.baseDataOffset,r=[];return r[a]=n.get(e.baseDim,i),r[1-a]=o,t.dataToPoint(r)}function cM(e,t){var n=[];return t.diff(e).add(function(i){n.push({cmd:"+",idx:i})}).update(function(i,o){n.push({cmd:"=",idx:o,idx1:i})}).remove(function(i){n.push({cmd:"-",idx:i})}).execute(),n}function wn(e){return isNaN(e[0])||isNaN(e[1])}function Oh(e,t,n,i,o,a,r,s,l,u,h){return u==null?Nh(t,"x")?Eh(e,t,n,i,o,a,r,s,l,"x",h):Nh(t,"y")?Eh(e,t,n,i,o,a,r,s,l,"y",h):jm.apply(this,arguments):u!=="none"&&Nh(t,u)?Eh.apply(this,arguments):jm.apply(this,arguments)}function Nh(e,t){if(e.length<=1)return!0;for(var n=t==="x"?0:1,i=e[0][n],o=0,a=1;a<e.length;++a){var r=e[a][n]-i;if(!isNaN(r)&&!isNaN(o)&&r!==0&&o!==0&&r>=0!=o>=0)return!1;isNaN(r)||r===0||(o=r,i=e[a][n])}return!0}function Eh(e,t,n,i,o,a,r,s,l,u,h){for(var c=0,d=n,f=0;f<i;f++){var p=t[d];if(d>=o||d<0)break;if(wn(p)){if(h){d+=a;continue}break}if(d===n)e[a>0?"moveTo":"lineTo"](p[0],p[1]);else if(l>0){var g=t[c],m=u==="y"?1:0,v=(p[m]-g[m])*l;El(It,g),It[m]=g[m]+v,El(Dt,p),Dt[m]=p[m]-v,e.bezierCurveTo(It[0],It[1],Dt[0],Dt[1],p[0],p[1])}else e.lineTo(p[0],p[1]);c=d,d+=a}return f}function jm(e,t,n,i,o,a,r,s,l,u,h){for(var c=0,d=n,f=0;f<i;f++){var p=t[d];if(d>=o||d<0)break;if(wn(p)){if(h){d+=a;continue}break}if(d===n)e[a>0?"moveTo":"lineTo"](p[0],p[1]),El(It,p);else if(l>0){var g=d+a,m=t[g];if(h)for(;m&&wn(t[g]);)m=t[g+=a];var v=.5,y=t[c];if(!(m=t[g])||wn(m))El(Dt,p);else{wn(m)&&!h&&(m=p),dn(pf,m,y);var x,_;if(u==="x"||u==="y"){var w=u==="x"?0:1;x=Math.abs(p[w]-y[w]),_=Math.abs(p[w]-m[w])}else x=Li(p,y),_=Li(p,m);Cx(Dt,p,pf,-l*(1-(v=_/(_+x))))}Ax(It,It,s),Tx(It,It,r),Ax(Dt,Dt,s),Tx(Dt,Dt,r),e.bezierCurveTo(It[0],It[1],Dt[0],Dt[1],p[0],p[1]),Cx(It,p,pf,l*v)}else e.lineTo(p[0],p[1]);c=d,d+=a}return f}function zh(e,t){var n=[1/0,1/0],i=[-1/0,-1/0];if(t)for(var o=0;o<e.length;o++){var a=e[o];a[0]<n[0]&&(n[0]=a[0]),a[1]<n[1]&&(n[1]=a[1]),a[0]>i[0]&&(i[0]=a[0]),a[1]>i[1]&&(i[1]=a[1])}return{min:t?n:i,max:t?i:n}}function Xm(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++){var i=e[n],o=t[n];if(i[0]!==o[0]||i[1]!==o[1])return}return!0}}function qm(e){return typeof e=="number"?e:e?.5:0}function Ym(e){var t=e.getGlobalExtent();if(e.onBand){var n=e.getBandWidth()/2-1,i=t[1]>t[0]?1:-1;t[0]+=i*n,t[1]-=i*n}return t}function dM(e,t,n){if(!n.valueDim)return[];for(var i=[],o=0,a=t.count();o<a;o++)i.push(Ph(n,e,t,o));return i}function fM(e,t,n){var i=Ym(e.getAxis("x")),o=Ym(e.getAxis("y")),a=e.getBaseAxis().isHorizontal(),r=Math.min(i[0],i[1]),s=Math.min(o[0],o[1]),l=Math.max(i[0],i[1])-r,u=Math.max(o[0],o[1])-s,h=n.get("lineStyle.width")||2,c=n.get("clipOverflow")?h/2:Math.max(l,u);a?(s-=c,u+=2*c):(r-=c,l+=2*c);var d=new pe({shape:{x:r,y:s,width:l,height:u}});return t&&(d.shape[a?"width":"height"]=0,Je(d,{shape:{width:l,height:u}},n)),d}function pM(e,t,n){var i=e.getAngleAxis(),o=e.getRadiusAxis().getExtent(),a=i.getExtent(),r=Math.PI/180,s=new In({shape:{cx:e.cx,cy:e.cy,r0:o[0],r:o[1],startAngle:-a[0]*r,endAngle:-a[1]*r,clockwise:i.inverse}});return t&&(s.shape.endAngle=-a[0]*r,Je(s,{shape:{endAngle:-a[1]*r}},n)),s}function Rh(e,t,n){return e.type==="polar"?pM(e,t,n):fM(e,t,n)}function Gn(e,t,n){for(var i=t.getBaseAxis(),o=i.dim==="x"||i.dim==="radius"?0:1,a=[],r=0;r<e.length-1;r++){var s=e[r+1],l=e[r];a.push(l);var u=[];switch(n){case"end":u[o]=s[o],u[1-o]=l[1-o],a.push(u);break;case"middle":var h=(l[o]+s[o])/2,c=[];u[o]=c[o]=h,u[1-o]=l[1-o],c[1-o]=s[1-o],a.push(u),a.push(c);break;default:u[o]=l[o],u[1-o]=s[1-o],a.push(u)}}return e[r]&&a.push(e[r]),a}function gM(e,t){var n=e.getVisual("visualMeta");if(n&&n.length&&e.count()&&t.type==="cartesian2d"){for(var i,o,a=n.length-1;a>=0;a--){var r=n[a].dimension,s=e.dimensions[r],l=e.getDimensionInfo(s);if((i=l&&l.coordDim)==="x"||i==="y"){o=n[a];break}}if(o){var u=t.getAxis(i),h=P(o.stops,function(v){return{coord:u.toGlobalCoord(u.dataToCoord(v.value)),color:v.color}}),c=h.length,d=o.outerColors.slice();c&&h[0].coord>h[c-1].coord&&(h.reverse(),d.reverse());var f=h[0].coord-10,p=h[c-1].coord+10,g=p-f;if(g<.001)return"transparent";b(h,function(v){v.offset=(v.coord-f)/g}),h.push({offset:c?h[c-1].offset:.5,color:d[1]||"transparent"}),h.unshift({offset:c?h[0].offset:.5,color:d[0]||"transparent"});var m=new Go(0,0,0,0,h,!0);return m[i]=f,m[i+"2"]=p,m}}}function mM(e){return this._axes[e]}function ka(e){zl.call(this,e)}function $m(e,t){return t.type||(t.data?"category":"value")}function Bh(e,t,n){return e.getCoordSysModel()===t}function vM(e,t){var n=t*Math.PI/180,i=e.plain(),o=i.width,a=i.height,r=o*Math.cos(n)+a*Math.sin(n),s=o*Math.sin(n)+a*Math.cos(n);return new Q(i.x,i.y,r,s)}function yM(e){var t,n=e.model,i=n.get("axisLabel.show")?n.getFormattedLabels():[],o=n.getModel("axisLabel"),a=1,r=i.length;r>40&&(a=Math.ceil(r/40));for(var s=0;s<r;s+=a)if(!e.isLabelIgnored(s)){var l=vM(o.getTextRect(i[s]),o.get("rotate")||0);t?t.union(l):t=l}return t}function wo(e,t,n){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(e,t,n),this.model=e}function Km(e,t,n){var i=e[t];if(n.onZero){var o=n.onZeroAxisIndex;if(o==null){for(var a in i)if(i.hasOwnProperty(a)){var r=i[a];if(r&&!Jm(r)){o=+a;break}}o==null&&(n.onZero=!1),n.onZeroAxisIndex=o}else(r=i[o])&&Jm(r)&&(n.onZero=!1)}}function Jm(e){return e.type==="category"||e.type==="time"||!OC(e)}function xM(e,t){var n=e.getExtent(),i=n[0]+n[1];e.toGlobalCoord=e.dim==="x"?function(o){return o+t}:function(o){return i-o+t},e.toLocalCoord=e.dim==="x"?function(o){return o-t}:function(o){return i-o+t}}function Qm(e,t){return P(NC,function(n){return e.getReferringComponents(n)[0]})}function ev(e){return e.get("coordinateSystem")==="cartesian2d"}function tv(e){var t={componentType:e.mainType};return t[e.mainType+"Index"]=e.componentIndex,t}function _M(e,t,n,i){var o,a,r=ih(n-e.rotation),s=i[0]>i[1],l=t==="start"&&!s||t!=="start"&&s;return _a(r-ti/2)?(a=l?"bottom":"top",o="center"):_a(r-1.5*ti)?(a=l?"top":"bottom",o="center"):(a="middle",o=r<1.5*ti&&r>ti/2?l?"left":"right":l?"right":"left"),{rotation:r,textAlign:o,textVerticalAlign:a}}function nv(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)}function wM(e,t,n){var i=e.get("axisLabel.showMinLabel"),o=e.get("axisLabel.showMaxLabel");t=t||[],n=n||[];var a=t[0],r=t[1],s=t[t.length-1],l=t[t.length-2],u=n[0],h=n[1],c=n[n.length-1],d=n[n.length-2];i===!1?(_t(a),_t(u)):iv(a,r)&&(i?(_t(r),_t(h)):(_t(a),_t(u))),o===!1?(_t(s),_t(c)):iv(l,s)&&(o?(_t(l),_t(d)):(_t(s),_t(c)))}function _t(e){e&&(e.ignore=!0)}function iv(e,t,n){var i=e&&e.getBoundingRect().clone(),o=t&&t.getBoundingRect().clone();if(i&&o){var a=ca([]);return ci(a,a,-e.rotation),i.applyTransform(hi([],a,e.getLocalTransform())),o.applyTransform(hi([],a,t.getLocalTransform())),i.intersect(o)}}function ov(e){return e==="middle"||e==="center"}function bM(e,t,n){var i=t.axis;if(t.get("axisTick.show")&&!i.scale.isBlank()){for(var o=t.getModel("axisTick"),a=o.getModel("lineStyle"),r=o.get("length"),s=EC(o,n.labelInterval),l=i.getTicksCoords(o.get("alignWithLabel")),u=i.scale.getTicks(),h=t.get("axisLabel.showMinLabel"),c=t.get("axisLabel.showMaxLabel"),d=[],f=[],p=e._transform,g=[],m=l.length,v=0;v<m;v++)if(!zx(i,v,s,m,h,c)){var y=l[v];d[0]=y,d[1]=0,f[0]=y,f[1]=n.tickDirection*r,p&&(ge(d,d,p),ge(f,f,p));var x=new Mt(gi({anid:"tick_"+u[v],shape:{x1:d[0],y1:d[1],x2:f[0],y2:f[1]},style:W(a.getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")}),z2:2,silent:!0}));e.group.add(x),g.push(x)}return g}}function SM(e,t,n){var i=t.axis;if(Re(n.axisLabelShow,t.get("axisLabel.show"))&&!i.scale.isBlank()){var o=t.getModel("axisLabel"),a=o.get("margin"),r=i.scale.getTicks(),s=t.getFormattedLabels(),l=(Re(n.labelRotate,o.get("rotate"))||0)*ti/180,u=Ex(n.rotation,l,n.labelDirection),h=t.getCategories(),c=[],d=nv(t),f=t.get("triggerEvent"),p=t.get("axisLabel.showMinLabel"),g=t.get("axisLabel.showMaxLabel");return b(r,function(m,v){if(!zx(i,v,n.labelInterval,r.length,p,g)){var y=o;h&&h[m]&&h[m].textStyle&&(y=new re(h[m].textStyle,o,t.ecModel));var x=y.getTextColor()||t.get("axisLine.lineStyle.color"),_=[i.dataToCoord(m),n.labelOffset+n.labelDirection*a],w=i.scale.getLabel(m),S=new te({anid:"label_"+m,position:_,rotation:u.rotation,silent:d,z2:10});Se(S.style,y,{text:s[v],textAlign:y.getShallow("align",!0)||u.textAlign,textVerticalAlign:y.getShallow("verticalAlign",!0)||y.getShallow("baseline",!0)||u.textVerticalAlign,textFill:typeof x=="function"?x(i.type==="category"?w:i.type==="value"?m+"":m,v):x}),f&&(S.eventData=tv(t),S.eventData.targetType="axisLabel",S.eventData.value=w),e._dumbGroup.add(S),S.updateTransform(),c.push(S),e.group.add(S),S.decomposeTransform()}}),c}}function MM(e,t){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return IM(n,e,t),n.seriesInvolved&&AM(n,e),n}function IM(e,t,n){var i=t.getComponent("tooltip"),o=t.getComponent("axisPointer"),a=o.get("link",!0)||[],r=[];qo(n.getCoordinateSystems(),function(s){function l(g,m,v){var y=v.model.getModel("axisPointer",o),x=y.get("show");if(x&&(x!=="auto"||g||Wh(y))){m==null&&(m=y.get("triggerTooltip"));var _=(y=g?DM(v,c,o,t,g,m):y).get("snap"),w=Pa(v.model),S=m||_||v.type==="category",M=e.axesInfo[w]={key:w,axis:v,coordSys:s,axisPointerModel:y,triggerTooltip:m,involveSeries:S,snap:_,useHandle:Wh(y),seriesModels:[]};h[w]=M,e.seriesInvolved|=S;var I=TM(a,v);if(I!=null){var D=r[I]||(r[I]={axesInfo:{}});D.axesInfo[w]=M,D.mapper=a[I].mapper,M.linkGroup=D}}}if(s.axisPointerEnabled){var u=Pa(s.model),h=e.coordSysAxesInfo[u]={};e.coordSysMap[u]=s;var c=s.model.getModel("tooltip",i);if(qo(s.getAxes(),gf(l,!1,null)),s.getTooltipAxes&&i&&c.get("show")){var d=c.get("trigger")==="axis",f=c.get("axisPointer.type")==="cross",p=s.getTooltipAxes(c.get("axisPointer.axis"));(d||f)&&qo(p.baseAxes,gf(l,!f||"cross",d)),f&&qo(p.otherAxes,gf(l,"cross",!1))}}})}function DM(e,t,n,i,o,a){var r=t.getModel("axisPointer"),s={};qo(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(c){s[c]=Z(r.get(c))}),s.snap=e.type!=="category"&&!!a,r.get("type")==="cross"&&(s.type="line");var l=s.label||(s.label={});if(l.show==null&&(l.show=!1),o==="cross"){var u=r.get("label.show");if(l.show=u==null||u,!a){var h=s.lineStyle=r.get("crossStyle");h&&W(l,h.textStyle)}}return e.model.getModel("axisPointer",new re(s,n,i))}function AM(e,t){t.eachSeries(function(n){var i=n.coordinateSystem,o=n.get("tooltip.trigger",!0),a=n.get("tooltip.show",!0);i&&o!=="none"&&o!==!1&&o!=="item"&&a!==!1&&n.get("axisPointer.show",!0)!==!1&&qo(e.coordSysAxesInfo[Pa(i.model)],function(r){var s=r.axis;i.getAxis(s.dim)===s&&(r.seriesModels.push(n),r.seriesDataCount==null&&(r.seriesDataCount=0),r.seriesDataCount+=n.getData().count())})},this)}function TM(e,t){for(var n=t.model,i=t.dim,o=0;o<e.length;o++){var a=e[o]||{};if(Vh(a[i+"AxisId"],n.id)||Vh(a[i+"AxisIndex"],n.componentIndex)||Vh(a[i+"AxisName"],n.name))return o}}function Vh(e,t){return e==="all"||O(e)&&ne(e,t)>=0||e===t}function CM(e){var t=Gh(e);if(t){var n=t.axisPointerModel,i=t.axis.scale,o=n.option,a=n.get("status"),r=n.get("value");r!=null&&(r=i.parse(r));var s=Wh(n);a==null&&(o.status=s?"show":"hide");var l=i.getExtent().slice();l[0]>l[1]&&l.reverse(),(r==null||r>l[1])&&(r=l[1]),r<l[0]&&(r=l[0]),o.value=r,s&&(o.status=t.axis.scale.isBlank()?"hide":"show")}}function Gh(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[Pa(e)]}function LM(e){var t=Gh(e);return t&&t.axisPointerModel}function Wh(e){return!!e.get("handle.show")}function Pa(e){return e.type+"||"+e.id}function av(e,t,n,i,o,a){var r=ft.getAxisPointerClass(e.axisPointerClass);if(r){var s=LM(t);s?(e._axisPointer||(e._axisPointer=new r)).render(t,s,i,a):rv(e,i)}}function rv(e,t,n){var i=e._axisPointer;i&&i.dispose(t,n),e._axisPointer=null}function Fh(e,t,n){n=n||{};var i=e.coordinateSystem,o=t.axis,a={},r=o.position,s=o.onZero?"onZero":r,l=o.dim,u=i.getRect(),h=[u.x,u.x+u.width,u.y,u.y+u.height],c={left:0,right:1,top:0,bottom:1,onZero:2},d=t.get("offset")||0,f=l==="x"?[h[2]-d,h[3]+d]:[h[0]-d,h[1]+d];if(o.onZero){var p=i.getAxis(l==="x"?"y":"x",o.onZeroAxisIndex),g=p.toGlobalCoord(p.dataToCoord(0));f[c.onZero]=Math.max(Math.min(g,f[1]),f[0])}a.position=[l==="y"?f[c[s]]:h[0],l==="x"?f[c[s]]:h[3]],a.rotation=Math.PI/2*(l==="x"?0:1);var m={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=m[r],a.labelOffset=o.onZero?f[c[r]]-f[c.onZero]:0,t.get("axisTick.inside")&&(a.tickDirection=-a.tickDirection),Re(n.labelInside,t.get("axisLabel.inside"))&&(a.labelDirection=-a.labelDirection);var v=t.get("axisLabel.rotate");return a.labelRotate=s==="top"?-v:v,a.labelInterval=o.getLabelInterval(),a.z2=1,a}function sv(e,t,n,i,o,a,r){yt(e,t,n.getModel("label"),n.getModel("emphasis.label"),{labelFetcher:o,labelDataIndex:a,defaultText:as(o.getData(),a),isRectText:!0,autoColor:i}),lv(e),lv(t)}function lv(e,t){e.textPosition==="outside"&&(e.textPosition=t)}function uv(e,t,n){n.style.text=null,J(n,{shape:{width:0}},t,e,function(){n.parent&&n.parent.remove(n)})}function hv(e,t,n){n.style.text=null,J(n,{shape:{r:n.shape.r0}},t,e,function(){n.parent&&n.parent.remove(n)})}function cv(e,t,n,i,o,a,r,s){var l=t.getItemVisual(n,"color"),u=t.getItemVisual(n,"opacity"),h=i.getModel("itemStyle"),c=i.getModel("emphasis.itemStyle").getBarItemStyle();s||e.setShape("r",h.get("barBorderRadius")||0),e.useStyle(W({fill:l,opacity:u},h.getBarItemStyle()));var d=i.getShallow("cursor");d&&e.attr("cursor",d);var f=r?o.height>0?"bottom":"top":o.width>0?"left":"right";s||sv(e.style,c,i,l,a,n,f),ve(e,c)}function kM(e,t){var n=e.get(GC)||0;return Math.min(n,Math.abs(t.width),Math.abs(t.height))}function PM(e,t,n,i){var o=t.getData(),a=this.dataIndex,r=o.getName(a),s=t.get("selectedOffset");i.dispatchAction({type:"pieToggleSelect",from:e,name:r,seriesId:t.id}),o.each(function(l){dv(o.getItemGraphicEl(l),o.getItemLayout(l),t.isSelected(o.getName(l)),s,n)})}function dv(e,t,n,i,o){var a=(t.startAngle+t.endAngle)/2,r=Math.cos(a),s=Math.sin(a),l=n?i:0,u=[r*l,s*l];o?e.animate().when(200,{position:u}).start("bounceOut"):e.attr("position",u)}function Hh(e,t){function n(){a.ignore=a.hoverIgnore,r.ignore=r.hoverIgnore}function i(){a.ignore=a.normalIgnore,r.ignore=r.normalIgnore}V.call(this);var o=new In({z2:2}),a=new Qt,r=new te;this.add(o),this.add(a),this.add(r),this.updateData(e,t,!0),this.on("emphasis",n).on("normal",i).on("mouseover",n).on("mouseout",i)}function fv(e,t,n,i,o,a,r){function s(g,m){for(var v=g;v>=0&&(e[v].y-=m,!(v>0&&e[v].y>e[v-1].y+e[v-1].height));v--);}function l(g,m,v,y,x,_){for(var w=m?Number.MAX_VALUE:0,S=0,M=g.length;S<M;S++)if(g[S].position!=="center"){var I=Math.abs(g[S].y-y),D=g[S].len,T=g[S].len2,A=I<x+D?Math.sqrt((x+D+T)*(x+D+T)-I*I):Math.abs(g[S].x-v);m&&A>=w&&(A=w-10),!m&&A<=w&&(A=w+10),g[S].x=v+A*_,w=A}}e.sort(function(g,m){return g.y-m.y});for(var u,h=0,c=e.length,d=[],f=[],p=0;p<c;p++)(u=e[p].y-h)<0&&function(g,m,v,y){for(var x=g;x<m;x++)if(e[x].y+=v,x>g&&x+1<m&&e[x+1].y>e[x].y+e[x].height)return void s(x,v/2);s(m-1,v/2)}(p,c,-u),h=e[p].y+e[p].height;for(r-h<0&&s(c-1,h-r),p=0;p<c;p++)e[p].y>=n?f.push(e[p]):d.push(e[p]);l(d,!1,t,n,i,o),l(f,!0,t,n,i,o)}function OM(e,t,n,i,o,a){for(var r=[],s=[],l=0;l<e.length;l++)e[l].x<t?r.push(e[l]):s.push(e[l]);for(fv(s,t,n,i,1,o,a),fv(r,t,n,i,-1,o,a),l=0;l<e.length;l++){var u=e[l].linePoints;if(u){var h=u[1][0]-u[2][0];e[l].x<t?u[2][0]=e[l].x+3:u[2][0]=e[l].x-3,u[1][1]=u[2][1]=e[l].y,u[1][0]=u[2][0]+h}}}function pv(){this.group=new V}function gv(e,t,n){Le.call(this,e,t,n),this.type="value",this.angle=0,this.name="",this.model}function jt(e,t,n){this._model=e,this.dimensions=[],this._indicatorAxes=P(e.getIndicatorModels(),function(i,o){var a="indicator_"+o,r=new gv(a,new nn);return r.name=i.get("name"),r.model=i,i.axis=r,this.dimensions.push(a),r},this),this.resize(e,n),this.cx,this.cy,this.r,this.startAngle}function rs(e,t){return W({show:t},e)}function NM(e){return O(e)||(e=[+e,+e]),e}function Zh(){Xt.call(this)}function Si(e){this.name=e,this.zoomLimit,Xt.call(this),this._roamTransformable=new Zh,this._rawTransformable=new Zh,this._center,this._zoom}function mv(e,t,n,i){var o=n.seriesModel,a=o?o.coordinateSystem:null;return a===this?a[e](i):null}function bo(e,t,n,i,o){Si.call(this,e),this.map=t,this._nameCoordMap=K(),this.loadGeoJson(n,i,o)}function vv(e,t,n,i){var o=n.geoModel,a=n.seriesModel,r=o?o.coordinateSystem:a?a.coordinateSystem||(a.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return r===this?r[e](i):null}function yv(e,t){var n=e.get("boundingCoords");if(n!=null){var i=n[0],o=n[1];isNaN(i[0])||isNaN(i[1])||isNaN(o[0])||isNaN(o[1])||this.setBoundingRect(i[0],i[1],o[0]-i[0],o[1]-i[1])}var a,r=this.getBoundingRect(),s=e.get("layoutCenter"),l=e.get("layoutSize"),u=t.getWidth(),h=t.getHeight(),c=e.get("aspectScale")||.75,d=r.width/r.height*c,f=!1;if(s&&l&&(s=[E(s[0],u),E(s[1],h)],l=E(l,Math.min(u,h)),isNaN(s[0])||isNaN(s[1])||isNaN(l)||(f=!0)),f){var p={};d>1?(p.width=l,p.height=l/d):(p.height=l,p.width=l*d),p.y=s[1]-p.height/2,p.x=s[0]-p.width/2}else(a=e.getBoxLayoutParams()).aspect=d,p=Pe(a,{width:u,height:h});this.setViewRect(p.x,p.y,p.width,p.height),this.setCenter(e.get("center")),this.setZoom(e.get("zoom"))}function xv(e,t){b(t.get("geoCoord"),function(n,i){e.addGeoCoord(i,n)})}function EM(e,t,n){Uh(e)[t]=n}function zM(e,t,n){var i=Uh(e);i[t]===n&&(i[t]=null)}function _v(e,t){return!!Uh(e)[t]}function Uh(e){return e[Xx]||(e[Xx]={})}function Oa(e){this.pointerChecker,this._zr=e,this._opt={};var t=U,n=t(RM,this),i=t(BM,this),o=t(VM,this),a=t(GM,this),r=t(WM,this);Ne.call(this),this.setPointerChecker=function(s){this.pointerChecker=s},this.enable=function(s,l){this.disable(),this._opt=W(Z(l)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}),s==null&&(s=!0),s!==!0&&s!=="move"&&s!=="pan"||(e.on("mousedown",n),e.on("mousemove",i),e.on("mouseup",o)),s!==!0&&s!=="scale"&&s!=="zoom"||(e.on("mousewheel",a),e.on("pinch",r))},this.disable=function(){e.off("mousedown",n),e.off("mousemove",i),e.off("mouseup",o),e.off("mousewheel",a),e.off("pinch",r)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function RM(e){if(!(Gu(e)||e.target&&e.target.draggable)){var t=e.offsetX,n=e.offsetY;this.pointerChecker&&this.pointerChecker(e,t,n)&&(this._x=t,this._y=n,this._dragging=!0)}}function BM(e){if(!Gu(e)&&bv(this,"moveOnMouseMove",e)&&this._dragging&&e.gestureEvent!=="pinch"&&!_v(this._zr,"globalPan")){var t=e.offsetX,n=e.offsetY,i=this._x,o=this._y,a=t-i,r=n-o;this._x=t,this._y=n,this._opt.preventDefaultMouseMove&&Zn(e.event),this.trigger("pan",a,r,i,o,t,n)}}function VM(e){Gu(e)||(this._dragging=!1)}function GM(e){if(bv(this,"zoomOnMouseWheel",e)&&e.wheelDelta!==0){var t=e.wheelDelta>0?1.1:1/1.1;wv.call(this,e,t,e.offsetX,e.offsetY)}}function WM(e){if(!_v(this._zr,"globalPan")){var t=e.pinchScale>1?1.1:1/1.1;wv.call(this,e,t,e.pinchX,e.pinchY)}}function wv(e,t,n,i){this.pointerChecker&&this.pointerChecker(e,n,i)&&(Zn(e.event),this.trigger("zoom",t,n,i))}function bv(e,t,n){var i=e._opt[t];return i&&(!xe(i)||n.event[i+"Key"])}function Sv(e,t,n){var i=e.target,o=i.position;o[0]+=t,o[1]+=n,i.dirty()}function Mv(e,t,n,i){var o=e.target,a=e.zoomLimit,r=o.position,s=o.scale,l=e.zoom=e.zoom||1;if(l*=t,a){var u=a.min||0,h=a.max||1/0;l=Math.max(Math.min(h,l),u)}var c=l/e.zoom;e.zoom=l,r[0]-=(n-r[0])*(c-1),r[1]-=(i-r[1])*(c-1),s[0]*=c,s[1]*=c,o.dirty()}function jh(e,t,n){var i=t.getComponentByElement(e.topTarget),o=i&&i.coordinateSystem;return i&&i!==n&&!qC[i.mainType]&&o&&o.model!==n}function Iv(e,t){var n=e.getItemStyle(),i=e.get("areaColor");return i!=null&&(n.fill=i),n}function FM(e,t,n,i,o){n.off("click"),n.off("mousedown"),t.get("selectedMode")&&(n.on("mousedown",function(){e._mouseDownFlag=!0}),n.on("click",function(a){if(e._mouseDownFlag){e._mouseDownFlag=!1;for(var r=a.target;!r.__regions;)r=r.parent;if(r){var s={type:(t.mainType==="geo"?"geo":"map")+"ToggleSelect",batch:P(r.__regions,function(l){return{name:l.name,from:o.uid}})};s[t.mainType+"Id"]=t.id,i.dispatchAction(s),Dv(t,n)}}}))}function Dv(e,t){t.eachChild(function(n){b(n.__regions,function(i){n.trigger(e.isSelected(i.name)?"emphasis":"normal")})})}function ss(e,t){var n=new V;this._controller=new Oa(e.getZr()),this._controllerHost={target:t?n:null},this.group=n,this._updateGroup=t,this._mouseDownFlag}function Av(e,t,n){var i=e.getZoom(),o=e.getCenter(),a=t.zoom,r=e.dataToPoint(o);if(t.dx!=null&&t.dy!=null&&(r[0]-=t.dx,r[1]-=t.dy,o=e.pointToData(r),e.setCenter(o)),a!=null){if(n){var s=n.min||0,l=n.max||1/0;a=Math.max(Math.min(i*a,l),s)/i}e.scale[0]*=a,e.scale[1]*=a;var u=e.position,h=(t.originX-u[0])*(a-1),c=(t.originY-u[1])*(a-1);u[0]-=h,u[1]-=c,e.updateTransform(),o=e.pointToData(r),e.setCenter(o),e.setZoom(a*i)}return{center:e.getCenter(),zoom:e.getZoom()}}function HM(e,t){var n={};return b(e,function(i){i.each(i.mapDimension("value"),function(o,a){var r="ec-"+i.getName(a);n[r]=n[r]||[],isNaN(o)||n[r].push(o)})}),e[0].map(e[0].mapDimension("value"),function(i,o){for(var a="ec-"+e[0].getName(o),r=0,s=1/0,l=-1/0,u=n[a].length,h=0;h<u;h++)s=Math.min(s,n[a][h]),l=Math.max(l,n[a][h]),r+=n[a][h];var c;return c=t==="min"?s:t==="max"?l:t==="average"?r/u:r,u===0?NaN:c})}function Tv(e){var t=e.mainData,n=e.datas;n||(n={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,Cv(t,n,e),cr(n,function(i){cr(t.TRANSFERABLE_METHODS,function(o){i.wrapMethod(o,j(ZM,e))})}),t.wrapMethod("cloneShallow",j(jM,e)),cr(t.CHANGABLE_METHODS,function(i){t.wrapMethod(i,j(UM,e))}),Pn(n[t.dataType]===t)}function ZM(e,t){if(qM(this)){var n=G({},this[dr]);n[this.dataType]=t,Cv(t,n,e)}else Xh(t,this.dataType,this[Wl],e);return t}function UM(e,t){return e.struct&&e.struct.update(this),t}function jM(e,t){return cr(t[dr],function(n,i){n!==t&&Xh(n.cloneShallow(),i,t,e)}),t}function XM(e){var t=this[Wl];return e==null||t==null?t:t[dr][e]}function qM(e){return e[Wl]===e}function Cv(e,t,n){e[dr]={},cr(t,function(i,o){Xh(i,o,e,n)})}function Xh(e,t,n,i){n[dr][t]=e,e[Wl]=n,e.dataType=t,i.struct&&(e[i.structAttr]=i.struct,i.struct[i.datasAttr[t]]=e),e.getLinkedData=XM}function Mi(e,t,n){this.root,this.data,this._nodes=[],this.hostModel=e,this.levelModels=P(t||[],function(i){return new re(i,e,e.ecModel)}),this.leavesModel=new re(n||{},e,e.ecModel)}function YM(e,t){var n=t.children;e.parentNode!==t&&(n.push(e),e.parentNode=t)}function $M(e){e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var t,n,i=[e];t=i.pop();)if(n=t.children,t.isExpand&&n.length)for(var o=n.length-1;o>=0;o--){var a=n[o];a.hierNode={defaultAncestor:null,ancestor:a,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},i.push(a)}}function KM(e,t){var n=e.isExpand?e.children:[],i=e.parentNode.children,o=e.hierNode.i?i[e.hierNode.i-1]:null;if(n.length){eI(e);var a=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;o?(e.hierNode.prelim=o.hierNode.prelim+t(e,o),e.hierNode.modifier=e.hierNode.prelim-a):e.hierNode.prelim=a}else o&&(e.hierNode.prelim=o.hierNode.prelim+t(e,o));e.parentNode.hierNode.defaultAncestor=tI(e,o,e.parentNode.hierNode.defaultAncestor||i[0],t)}function JM(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function Lv(e){return arguments.length?e:oI}function Na(e,t){var n={};return e-=Math.PI/2,n.x=t*Math.cos(e),n.y=t*Math.sin(e),n}function QM(e,t){return Pe(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function eI(e){for(var t=e.children,n=t.length,i=0,o=0;--n>=0;){var a=t[n];a.hierNode.prelim+=i,a.hierNode.modifier+=i,o+=a.hierNode.change,i+=a.hierNode.shift+o}}function tI(e,t,n,i){if(t){for(var o=e,a=e,r=a.parentNode.children[0],s=t,l=o.hierNode.modifier,u=a.hierNode.modifier,h=r.hierNode.modifier,c=s.hierNode.modifier;s=qh(s),a=Yh(a),s&&a;){o=qh(o),r=Yh(r),o.hierNode.ancestor=e;var d=s.hierNode.prelim+c-a.hierNode.prelim-u+i(s,a);d>0&&(iI(nI(s,e,n),e,d),u+=d,l+=d),c+=s.hierNode.modifier,u+=a.hierNode.modifier,l+=o.hierNode.modifier,h+=r.hierNode.modifier}s&&!qh(o)&&(o.hierNode.thread=s,o.hierNode.modifier+=c-l),a&&!Yh(r)&&(r.hierNode.thread=a,r.hierNode.modifier+=u-h,n=e)}return n}function qh(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function Yh(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function nI(e,t,n){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:n}function iI(e,t,n){var i=n/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=i,t.hierNode.shift+=n,t.hierNode.modifier+=n,t.hierNode.prelim+=n,e.hierNode.change+=i}function oI(e,t){return e.parentNode===t.parentNode?1:2}function kv(e,t){var n=e.getItemLayout(t);return n&&!isNaN(n.x)&&!isNaN(n.y)&&e.getItemVisual(t,"symbol")!=="none"}function Pv(e,t,n){return n.itemModel=t,n.itemStyle=t.getModel("itemStyle").getItemStyle(),n.hoverItemStyle=t.getModel("emphasis.itemStyle").getItemStyle(),n.lineStyle=t.getModel("lineStyle").getLineStyle(),n.labelModel=t.getModel("label"),n.hoverLabelModel=t.getModel("emphasis.label"),e.isExpand===!1&&e.children.length!==0?n.symbolInnerColor=n.itemStyle.fill:n.symbolInnerColor="#fff",n}function Ov(e,t,n,i,o,a){var r=!n,s=e.tree.getNodeByDataIndex(t),a=Pv(s,s.getModel(),a),l=e.tree.root,u=s.parentNode===l?s:s.parentNode||s,h=e.getItemGraphicEl(u.dataIndex),c=u.getLayout(),d=h?{x:h.position[0],y:h.position[1],rawX:h.__radialOldRawX,rawY:h.__radialOldRawY}:c,f=s.getLayout();r?(n=new xo(e,t,a)).attr("position",[d.x,d.y]):n.updateData(e,t,a),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=f.rawX,n.__radialRawY=f.rawY,i.add(n),e.setItemGraphicEl(t,n),J(n,{position:[f.x,f.y]},o);var p=n.getSymbolPath();if(a.layout==="radial"){var g,m,v=l.children[0],y=v.getLayout(),x=v.children.length;if(f.x===y.x&&s.isExpand===!0){var _={};_.x=(v.children[0].getLayout().x+v.children[x-1].getLayout().x)/2,_.y=(v.children[0].getLayout().y+v.children[x-1].getLayout().y)/2,(g=Math.atan2(_.y-y.y,_.x-y.x))<0&&(g=2*Math.PI+g),(m=_.x<y.x)&&(g-=Math.PI)}else(g=Math.atan2(f.y-y.y,f.x-y.x))<0&&(g=2*Math.PI+g),s.children.length===0||s.children.length!==0&&s.isExpand===!1?(m=f.x<y.x)&&(g-=Math.PI):(m=f.x>y.x)||(g-=Math.PI);var w=m?"left":"right";p.setStyle({textPosition:w,textRotation:-g,textOrigin:"center",verticalAlign:"middle"})}if(s.parentNode&&s.parentNode!==l){var S=n.__edge;S||(S=n.__edge=new Gd({shape:$h(a,d,d),style:W({opacity:0},a.lineStyle)})),J(S,{shape:$h(a,c,f),style:{opacity:1}},o),i.add(S)}}function Nv(e,t,n,i,o,a){for(var r,s=e.tree.getNodeByDataIndex(t),l=e.tree.root,a=Pv(s,s.getModel(),a),u=s.parentNode===l?s:s.parentNode||s;(r=u.getLayout())==null;)u=u.parentNode===l?u:u.parentNode||u;J(n,{position:[r.x+1,r.y+1]},o,function(){i.remove(n),e.setItemGraphicEl(t,null)}),n.fadeOut(null,{keepLabel:!0});var h=n.__edge;h&&J(h,{shape:$h(a,r,r),style:{opacity:0}},o,function(){i.remove(h)})}function $h(e,t,n){var i,o,a,r,s=e.orient;if(e.layout==="radial"){var d=t.rawX,f=t.rawY,p=n.rawX,g=n.rawY,l=Na(d,f),u=Na(d,f+(g-f)*e.curvature),h=Na(p,g+(f-g)*e.curvature),c=Na(p,g);return{x1:l.x,y1:l.y,x2:c.x,y2:c.y,cpx1:u.x,cpy1:u.y,cpx2:h.x,cpy2:h.y}}var d=t.x,f=t.y,p=n.x,g=n.y;return s==="horizontal"&&(i=d+(p-d)*e.curvature,o=f,a=p+(d-p)*e.curvature,r=g),s==="vertical"&&(i=d,o=f+(g-f)*e.curvature,a=p,r=g+(f-g)*e.curvature),{x1:d,y1:f,x2:p,y2:g,cpx1:i,cpy1:o,cpx2:a,cpy2:r}}function aI(e,t,n){for(var i,o=[e],a=[];i=o.pop();)if(a.push(i),i.isExpand){var r=i.children;if(r.length)for(var s=0;s<r.length;s++)o.push(r[s])}for(;i=a.pop();)t(i,n)}function Ea(e,t){for(var n,i=[e];n=i.pop();)if(t(n),n.isExpand){var o=n.children;if(o.length)for(var a=o.length-1;a>=0;a--)i.push(o[a])}}function za(e,t,n){if(e&&ne(t,e.type)>=0){var i=n.getData().tree.root,o=e.targetNode;if(o&&i.contains(o))return{node:o};var a=e.targetNodeId;if(a!=null&&(o=i.getNodeById(a)))return{node:o}}}function Ev(e){for(var t=[];e;)(e=e.parentNode)&&t.push(e);return t.reverse()}function Kh(e,t){return ne(Ev(e),t)>=0}function Jh(e,t){for(var n=[];e;){var i=e.dataIndex;n.push({name:e.name,dataIndex:i,value:t.getRawValue(i)}),e=e.parentNode}return n.reverse(),n}function zv(e){var t=0;b(e.children,function(i){zv(i);var o=i.value;O(o)&&(o=o[0]),t+=o});var n=e.value;O(n)&&(n=n[0]),(n==null||isNaN(n))&&(n=t),n<0&&(n=0),O(e.value)?e.value[0]=n:e.value=n}function rI(e,t){var n=t.get("color");if(n){var i;return b(e=e||[],function(o){var a=new re(o),r=a.get("color");(a.get("itemStyle.color")||r&&r!=="none")&&(i=!0)}),i||((e[0]||(e[0]={})).color=n.slice()),e}}function Qh(e){this.group=new V,e.add(this.group)}function sI(e,t,n,i,o,a){var r=[[o?e:e-Sf,t],[e+n,t],[e+n,t+i],[o?e:e-Sf,t+i]];return!a&&r.splice(2,0,[e+n+Sf,t+i/2]),!o&&r.push([e,t+i/2]),r}function lI(e,t,n){e.eventData={componentType:"series",componentSubType:"treemap",seriesIndex:t.componentIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&Jh(n,t)}}function uI(){var e,t=[],n={};return{add:function(i,o,a,r,s){return xe(r)&&(s=r,r=0),!n[i.id]&&(n[i.id]=1,t.push({el:i,target:o,time:a,delay:r,easing:s}),!0)},done:function(i){return e=i,this},start:function(){for(var i=t.length,o=0,a=t.length;o<a;o++){var r=t[o];r.el.animateTo(r.target,r.time,r.delay,r.easing,function(){--i||(t.length=0,n={},e&&e())})}return this}}}function hI(e,t,n,i,o,a,r,s,l,u){function h(C,N){x?!C.invisible&&a.push(C):(N(),C.__tmWillVisible||(C.invisible=!1))}function c(C,N,B,R,H,z){var de=r.getModel(),X=Re(e.getFormattedLabel(r.dataIndex,"normal",null,null,z?"upperLabel":"label"),de.get("name"));if(!z&&g.isLeafRoot){var Me=e.get("drillDownIcon",!0);X=Me?Me+" "+X:X}var Bt=de.getModel(z?KC:YC),kn=de.getModel(z?JC:$C),oo=Bt.getShallow("show");yt(C,N,Bt,kn,{defaultText:oo?X:null,autoColor:B,isRectText:!0}),z&&(C.textRect=Z(z)),C.truncate=oo&&Bt.get("ellipsis")?{outerWidth:R,outerHeight:H,minChar:2}:null}function d(C,N,B,R){var H=w!=null&&n[C][w],z=o[C];return H?(n[C][w]=null,f(z,H,C)):x||((H=new N({z:cI(B,R)})).__tmDepth=B,H.__tmStorageName=C,p(z,H,C)),t[C][_]=H}function f(C,N,B){(C[_]={}).old=B==="nodeGroup"?N.position.slice():G({},N.shape)}function p(C,N,B){var R=C[_]={},H=r.parentNode;if(H&&(!i||i.direction==="drillDown")){var z=0,de=0,X=o.background[H.getRawIndex()];!i&&X&&X.old&&(z=X.old.width,de=X.old.height),R.old=B==="nodeGroup"?[0,de]:{x:z,y:de,width:0,height:0}}R.fadein=B!=="nodeGroup"}if(r){var g=r.getLayout();if(g&&g.isInView){var m=g.width,v=g.height,y=g.borderWidth,x=g.invisible,_=r.getRawIndex(),w=s&&s.getRawIndex(),S=r.viewChildren,M=g.upperHeight,I=S&&S.length,D=r.getModel("itemStyle"),T=r.getModel("emphasis.itemStyle"),A=d("nodeGroup",Yx);if(A){if(l.add(A),A.attr("position",[g.x||0,g.y||0]),A.__tmNodeWidth=m,A.__tmNodeHeight=v,g.isAboveViewRoot)return A;var L=d("background",$x,u,eL);if(L&&function(C,N,B){N.dataIndex=r.dataIndex,N.seriesIndex=e.seriesIndex,N.setShape({x:0,y:0,width:m,height:v});var R=r.getVisual("borderColor",!0),H=T.get("borderColor");h(N,function(){var z=Kx(D);z.fill=R;var de=Mf(T);if(de.fill=H,B){var X=m-2*y;c(z,de,R,X,M,{x:y,y:0,width:X,height:M})}else z.text=de.text=null;N.setStyle(z),ve(N,de)}),C.add(N)}(A,L,I&&g.upperHeight),!I){var k=d("content",$x,u,tL);k&&function(C,N){N.dataIndex=r.dataIndex,N.seriesIndex=e.seriesIndex;var B=Math.max(m-2*y,0),R=Math.max(v-2*y,0);N.culling=!0,N.setShape({x:y,y,width:B,height:R});var H=r.getVisual("color",!0);h(N,function(){var z=Kx(D);z.fill=H;var de=Mf(T);c(z,de,H,B,R),N.setStyle(z),ve(N,de)}),C.add(N)}(A,k)}return A}}}}function cI(e,t){var n=e*QC+t;return(n-1)/n}function dI(e){var t=e.pieceList;e.hasSpecialVisual=!1,b(t,function(n,i){n.originIndex=i,n.visual!=null&&(e.hasSpecialVisual=!0)})}function fI(e){var t=e.categories,n=e.visual,i=e.categoryMap={};if(fr(t,function(r,s){i[r]=s}),!O(n)){var o=[];Y(n)?fr(n,function(r,s){var l=i[s];o[l!=null?l:Hl]=r}):o[Hl]=n,n=Bv(e,o)}for(var a=t.length-1;a>=0;a--)n[a]==null&&(delete i[t[a]],t.pop())}function ec(e,t){var n=e.visual,i=[];Y(n)?fr(n,function(a){i.push(a)}):n!=null&&i.push(n);var o={color:1,symbol:1};t||i.length!==1||o.hasOwnProperty(e.type)||(i[1]=i[0]),Bv(e,i)}function ls(e){return{applyVisual:function(t,n,i){t=this.mapValueToVisual(t),i("color",e(n("color"),t))},_doMap:ic([0,1])}}function Rv(e){var t=this.option.visual;return t[Math.round(Ie(e,[0,1],[0,t.length-1],!0))]||{}}function tc(e){return function(t,n,i){i(e,this.mapValueToVisual(t))}}function us(e){var t=this.option.visual;return t[this.option.loop&&e!==Hl?e%t.length:e]}function nc(){return this.option.visual[0]}function ic(e){return{linear:function(t){return Ie(t,e,this.option.visual,!0)},category:us,piecewise:function(t,n){var i=oc.call(this,n);return i==null&&(i=Ie(t,e,this.option.visual,!0)),i},fixed:nc}}function oc(e){var t=this.option,n=t.pieceList;if(t.hasSpecialVisual){var i=n[ce.findPieceIndex(e,n)];if(i&&i.visual)return i.visual[this.type]}}function Bv(e,t){return e.visual=t,e.type==="color"&&(e.parsedVisual=P(t,function(n){return vt(n)})),t}function hs(e,t,n){return e?t<=n:t<n}function Vv(e,t,n,i,o,a){var r=e.getModel(),s=e.getLayout();if(s&&!s.invisible&&s.isInView){var l,u=e.getModel(Df),h=pI(u,t,n[e.depth],i),c=u.get("borderColor"),d=u.get("borderColorSaturation");d!=null&&(c=gI(d,l=Gv(h))),e.setVisual("borderColor",c);var f=e.viewChildren;if(f&&f.length){var p=mI(e,r,s,u,h,f);b(f,function(g,m){(g.depth>=o.length||g===o[g.depth])&&Vv(g,vI(r,h,g,m,p,a),n,i,o,a)})}else l=Gv(h),e.setVisual("color",l)}}function pI(e,t,n,i){var o=G({},t);return b(["color","colorAlpha","colorSaturation"],function(a){var r=e.get(a,!0);r==null&&n&&(r=n[a]),r==null&&(r=t[a]),r==null&&(r=i.get(a)),r!=null&&(o[a]=r)}),o}function Gv(e){var t=ac(e,"color");if(t){var n=ac(e,"colorAlpha"),i=ac(e,"colorSaturation");return i&&(t=fo(t,null,null,i)),n&&(t=Or(t,n)),t}}function gI(e,t){return t!=null?fo(t,null,null,e):null}function ac(e,t){var n=e[t];if(n!=null&&n!=="none")return n}function mI(e,t,n,i,o,a){if(a&&a.length){var r=rc(t,"color")||o.color!=null&&o.color!=="none"&&(rc(t,"colorAlpha")||rc(t,"colorSaturation"));if(r){var s=t.get("visualMin"),l=t.get("visualMax"),u=n.dataExtent.slice();s!=null&&s<u[0]&&(u[0]=s),l!=null&&l>u[1]&&(u[1]=l);var h=t.get("colorMappingBy"),c={type:r.name,dataExtent:u,visual:r.range};c.type!=="color"||h!=="index"&&h!=="id"?c.mappingMethod="linear":(c.mappingMethod="category",c.loop=!0);var d=new ce(c);return d.__drColorMappingBy=h,d}}}function rc(e,t){var n=e.get(t);return iL(n)&&n.length?{name:t,range:n}:null}function vI(e,t,n,i,o,a){var r=G({},t);if(o){var s=o.type,l=s==="color"&&o.__drColorMappingBy,u=l==="index"?i:l==="id"?a.mapIdToIndex(n.getId()):n.getValue(e.get("visualDimension"));r[s]=o.mapValueToVisual(u)}return r}function Wv(e,t,n,i){var o,a;if(!e.isRemoved()){var r=e.getLayout();o=r.width,a=r.height;var s=(f=e.getModel()).get(t_),l=f.get(aL)/2,u=Zv(f),h=Math.max(s,u),c=s-l,d=h-l,f=e.getModel();e.setLayout({borderWidth:s,upperHeight:h,upperLabelHeight:u},!0);var p=(o=gr(o-2*c,0))*(a=gr(a-c-d,0)),g=yI(e,f,p,t,n,i);if(g.length){var m={x:c,y:d,width:o,height:a},v=Zl(o,a),y=1/0,x=[];x.area=0;for(var _=0,w=g.length;_<w;){var S=g[_];x.push(S),x.area+=S.getLayout().area;var M=bI(x,v,t.squareRatio);M<=y?(_++,y=M):(x.area-=x.pop().getLayout().area,Fv(x,v,m,l,!1),v=Zl(m.width,m.height),x.length=x.area=0,y=1/0)}if(x.length&&Fv(x,v,m,l,!0),!n){var I=f.get("childrenVisibleMin");I!=null&&p<I&&(n=!0)}for(var _=0,w=g.length;_<w;_++)Wv(g[_],t,n,i+1)}}}function yI(e,t,n,i,o,a){var r=e.children||[],s=i.sort;s!=="asc"&&s!=="desc"&&(s=null);var l=i.leafDepth!=null&&i.leafDepth<=a;if(o&&!l)return e.viewChildren=[];_I(r=ke(r,function(f){return!f.isRemoved()}),s);var u=wI(t,r,s);if(u.sum===0)return e.viewChildren=[];if(u.sum=xI(t,n,u.sum,s,r),u.sum===0)return e.viewChildren=[];for(var h=0,c=r.length;h<c;h++){var d=r[h].getValue()/u.sum*n;r[h].setLayout({area:d})}return l&&(r.length&&e.setLayout({isLeafRoot:!0},!0),r.length=0),e.viewChildren=r,e.setLayout({dataExtent:u.dataExtent},!0),r}function xI(e,t,n,i,o){if(!i)return n;for(var a=e.get("visibleMin"),r=o.length,s=r,l=r-1;l>=0;l--){var u=o[i==="asc"?r-l-1:l].getValue();u/n*t<a&&(s=l,n-=u)}return i==="asc"?o.splice(0,r-s):o.splice(s,r-s),n}function _I(e,t){return t&&e.sort(function(n,i){var o=t==="asc"?n.getValue()-i.getValue():i.getValue()-n.getValue();return o===0?t==="asc"?n.dataIndex-i.dataIndex:i.dataIndex-n.dataIndex:o}),e}function wI(e,t,n){for(var i=0,o=0,a=t.length;o<a;o++)i+=t[o].getValue();var r=e.get("visualDimension");if(t&&t.length)if(r==="value"&&n)s=[t[t.length-1].getValue(),t[0].getValue()],n==="asc"&&s.reverse();else{var s=[1/0,-1/0];Af(t,function(l){var u=l.getValue(r);u<s[0]&&(s[0]=u),u>s[1]&&(s[1]=u)})}else s=[NaN,NaN];return{sum:i,dataExtent:s}}function bI(e,t,n){for(var i,o=0,a=1/0,r=0,s=e.length;r<s;r++)(i=e[r].getLayout().area)&&(i<a&&(a=i),i>o&&(o=i));var l=e.area*e.area,u=t*t*n;return l?gr(u*o/l,l/(u*a)):1/0}function Fv(e,t,n,i,o){var a=t===n.width?0:1,r=1-a,s=["x","y"],l=["width","height"],u=n[s[a]],h=t?e.area/t:0;(o||h>n[l[r]])&&(h=n[l[r]]);for(var c=0,d=e.length;c<d;c++){var f=e[c],p={},g=h?f.getLayout().area/h:0,m=p[l[r]]=gr(h-2*i,0),v=n[s[a]]+n[l[a]]-u,y=c===d-1||v<g?v:g,x=p[l[a]]=gr(y-2*i,0);p[s[r]]=n[s[r]]+Zl(i,m/2),p[s[a]]=u+Zl(i,x/2),u+=y,f.setLayout(p,!0)}n[s[r]]+=h,n[l[r]]-=h}function SI(e,t,n,i,o){var a=(t||{}).node,r=[i,o];if(!a||a===n)return r;for(var s,l=i*o,u=l*e.option.zoomToNodeRatio;s=a.parentNode;){for(var h=0,c=s.children,d=0,f=c.length;d<f;d++)h+=c[d].getValue();var p=a.getValue();if(p===0)return r;u*=h/p;var g=s.getModel(),m=g.get(t_);(u+=4*m*m+(3*m+Math.max(m,Zv(g)))*Math.pow(u,.5))>Wd&&(u=Wd),a=s}u<l&&(u=l);var v=Math.pow(u/l,.5);return[i*v,o*v]}function MI(e,t,n){if(t)return{x:t.x,y:t.y};var i={x:0,y:0};if(!n)return i;var o=n.node,a=o.getLayout();if(!a)return i;for(var r=[a.width/2,a.height/2],s=o;s;){var l=s.getLayout();r[0]+=l.x,r[1]+=l.y,s=s.parentNode}return{x:e.width/2-r[0],y:e.height/2-r[1]}}function Hv(e,t,n,i,o){var a=e.getLayout(),r=n[o],s=r&&r===e;if(!(r&&!s||o===n.length&&e!==i)){e.setLayout({isInView:!0,invisible:!s&&!t.intersect(a),isAboveViewRoot:s},!0);var l=new Q(t.x-a.x,t.y-a.y,t.width,t.height);Af(e.viewChildren||[],function(u){Hv(u,l,n,i,o+1)})}}function Zv(e){return e.get(rL)?e.get(sL):0}function So(e){return"_EC_"+e}function Pt(e,t){this.id=e==null?"":e,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=t==null?-1:t}function Ra(e,t,n){this.node1=e,this.node2=t,this.dataIndex=n==null?-1:n}function sc(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}function Uv(e){return"_"+e+"Type"}function jv(e,t,n){var i=t.getItemVisual(n,"color"),o=t.getItemVisual(n,e),a=t.getItemVisual(n,e+"Size");if(o&&o!=="none"){O(a)||(a=[a,a]);var r=ht(o,-a[0]/2,-a[1]/2,a[0],a[1],i);return r.name=e,r}}function II(e){var t=new uL({name:"line"});return lc(t.shape,e),t}function lc(e,t){var n=t[0],i=t[1],o=t[2];e.x1=n[0],e.y1=n[1],e.x2=i[0],e.y2=i[1],e.percent=1,o?(e.cpx1=o[0],e.cpy1=o[1]):(e.cpx1=NaN,e.cpy1=NaN)}function Ba(e,t,n){V.call(this),this._createLine(e,t,n)}function cs(e){this._ctor=e||Ba,this.group=new V}function DI(e,t,n,i){if(uc(t.getItemLayout(n))){var o=new e._ctor(t,n,i);t.setItemGraphicEl(n,o),e.group.add(o)}}function AI(e,t,n,i,o,a){var r=t.getItemGraphicEl(i);uc(n.getItemLayout(o))?(r?r.updateData(n,o,a):r=new e._ctor(n,o,a),n.setItemGraphicEl(o,r),e.group.add(r)):e.group.remove(r)}function Xv(e){var t=e.hostModel;return{lineStyle:t.getModel("lineStyle").getLineStyle(),hoverLineStyle:t.getModel("emphasis.lineStyle").getLineStyle(),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label")}}function qv(e){return isNaN(e[0])||isNaN(e[1])}function uc(e){return!qv(e[0])&&!qv(e[1])}function Yv(e,t,n){for(var i,o=e[0],a=e[1],r=e[2],s=1/0,l=n*n,u=.1,h=.1;h<=.9;h+=.1)Lf[0]=Ko(o[0],a[0],r[0],h),Lf[1]=Ko(o[1],a[1],r[1],h),(f=a_(Of(Lf,t)-l))<s&&(s=f,i=h);for(var c=0;c<32;c++){var d=i+u;kf[0]=Ko(o[0],a[0],r[0],i),kf[1]=Ko(o[1],a[1],r[1],i),Pf[0]=Ko(o[0],a[0],r[0],d),Pf[1]=Ko(o[1],a[1],r[1],d);var f=Of(kf,t)-l;if(a_(f)<.01)break;var p=Of(Pf,t)-l;u/=2,f<0?p>=0?i+=u:i-=u:p>=0?i-=u:i+=u}return i}function $v(e,t){return e.getVisual("opacity")||e.getModel().get(t)}function ds(e,t,n){var i=e.getGraphicEl(),o=$v(e,t);n!=null&&(o==null&&(o=1),o*=n),i.downplay&&i.downplay(),i.traverse(function(a){a.type!=="group"&&a.setStyle("opacity",o)})}function Ii(e,t){var n=$v(e,t),i=e.getGraphicEl();i.highlight&&i.highlight(),i.traverse(function(o){o.type!=="group"&&o.setStyle("opacity",n)})}function fs(e){return e instanceof Array||(e=[e,e]),e}function Kv(e){var t=e.coordinateSystem;if(!t||t.type==="view"){var n=e.getGraph();n.eachNode(function(i){var o=i.getModel();i.setLayout([+o.get("x"),+o.get("y")])}),Jv(n)}}function Jv(e){e.eachEdge(function(t){var n=t.getModel().get("lineStyle.curveness")||0,i=Tt(t.node1.getLayout()),o=Tt(t.node2.getLayout()),a=[i,o];+n&&a.push([(i[0]+o[0])/2-(i[1]-o[1])*n,(i[1]+o[1])/2-(o[0]-i[0])*n]),t.setLayout(a)})}function Qv(e){var t=e.coordinateSystem;if(!t||t.type==="view"){var n=t.getBoundingRect(),i=e.getData(),o=i.graph,a=0,r=i.getSum("value"),s=2*Math.PI/(r||i.count()),l=n.width/2+n.x,u=n.height/2+n.y,h=Math.min(n.width,n.height)/2;o.eachNode(function(c){var d=c.getValue("value");a+=s*(r?d:1)/2,c.setLayout([h*Math.cos(a)+l,h*Math.sin(a)+u]),a+=s*(r?d:1)/2}),i.setLayout({cx:l,cy:u}),o.eachEdge(function(c){var d,f=c.getModel().get("lineStyle.curveness")||0,p=Tt(c.node1.getLayout()),g=Tt(c.node2.getLayout()),m=(p[0]+g[0])/2,v=(p[1]+g[1])/2;+f&&(d=[l*(f*=3)+m*(1-f),u*f+v*(1-f)]),c.setLayout([p,g,d])})}}function TI(e,t,n){for(var i=n.rect,o=i.width,a=i.height,r=[i.x+o/2,i.y+a/2],s=n.gravity==null?.1:n.gravity,l=0;l<e.length;l++){var u=e[l];u.p||(u.p=On(o*(Math.random()-.5)+r[0],a*(Math.random()-.5)+r[1])),u.pp=Tt(u.p),u.edges=null}var h=.6;return{warmUp:function(){h=.5},setFixed:function(c){e[c].fixed=!0},setUnfixed:function(c){e[c].fixed=!1},step:function(c){for(var d=[],f=e.length,p=0;p<t.length;p++){var g=t[p],m=g.n1;dn(d,(_=g.n2).p,m.p);var v=ua(d)-g.d,y=_.w/(m.w+_.w);isNaN(y)&&(y=0),lo(d,d),!m.fixed&&Jo(m.p,m.p,d,y*v*h),!_.fixed&&Jo(_.p,_.p,d,-(1-y)*v*h)}for(p=0;p<f;p++)(M=e[p]).fixed||(dn(d,r,M.p),Jo(M.p,M.p,d,s*h));for(p=0;p<f;p++)for(var m=e[p],x=p+1;x<f;x++){var _=e[x];dn(d,_.p,m.p),(v=ua(d))===0&&(Sp(d,Math.random()-.5,Math.random()-.5),v=1);var w=(m.rep+_.rep)/v/v;!m.fixed&&Jo(m.pp,m.pp,d,w),!_.fixed&&Jo(_.pp,_.pp,d,-w)}for(var S=[],p=0;p<f;p++){var M=e[p];M.fixed||(dn(S,M.p,M.pp),Jo(M.p,M.p,S,h),Fe(M.pp,M.p))}h*=.992,c&&c(e,t,h<.01)}}}function CI(e,t,n){var i=e.getBoxLayoutParams();return i.aspect=n,Pe(i,{width:t.getWidth(),height:t.getHeight()})}function LI(e,t){var n=e.get("center"),i=t.getWidth(),o=t.getHeight(),a=Math.min(i,o);return{cx:E(n[0],t.getWidth()),cy:E(n[1],t.getHeight()),r:E(e.get("radius"),a/2)}}function e0(e,t){return t&&(typeof t=="string"?e=t.replace("{value}",e!=null?e:""):typeof t=="function"&&(e=t(e))),e}function hc(e,t){function n(){a.ignore=a.hoverIgnore,r.ignore=r.hoverIgnore}function i(){a.ignore=a.normalIgnore,r.ignore=r.normalIgnore}V.call(this);var o=new St,a=new Qt,r=new te;this.add(o),this.add(a),this.add(r),this.updateData(e,t,!0),this.on("emphasis",n).on("normal",i).on("mouseover",n).on("mouseout",i)}function kI(e,t){return Pe(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function PI(e,t){for(var n=e.mapDimension("value"),i=e.mapArray(n,function(l){return l}),o=[],a=t==="ascending",r=0,s=e.count();r<s;r++)o[r]=r;return typeof t=="function"?o.sort(t):t!=="none"&&o.sort(function(l,u){return a?i[l]-i[u]:i[u]-i[l]}),o}function OI(e){e.each(function(t){var n,i,o,a,r=e.getItemModel(t),s=r.getModel("label").get("position"),l=r.getModel("labelLine"),u=e.getItemLayout(t),h=u.points,c=s==="inner"||s==="inside"||s==="center";if(c)n="center",a=[[i=(h[0][0]+h[1][0]+h[2][0]+h[3][0])/4,o=(h[0][1]+h[1][1]+h[2][1]+h[3][1])/4],[i,o]];else{var d,f,p,g=l.get("length");s==="left"?(d=(h[3][0]+h[0][0])/2,f=(h[3][1]+h[0][1])/2,i=(p=d-g)-5,n="right"):(d=(h[1][0]+h[2][0])/2,f=(h[1][1]+h[2][1])/2,i=(p=d+g)+5,n="left");var m=f;a=[[d,f],[p,m]],o=m}u.label={linePoints:a,x:i,y:o,verticalAlign:"middle",textAlign:n,inside:c}})}function NI(e){if(!e.parallel){var t=!1;b(e.series,function(n){n&&n.type==="parallel"&&(t=!0)}),t&&(e.parallel=[{}])}}function EI(e){b(Ue(e.parallelAxis),function(t){if(Y(t)){var n=t.parallelIndex||0,i=Ue(e.parallel)[n];i&&i.parallelAxisDefault&&q(t,i.parallelAxisDefault,!1)}})}function cc(e,t){var n=e[t]-e[1-t];return{span:Math.abs(n),sign:n>0?-1:n<0?1:t?-1:1}}function ps(e,t){return Math.min(t[1],Math.max(t[0],e))}function dc(e,t,n){this._axesMap=K(),this._axesLayout={},this.dimensions=e.dimensions,this._rect,this._model=e,this._init(e,t,n)}function gs(e,t){return l_(u_(e,t[0]),t[1])}function zI(e,t){var n=t.layoutLength/(t.axisCount-1);return{position:n*e,axisNameAvailableWidth:n,axisLabelShow:!0}}function RI(e,t){var n,i,o=t.layoutLength,a=t.axisExpandWidth,r=t.axisCount,s=t.axisCollapseWidth,l=t.winInnerIndices,u=s,h=!1;return e<l[0]?(n=e*s,i=s):e<=l[1]?(n=t.axisExpandWindow0Pos+e*a-t.axisExpandWindow[0],u=a,h=!0):(n=o-(r-1-e)*s,i=s),{position:n,axisNameAvailableWidth:u,axisLabelShow:h,nameTruncateMaxWidth:i}}function Mo(e){Ne.call(this),this._zr=e,this.group=new V,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+SL++,this._handlers={},sn(ML,function(t,n){this._handlers[n]=U(t,this)},this)}function BI(e,t){var n=e._zr;e._enableGlobalPan||EM(n,f_,e._uid),sn(e._handlers,function(i,o){n.on(o,i)}),e._brushType=t.brushType,e._brushOption=q(Z(p_),t,!0)}function VI(e){var t=e._zr;zM(t,f_,e._uid),sn(e._handlers,function(n,i){t.off(i,n)}),e._brushType=e._brushOption=null}function t0(e,t){var n=Xl[t.brushType].createCover(e,t);return n.__brushOption=t,o0(n,t),e.group.add(n),n}function n0(e,t){var n=pc(t);return n.endCreating&&(n.endCreating(e,t),o0(t,t.__brushOption)),t}function i0(e,t){var n=t.__brushOption;pc(t).updateCoverShape(e,t,n.range,n)}function o0(e,t){var n=t.z;n==null&&(n=yL),e.traverse(function(i){i.z=n,i.z2=n})}function fc(e,t){pc(t).updateCommon(e,t),i0(e,t)}function pc(e){return Xl[e.__brushOption.brushType]}function gc(e,t,n){var i=e._panels;if(!i)return!0;var o,a=e._transform;return sn(i,function(r){r.isTargetByCursor(t,n,a)&&(o=r)}),o}function a0(e,t){var n=e._panels;if(!n)return!0;var i=t.__brushOption.panelId;return i==null||n[i]}function mc(e){var t=e._covers,n=t.length;return sn(t,function(i){e.group.remove(i)},e),t.length=0,!!n}function Di(e,t){var n=mL(e._covers,function(i){var o=i.__brushOption,a=Z(o.range);return{brushType:o.brushType,panelId:o.panelId,range:a}});e.trigger("brush",n,{isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function GI(e){var t=e._track;if(!t.length)return!1;var n=t[t.length-1],i=t[0],o=n[0]-i[0],a=n[1]-i[1];return vL(o*o+a*a,.5)>xL}function r0(e){var t=e.length-1;return t<0&&(t=0),[e[0],e[t]]}function s0(e,t,n,i){var o=new V;return o.add(new pe({name:"main",style:yc(n),silent:!0,draggable:!0,cursor:"move",drift:oi(e,t,o,"nswe"),ondragend:oi(Di,t,{isEnd:!0})})),sn(i,function(a){o.add(new pe({name:a,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:oi(e,t,o,a),ondragend:oi(Di,t,{isEnd:!0})}))}),o}function l0(e,t,n,i){var o=i.brushStyle.lineWidth||0,a=ea(o,_L),r=n[0][0],s=n[1][0],l=r-o/2,u=s-o/2,h=n[0][1],c=n[1][1],d=h-a+o/2,f=c-a+o/2,p=h-r,g=c-s,m=p+o,v=g+o;bn(e,t,"main",r,s,p,g),i.transformable&&(bn(e,t,"w",l,u,a,v),bn(e,t,"e",d,u,a,v),bn(e,t,"n",l,u,m,a),bn(e,t,"s",l,f,m,a),bn(e,t,"nw",l,u,a,a),bn(e,t,"ne",d,u,a,a),bn(e,t,"sw",l,f,a,a),bn(e,t,"se",d,f,a,a))}function vc(e,t){var n=t.__brushOption,i=n.transformable,o=t.childAt(0);o.useStyle(yc(n)),o.attr({silent:!i,cursor:i?"move":"default"}),sn(["w","e","n","s","se","sw","ne","nw"],function(a){var r=t.childOfName(a),s=xc(e,a);r&&r.attr({silent:!i,invisible:!i,cursor:i?bL[s]+"-resize":null})})}function bn(e,t,n,i,o,a,r){var s=t.childOfName(n);s&&s.setShape(HI(_c(e,t,[[i,o],[i+a,o+r]])))}function yc(e){return W({strokeNoScale:!0},e.brushStyle)}function u0(e,t,n,i){var o=[yr(e,n),yr(t,i)],a=[ea(e,n),ea(t,i)];return[[o[0],a[0]],[o[1],a[1]]]}function WI(e){return mi(e.group)}function xc(e,t){if(t.length>1)return((i=[xc(e,(t=t.split(""))[0]),xc(e,t[1])])[0]==="e"||i[0]==="w")&&i.reverse(),i.join("");var n={left:"w",right:"e",top:"n",bottom:"s"},i=Qu({w:"left",e:"right",n:"top",s:"bottom"}[t],WI(e));return n[i]}function h0(e,t,n,i,o,a,r,s){var l=i.__brushOption,u=e(l.range),h=c0(n,a,r);sn(o.split(""),function(c){var d=wL[c];u[d[0]][d[1]]+=h[d[0]]}),l.range=t(u0(u[0][0],u[1][0],u[0][1],u[1][1])),fc(n,i),Di(n,{isEnd:!1})}function FI(e,t,n,i,o){var a=t.__brushOption.range,r=c0(e,n,i);sn(a,function(s){s[0]+=r[0],s[1]+=r[1]}),fc(e,t),Di(e,{isEnd:!1})}function c0(e,t,n){var i=e.group,o=i.transformCoordToLocal(t,n),a=i.transformCoordToLocal(0,0);return[o[0]-a[0],o[1]-a[1]]}function _c(e,t,n){var i=a0(e,t);return i&&i!==!0?i.clipPath(n,e._transform):Z(n)}function HI(e){var t=yr(e[0][0],e[1][0]),n=yr(e[0][1],e[1][1]);return{x:t,y:n,width:ea(e[0][0],e[1][0])-t,height:ea(e[0][1],e[1][1])-n}}function ZI(e,t,n){if(e._brushType){var i=e._zr,o=e._covers,a=gc(e,t,n);if(!e._dragging)for(var r=0;r<o.length;r++){var s=o[r].__brushOption;if(a&&(a===!0||s.panelId===a.panelId)&&Xl[s.brushType].contain(o[r],n[0],n[1]))return}a&&i.setCursorStyle("crosshair")}}function wc(e){var t=e.event;t.preventDefault&&t.preventDefault()}function bc(e,t,n){return e.childOfName("main").contain(t,n)}function d0(e,t,n,i){var o,a=e._creatingCover,r=e._creatingPanel,s=e._brushOption;if(e._track.push(n.slice()),GI(e)||a){if(r&&!a){s.brushMode==="single"&&mc(e);var l=Z(s);l.brushType=f0(l.brushType,r),l.panelId=r===!0?null:r.panelId,a=e._creatingCover=t0(e,l),e._covers.push(a)}if(a){var u=Xl[f0(e._brushType,r)];a.__brushOption.range=u.getCreatingRange(_c(e,a,e._track)),i&&(n0(e,a),u.updateCommon(e,a)),i0(e,a),o={isEnd:i}}}else i&&s.brushMode==="single"&&s.removeOnClick&&gc(e,t,n)&&mc(e)&&(o={isEnd:i,removeOnClick:!0});return o}function f0(e,t){return e==="auto"?t.defaultBrushType:e}function p0(e){if(this._dragging){wc(e);var t=d0(this,e,this.group.transformCoordToLocal(e.offsetX,e.offsetY),!0);this._dragging=!1,this._track=[],this._creatingCover=null,t&&Di(this,t)}}function g0(e){return{createCover:function(t,n){return s0(oi(h0,function(i){var o=[i,[0,100]];return e&&o.reverse(),o},function(i){return i[e]}),t,n,[["w","e"],["n","s"]][e])},getCreatingRange:function(t){var n=r0(t);return[yr(n[0][e],n[1][e]),ea(n[0][e],n[1][e])]},updateCoverShape:function(t,n,i,o){var a,r=a0(t,n);if(r!==!0&&r.getLinearBrushOtherExtent)a=r.getLinearBrushOtherExtent(e,t._transform);else{var s=t._zr;a=[0,[s.getWidth(),s.getHeight()][1-e]]}var l=[i,a];e&&l.reverse(),l0(t,n,l,o)},updateCommon:vc,contain:bc}}function m0(e){return e=Sc(e),function(t,n){return Rg(t,e)}}function v0(e,t){return e=Sc(e),function(n){var i=t!=null?t:n,o=i?e.width:e.height,a=i?e.x:e.y;return[a,a+(o||0)]}}function y0(e,t,n){return e=Sc(e),function(i,o,a){return e.contain(o[0],o[1])&&!jh(i,t,n)}}function Sc(e){return Q.create(e)}function UI(e,t,n){return n&&n.type==="axisAreaSelect"&&t.findComponents({mainType:"parallelAxis",query:n})[0]===e}function jI(e){var t=e.axis;return P(e.activeIntervals,function(n){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(n[0],!0),t.dataToCoord(n[1],!0)]}})}function XI(e,t){return t.getComponent("parallel",e.get("parallelIndex"))}function Mc(e,t){var n=e._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===t}function qI(e,t){if(!e.encodeDefine){var n=t.ecModel.getComponent("parallel",t.get("parallelIndex"));if(n){var i=e.encodeDefine=K();b(n.dimensions,function(o){var a=YI(o);i.set(o,a)})}}}function YI(e){return+e.replace("dim","")}function $I(e,t,n){var i=e.model,o=e.getRect(),a=new pe({shape:{x:o.x,y:o.y,width:o.width,height:o.height}}),r=i.get("layout")==="horizontal"?"width":"height";return a.setShape(r,0),Je(a,{shape:{width:o.width,height:o.height}},t,n),a}function x0(e,t,n,i){for(var o=[],a=0;a<n.length;a++){var r=n[a],s=e.get(e.mapDimension(r),t);QI(s,i.getAxis(r).type)||o.push(i.dataToPoint(s,r))}return o}function KI(e,t,n,i,o){var a=x0(e,n,i,o),r=new Qt({shape:{points:a},silent:!0,z2:10});t.add(r),e.setItemGraphicEl(n,r)}function JI(e,t){var n=e.hostModel.getModel("lineStyle"),i=n.getLineStyle();e.eachItemGraphicEl(function(o,a){if(e.hasItemOption){var r=e.getItemModel(a).getModel("lineStyle",n);i=r.getLineStyle(["color","stroke"])}o.useStyle(G(i,{fill:null,stroke:e.getItemVisual(a,"color"),opacity:e.getItemVisual(a,"opacity")})),o.shape.smooth=t})}function QI(e,t){return t==="category"?e==null:e==null||isNaN(e)}function e2(e,t,n){var i=new pe({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return Je(i,{shape:{width:e.width+20,height:e.height+20}},t,n),i}function Ic(){function e(o,a){if(a>=n.length)return o;for(var r=-1,s=o.length,l=n[a++],u={},h={};++r<s;){var c=l(o[r]),d=h[c];d?d.push(o[r]):h[c]=[o[r]]}return b(h,function(f,p){u[p]=e(f,a)}),u}function t(o,a){if(a>=n.length)return o;var r=[],s=i[a++];return b(o,function(l,u){r.push({key:u,values:t(l,a)})}),s?r.sort(function(l,u){return s(l.key,u.key)}):r}var n=[],i=[];return{key:function(o){return n.push(o),this},sortKeys:function(o){return i[n.length-1]=o,this},entries:function(o){return t(e(o,0),0)}}}function t2(e,t){return Pe(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function n2(e,t,n,i,o,a,r){o2(e,n,o),s2(e,t,a,i,r),f2(e)}function i2(e){b(e,function(t){var n=Io(t.outEdges,vs),i=Io(t.inEdges,vs),o=Math.max(n,i);t.setLayout({value:o},!0)})}function o2(e,t,n){for(var i=e,o=null,a=0;i.length;){o=[];for(var r=0,s=i.length;r<s;r++){var l=i[r];l.setLayout({x:a},!0),l.setLayout({dx:t},!0);for(var u=0,h=l.outEdges.length;u<h;u++)o.push(l.outEdges[u].node2)}i=o,++a}a2(e,a),r2(e,(n-t)/(a-1))}function a2(e,t){b(e,function(n){n.outEdges.length||n.setLayout({x:t-1},!0)})}function r2(e,t){b(e,function(n){var i=n.getLayout().x*t;n.setLayout({x:i},!0)})}function s2(e,t,n,i,o){var a=Ic().key(function(s){return s.getLayout().x}).sortKeys(v2).entries(e).map(function(s){return s.values});l2(e,a,t,n,i),Dc(a,i,n);for(var r=1;o>0;o--)u2(a,r*=.99),Dc(a,i,n),c2(a,r),Dc(a,i,n)}function l2(e,t,n,i,o){var a=[];b(t,function(s){var l=s.length,u=0;b(s,function(c){u+=c.getLayout().value});var h=(i-(l-1)*o)/u;a.push(h)}),a.sort(function(s,l){return s-l});var r=a[0];b(t,function(s){b(s,function(l,u){l.setLayout({y:u},!0);var h=l.getLayout().value*r;l.setLayout({dy:h},!0)})}),b(n,function(s){var l=+s.getValue()*r;s.setLayout({dy:l},!0)})}function Dc(e,t,n){b(e,function(i){var o,a,r,s=0,l=i.length;for(i.sort(m2),r=0;r<l;r++)o=i[r],(a=s-o.getLayout().y)>0&&(u=o.getLayout().y+a,o.setLayout({y:u},!0)),s=o.getLayout().y+o.getLayout().dy+t;if((a=s-t-n)>0){var u=o.getLayout().y-a;for(o.setLayout({y:u},!0),s=o.getLayout().y,r=l-2;r>=0;--r)(a=(o=i[r]).getLayout().y+o.getLayout().dy+t-s)>0&&(u=o.getLayout().y-a,o.setLayout({y:u},!0)),s=o.getLayout().y}})}function u2(e,t){b(e.slice().reverse(),function(n){b(n,function(i){if(i.outEdges.length){var o=Io(i.outEdges,h2)/Io(i.outEdges,vs),a=i.getLayout().y+(o-ms(i))*t;i.setLayout({y:a},!0)}})})}function h2(e){return ms(e.node2)*e.getValue()}function c2(e,t){b(e,function(n){b(n,function(i){if(i.inEdges.length){var o=Io(i.inEdges,d2)/Io(i.inEdges,vs),a=i.getLayout().y+(o-ms(i))*t;i.setLayout({y:a},!0)}})})}function d2(e){return ms(e.node1)*e.getValue()}function f2(e){b(e,function(t){t.outEdges.sort(p2),t.inEdges.sort(g2)}),b(e,function(t){var n=0,i=0;b(t.outEdges,function(o){o.setLayout({sy:n},!0),n+=o.getLayout().dy}),b(t.inEdges,function(o){o.setLayout({ty:i},!0),i+=o.getLayout().dy})})}function p2(e,t){return e.node2.getLayout().y-t.node2.getLayout().y}function g2(e,t){return e.node1.getLayout().y-t.node1.getLayout().y}function Io(e,t){for(var n=0,i=e.length,o=-1;++o<i;){var a=+t.call(e,e[o],o);isNaN(a)||(n+=a)}return n}function ms(e){return e.getLayout().y+e.getLayout().dy/2}function m2(e,t){return e.getLayout().y-t.getLayout().y}function v2(e,t){return e<t?-1:e>t?1:e===t?0:NaN}function vs(e){return e.getValue()}function Va(e,t,n,i){V.call(this),this.bodyIndex,this.whiskerIndex,this.styleUpdater=n,this._createContent(e,t,i),this.updateData(e,t,i),this._seriesModel}function _0(e,t,n){return P(e,function(i){return i=i.slice(),i[t]=n.initBaseline,i})}function w0(e){var t={};return b(e,function(n,i){t["ends"+i]=n}),t}function b0(e){this.group=new V,this.styleUpdater=e}function y2(e,t,n){var i=t.getItemModel(n),o=i.getModel(PL),a=t.getItemVisual(n,"color"),r=o.getItemStyle(["borderColor"]),s=e.childAt(e.whiskerIndex);s.style.set(r),s.style.stroke=a,s.dirty();var l=e.childAt(e.bodyIndex);l.style.set(r),l.style.stroke=a,l.dirty(),ve(e,i.getModel(OL).getItemStyle())}function x2(e){var t=[],n=[];return e.eachSeriesByType("boxplot",function(i){var o=i.getBaseAxis(),a=ne(n,o);a<0&&(a=n.length,n[a]=o,t[a]={axis:o,seriesModels:[]}),t[a].seriesModels.push(i)}),t}function _2(e){var t,n,i=e.axis,o=e.seriesModels,a=o.length,r=e.boxWidthList=[],s=e.boxOffsetList=[],l=[];if(i.type==="category")n=i.getBandWidth();else{var u=0;xr(o,function(p){u=Math.max(u,p.getData().count())}),t=i.getExtent(),Math.abs(t[1]-t[0])}xr(o,function(p){var g=p.get("boxWidth");O(g)||(g=[g,g]),l.push([E(g[0],n)||0,E(g[1],n)||0])});var h=.8*n-2,c=h/a*.3,d=(h-c*(a-1))/a,f=d/2-h/2;xr(o,function(p,g){s.push(f),f+=c+d,r.push(Math.min(Math.max(d,l[g][0]),l[g][1]))})}function w2(e,t,n){var i,o=e.coordinateSystem,a=e.getData(),r=n/2,s=e.get("layout"),l=s==="horizontal"?0:1,u=1-l,h=["x","y"],c=[];b(a.dimensions,function(d){var f=a.getDimensionInfo(d).coordDim;f===h[u]?c.push(d):f===h[l]&&(i=d)}),i==null||c.length<5||a.each([i].concat(c),function(){function d(M){var I=[];I[l]=m,I[u]=M;var D;return isNaN(m)||isNaN(M)?D=[NaN,NaN]:(D=o.dataToPoint(I))[l]+=t,D}function f(M,I){var D=M.slice(),T=M.slice();D[l]+=r,T[l]-=r,I?S.push(D,T):S.push(T,D)}function p(M){var I=[M.slice(),M.slice()];I[0][l]-=r,I[1][l]+=r,w.push(I)}var g=arguments,m=g[0],v=g[c.length+1],y=d(g[3]),x=d(g[1]),_=d(g[5]),w=[[x,d(g[2])],[_,d(g[4])]];p(x),p(_),p(y);var S=[];f(w[0][1],0),f(w[1][1],1),a.setItemLayout(v,{chartLayout:s,initBaseline:y[u],median:y,bodyEnds:S,whiskerEnds:w})})}function b2(e,t,n){var i=t.getItemModel(n),o=i.getModel(NL),a=t.getItemVisual(n,"color"),r=t.getItemVisual(n,"borderColor")||a,s=o.getItemStyle(["color","color0","borderColor","borderColor0"]),l=e.childAt(e.whiskerIndex);l.useStyle(s),l.style.stroke=r;var u=e.childAt(e.bodyIndex);u.useStyle(s),u.style.fill=a,u.style.stroke=r,ve(e,i.getModel(EL).getItemStyle())}function S2(e,t){var n,i=e.getBaseAxis(),o=i.type==="category"?i.getBandWidth():(n=i.getExtent(),Math.abs(n[1]-n[0])/t.count()),a=E(x_(e.get("barMaxWidth"),o),o),r=E(x_(e.get("barMinWidth"),1),o),s=e.get("barWidth");return s!=null?E(s,o):Math.max(Math.min(o/2,a),r)}function M2(e){return O(e)||(e=[+e,+e]),e}function S0(e,t){e.eachChild(function(n){n.attr({z:t.z,zlevel:t.zlevel,style:{stroke:t.brushType==="stroke"?t.color:null,fill:t.brushType==="fill"?t.color:null}})})}function Ac(e,t){V.call(this);var n=new xo(e,t),i=new V;this.add(n),this.add(i),i.beforeUpdate=function(){this.attr(n.getScale())},this.updateData(e,t)}function M0(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=P(t,function(n){var i={coords:[n[0].coord,n[1].coord]};return n[0].name&&(i.fromName=n[0].name),n[1].name&&(i.toName=n[1].name),aa([i,n[0],n[1]])}))}function Ga(e,t,n){V.call(this),this.add(this.createLine(e,t,n)),this._updateEffectSymbol(e,t)}function ys(e,t,n){V.call(this),this._createPolyline(e,t,n)}function Tc(e,t,n){Ga.call(this,e,t,n),this._lastFrame=0,this._lastFramePercent=0}function I0(){this.group=new V}function xs(e){return e instanceof Array||(e=[e,e]),e}function D0(){var e=ko();this.canvas=e,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}function I2(e,t,n){var i=e[1]-e[0],o=(t=P(t,function(r){return{interval:[(r.interval[0]-e[0])/i,(r.interval[1]-e[0])/i]}})).length,a=0;return function(r){for(s=a;s<o;s++)if((l=t[s].interval)[0]<=r&&r<=l[1]){a=s;break}if(s===o)for(var s=a-1;s>=0;s--){var l=t[s].interval;if(l[0]<=r&&r<=l[1]){a=s;break}}return s>=0&&s<o&&n[s]}}function D2(e,t){var n=e[1]-e[0];return t=[(t[0]-e[0])/n,(t[1]-e[0])/n],function(i){return i>=t[0]&&i<=t[1]}}function A2(e){var t=e.dimensions;return t[0]==="lng"&&t[1]==="lat"}function A0(e,t,n,i){var o=e.getItemLayout(t),a=n.get("symbolRepeat"),r=n.get("symbolClip"),s=n.get("symbolPosition")||"start",l=(n.get("symbolRotate")||0)*Math.PI/180||0,u=n.get("symbolPatternSize")||2,h=n.isAnimationEnabled(),c={dataIndex:t,layout:o,itemModel:n,symbolType:e.getItemVisual(t,"symbol")||"circle",color:e.getItemVisual(t,"color"),symbolClip:r,symbolRepeat:a,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:u,rotation:l,animationModel:h?n:null,hoverAnimation:h&&n.get("hoverAnimation"),z2:n.getShallow("z",!0)||0};T2(n,a,o,i,c),C2(e,t,o,a,r,c.boundingLength,c.pxSign,u,i,c),L2(n,c.symbolScale,l,i,c);var d=c.symbolSize,f=n.get("symbolOffset");return O(f)&&(f=[E(f[0],d[0]),E(f[1],d[1])]),k2(n,d,o,a,r,f,s,c.valueLineWidth,c.boundingLength,c.repeatCutLength,i,c),c}function T2(e,t,n,i,o){var a,r=i.valueDim,s=e.get("symbolBoundingData"),l=i.coordSys.getOtherAxis(i.coordSys.getBaseAxis()),u=l.toGlobalCoord(l.dataToCoord(0)),h=1-+(n[r.wh]<=0);if(O(s)){var c=[Cc(l,s[0])-u,Cc(l,s[1])-u];c[1]<c[0]&&c.reverse(),a=c[h]}else a=s!=null?Cc(l,s)-u:t?i.coordSysExtent[r.index][h]-u:n[r.wh];o.boundingLength=a,t&&(o.repeatCutLength=n[r.wh]),o.pxSign=a>0?1:a<0?-1:0}function Cc(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function C2(e,t,n,i,o,a,r,s,l,u){var h=l.valueDim,c=l.categoryDim,d=Math.abs(n[c.wh]),f=e.getItemVisual(t,"symbolSize");O(f)?f=f.slice():(f==null&&(f="100%"),f=[f,f]),f[c.index]=E(f[c.index],d),f[h.index]=E(f[h.index],i?d:Math.abs(a)),u.symbolSize=f,(u.symbolScale=[f[0]/s,f[1]/s])[h.index]*=(l.isHorizontal?-1:1)*r}function L2(e,t,n,i,o){var a=e.get(ZL)||0;a&&(zf.attr({scale:t.slice(),rotation:n}),zf.updateTransform(),a/=zf.getLineScale(),a*=t[i.valueDim.index]),o.valueLineWidth=a}function k2(e,t,n,i,o,a,r,s,l,u,h,c){var d=h.categoryDim,f=h.valueDim,p=c.pxSign,g=Math.max(t[f.index]+s,0),m=g;if(i){var v=Math.abs(l),y=Re(e.get("symbolMargin"),"15%")+"",x=!1;y.lastIndexOf("!")===y.length-1&&(x=!0,y=y.slice(0,y.length-1)),y=E(y,t[f.index]);var _=Math.max(g+2*y,0),w=x?0:2*y,S=Hg(i),M=S?i:B0((v+w)/_);_=g+2*(y=(v-M*g)/2/(x?M:M-1)),w=x?0:2*y,S||i==="fixed"||(M=u?B0((Math.abs(u)+w)/_):0),m=M*_-w,c.repeatTimes=M,c.symbolMargin=y}var I=p*(m/2),D=c.pathPosition=[];D[d.index]=n[d.wh]/2,D[f.index]=r==="start"?I:r==="end"?l-I:l/2,a&&(D[0]+=a[0],D[1]+=a[1]);var T=c.bundlePosition=[];T[d.index]=n[d.xy],T[f.index]=n[f.xy];var A=c.barRectShape=G({},n);A[f.wh]=p*Math.max(Math.abs(n[f.wh]),Math.abs(D[f.index]+I)),A[d.wh]=n[d.wh];var L=c.clipShape={};L[d.xy]=-n[d.xy],L[d.wh]=h.ecSize[d.wh],L[f.xy]=0,L[f.wh]=n[f.wh]}function T0(e){var t=e.symbolPatternSize,n=ht(e.symbolType,-t/2,-t/2,t,t,e.color);return n.attr({culling:!0}),n.type!=="image"&&n.setStyle({strokeNoScale:!0}),n}function C0(e,t,n,i){function o(g){var m=l.slice(),v=n.pxSign,y=g;return(n.symbolRepeatDirection==="start"?v>0:v<0)&&(y=h-1-g),m[u.index]=d*(y-h/2+.5)+l[u.index],{position:m,scale:n.symbolScale.slice(),rotation:n.rotation}}var a=e.__pictorialBundle,r=n.symbolSize,s=n.valueLineWidth,l=n.pathPosition,u=t.valueDim,h=n.repeatTimes||0,c=0,d=r[t.valueDim.index]+s+2*n.symbolMargin;for(Wa(e,function(g){g.__pictorialAnimationIndex=c,g.__pictorialRepeatTimes=h,c<h?Do(g,null,o(c),n,i):Do(g,null,{scale:[0,0]},n,i,function(){a.remove(g)}),Lc(g,n),c++});c<h;c++){var f=T0(n);f.__pictorialAnimationIndex=c,f.__pictorialRepeatTimes=h,a.add(f);var p=o(c);Do(f,{position:p.position,scale:[0,0]},{scale:p.scale,rotation:p.rotation},n,i),f.on("mouseover",function(){Wa(e,function(g){g.trigger("emphasis")})}).on("mouseout",function(){Wa(e,function(g){g.trigger("normal")})}),Lc(f,n)}}function L0(e,t,n,i){var o=e.__pictorialBundle,a=e.__pictorialMainPath;a?Do(a,null,{position:n.pathPosition.slice(),scale:n.symbolScale.slice(),rotation:n.rotation},n,i):(a=e.__pictorialMainPath=T0(n),o.add(a),Do(a,{position:n.pathPosition.slice(),scale:[0,0],rotation:n.rotation},{scale:n.symbolScale.slice()},n,i),a.on("mouseover",function(){this.trigger("emphasis")}).on("mouseout",function(){this.trigger("normal")})),Lc(a,n)}function k0(e,t,n){var i=G({},t.barRectShape),o=e.__pictorialBarRect;o?Do(o,null,{shape:i},t,n):(o=e.__pictorialBarRect=new pe({z2:2,shape:i,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),e.add(o))}function P0(e,t,n,i){if(n.symbolClip){var o=e.__pictorialClipPath,a=G({},n.clipShape),r=t.valueDim,s=n.animationModel,l=n.dataIndex;if(o)J(o,{shape:a},s,l);else{a[r.wh]=0,o=new pe({shape:a}),e.__pictorialBundle.setClipPath(o),e.__pictorialClipPath=o;var u={};u[r.wh]=n.clipShape[r.wh],Nt[i?"updateProps":"initProps"](o,{shape:u},s,l)}}}function O0(e,t){var n=e.getItemModel(t);return n.getAnimationDelayParams=P2,n.isAnimationEnabled=O2,n}function P2(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function O2(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function Lc(e,t){e.off("emphasis").off("normal");var n=t.symbolScale.slice();t.hoverAnimation&&e.on("emphasis",function(){this.animateTo({scale:[1.1*n[0],1.1*n[1]]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:n.slice()},400,"elasticOut")})}function N0(e,t,n,i){var o=new V,a=new V;return o.add(a),o.__pictorialBundle=a,a.attr("position",n.bundlePosition.slice()),n.symbolRepeat?C0(o,t,n):L0(o,t,n),k0(o,n,i),P0(o,t,n,i),o.__pictorialShapeStr=z0(e,n),o.__pictorialSymbolMeta=n,o}function N2(e,t,n){var i=n.animationModel,o=n.dataIndex;J(e.__pictorialBundle,{position:n.bundlePosition.slice()},i,o),n.symbolRepeat?C0(e,t,n,!0):L0(e,t,n,!0),k0(e,n,!0),P0(e,t,n,!0)}function E0(e,t,n,i){var o=i.__pictorialBarRect;o&&(o.style.text=null);var a=[];Wa(i,function(r){a.push(r)}),i.__pictorialMainPath&&a.push(i.__pictorialMainPath),i.__pictorialClipPath&&(n=null),b(a,function(r){J(r,{scale:[0,0]},n,t,function(){i.parent&&i.parent.remove(i)})}),e.setItemGraphicEl(t,null)}function z0(e,t){return[e.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function Wa(e,t,n){b(e.__pictorialBundle.children(),function(i){i!==e.__pictorialBarRect&&t.call(n,i)})}function Do(e,t,n,i,o,a){t&&e.attr(t),i.symbolClip&&!o?n&&e.attr(n):n&&Nt[o?"updateProps":"initProps"](e,n,i.animationModel,i.dataIndex,a)}function R0(e,t,n){var i=n.color,o=n.dataIndex,a=n.itemModel,r=a.getModel("itemStyle").getItemStyle(["color"]),s=a.getModel("emphasis.itemStyle").getItemStyle(),l=a.getShallow("cursor");Wa(e,function(d){d.setColor(i),d.setStyle(W({fill:i,opacity:n.opacity},r)),ve(d,s),l&&(d.cursor=l),d.z2=n.z2});var u={},h=t.valueDim.posDesc[+(n.boundingLength>0)],c=e.__pictorialBarRect;sv(c.style,u,a,i,t.seriesModel,o,h),ve(c,u)}function B0(e){var t=Math.round(e);return Math.abs(e-t)<1e-4?t:Math.ceil(e)}function _s(e,t,n){this.dimension="single",this.dimensions=["single"],this._axis=null,this._rect,this._init(e,t,n),this.model=e}function kc(e,t){t=t||{};var n=e.coordinateSystem,i=e.axis,o={},a=i.position,r=i.orient,s=n.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};o.position=[r==="vertical"?u.vertical[a]:l[0],r==="horizontal"?u.horizontal[a]:l[3]];var h={horizontal:0,vertical:1};o.rotation=Math.PI/2*h[r];var c={top:-1,bottom:1,right:1,left:-1};o.labelDirection=o.tickDirection=o.nameDirection=c[a],e.get("axisTick.inside")&&(o.tickDirection=-o.tickDirection),Re(t.labelInside,e.get("axisLabel.inside"))&&(o.labelDirection=-o.labelDirection);var d=t.rotate;return d==null&&(d=e.get("axisLabel.rotate")),o.labelRotation=a==="top"?-d:d,o.labelInterval=i.getLabelInterval(),o.z2=1,o}function V0(e,t,n,i,o){var a=e.axis;if(!a.scale.isBlank()&&a.containData(t))if(e.involveSeries){var r=E2(t,e),s=r.payloadBatch,l=r.snapToValue;s[0]&&o.seriesIndex==null&&G(o,s[0]),!i&&e.snap&&a.containData(l)&&l!=null&&(t=l),n.showPointer(e,t,s,o),n.showTooltip(e,r,l)}else n.showPointer(e,t)}function E2(e,t){var n=t.axis,i=n.dim,o=e,a=[],r=Number.MAX_VALUE,s=-1;return ln(t.seriesModels,function(l,u){var h,c,d=l.getData().mapDimension(i,!0);if(l.getAxisTooltipData){var f=l.getAxisTooltipData(d,e,n);c=f.dataIndices,h=f.nestestValue}else{if(!(c=l.getData().indicesOfNearest(d[0],e,n.type==="category"?.5:null)).length)return;h=l.getData().get(d[0],c[0])}if(h!=null&&isFinite(h)){var p=e-h,g=Math.abs(p);g<=r&&((g<r||p>=0&&s<0)&&(r=g,s=p,o=h,a.length=0),ln(c,function(m){a.push({seriesIndex:l.seriesIndex,dataIndexInside:m,dataIndex:l.getData().getRawIndex(m)})}))}}),{payloadBatch:a,snapToValue:o}}function z2(e,t,n,i){e[t.key]={value:n,payloadBatch:i}}function R2(e,t,n,i){var o=n.payloadBatch,a=t.axis,r=a.model,s=t.axisPointerModel;if(t.triggerTooltip&&o.length){var l=t.coordSys.model,u=Pa(l),h=e.map[u];h||(h=e.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},e.list.push(h)),h.dataByAxis.push({axisDim:a.dim,axisIndex:r.componentIndex,axisType:r.type,axisId:r.id,value:i,valueLabelOpt:{precision:s.get("label.precision"),formatter:s.get("label.formatter")},seriesDataIndices:o.slice()})}}function B2(e,t,n){var i=n.axesInfo=[];ln(t,function(o,a){var r=o.axisPointerModel.option,s=e[a];s?(!o.useHandle&&(r.status="show"),r.value=s.value,r.seriesDataIndices=(s.payloadBatch||[]).slice()):!o.useHandle&&(r.status="hide"),r.status==="show"&&i.push({axisDim:o.axis.dim,axisIndex:o.axis.model.componentIndex,value:r.value})})}function V2(e,t,n,i){if(!ws(t)&&e.list.length){var o=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:o.dataIndexInside,dataIndex:o.dataIndex,seriesIndex:o.seriesIndex,dataByCoordSys:e.list})}else i({type:"hideTip"})}function G2(e,t,n){var i=n.getZr(),o=C_(i).axisPointerLastHighlights||{},a=C_(i).axisPointerLastHighlights={};ln(e,function(l,u){var h=l.axisPointerModel.option;h.status==="show"&&ln(h.seriesDataIndices,function(c){var d=c.seriesIndex+" | "+c.dataIndex;a[d]=c})});var r=[],s=[];b(o,function(l,u){!a[u]&&s.push(l)}),b(a,function(l,u){!o[u]&&r.push(l)}),s.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,batch:s}),r.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,batch:r})}function W2(e,t){for(var n=0;n<(e||[]).length;n++){var i=e[n];if(t.axis.dim===i.axisDim&&t.axis.model.componentIndex===i.axisIndex)return i}}function G0(e){var t=e.axis.model,n={},i=n.axisDim=e.axis.dim;return n.axisIndex=n[i+"AxisIndex"]=t.componentIndex,n.axisName=n[i+"AxisName"]=t.name,n.axisId=n[i+"AxisId"]=t.id,n}function ws(e){return!e||e[0]==null||isNaN(e[0])||e[1]==null||isNaN(e[1])}function W0(e,t,n){if(!ee.node){var i=t.getZr();Tn(i).records||(Tn(i).records={}),F2(i,t),(Tn(i).records[e]||(Tn(i).records[e]={})).handler=n}}function F2(e,t){function n(i,o){e.on(i,function(a){var r=U2(t);$L(Tn(e).records,function(s){s&&o(s,a,r.dispatchAction)}),H2(r.pendings,t)})}Tn(e).initialized||(Tn(e).initialized=!0,n("click",j(F0,"click")),n("mousemove",j(F0,"mousemove")),n("globalout",Z2))}function H2(e,t){var n,i=e.showTip.length,o=e.hideTip.length;i?n=e.showTip[i-1]:o&&(n=e.hideTip[o-1]),n&&(n.dispatchAction=null,t.dispatchAction(n))}function Z2(e,t,n){e.handler("leave",null,n)}function F0(e,t,n,i){t.handler(e,n,i)}function U2(e){var t={showTip:[],hideTip:[]},n=function(i){var o=t[i.type];o?o.push(i):(i.dispatchAction=n,e.dispatchAction(i))};return{dispatchAction:n,pendings:t}}function Pc(e,t){if(!ee.node){var n=t.getZr();(Tn(n).records||{})[e]&&(Tn(n).records[e]=null)}}function Ao(){}function H0(e,t,n,i){Z0(Yi(n).lastProp,i)||(Yi(n).lastProp=i,t?J(n,i,e):(n.stopAnimation(),n.attr(i)))}function Z0(e,t){if(Y(e)&&Y(t)){var n=!0;return b(t,function(i,o){n=n&&Z0(e[o],i)}),!!n}return e===t}function U0(e,t){e[t.get("label.show")?"show":"hide"]()}function Oc(e){return{position:e.position.slice(),rotation:e.rotation||0}}function j0(e,t,n){var i=t.get("z"),o=t.get("zlevel");e&&e.traverse(function(a){a.type!=="group"&&(i!=null&&(a.z=i),o!=null&&(a.zlevel=o),a.silent=n)})}function Nc(e){var t,n=e.get("type"),i=e.getModel(n+"Style");return n==="line"?(t=i.getLineStyle()).fill=null:n==="shadow"&&((t=i.getAreaStyle()).stroke=null),t}function X0(e,t,n,i,o){var a=q0(n.get("value"),t.axis,t.ecModel,n.get("seriesDataIndices"),{precision:n.get("label.precision"),formatter:n.get("label.formatter")}),r=n.getModel("label"),s=zi(r.get("padding")||0),l=r.getFont(),u=mn(a,l),h=o.position,c=u.width+s[1]+s[3],d=u.height+s[0]+s[2],f=o.align;f==="right"&&(h[0]-=c),f==="center"&&(h[0]-=c/2);var p=o.verticalAlign;p==="bottom"&&(h[1]-=d),p==="middle"&&(h[1]-=d/2),j2(h,c,d,i);var g=r.get("backgroundColor");g&&g!=="auto"||(g=t.get("axisLine.lineStyle.color")),e.label={shape:{x:0,y:0,width:c,height:d,r:r.get("borderRadius")},position:h.slice(),style:{text:a,textFont:l,textFill:r.getTextColor(),textPosition:"inside",fill:g,stroke:r.get("borderColor")||"transparent",lineWidth:r.get("borderWidth")||0,shadowBlur:r.get("shadowBlur"),shadowColor:r.get("shadowColor"),shadowOffsetX:r.get("shadowOffsetX"),shadowOffsetY:r.get("shadowOffsetY")},z2:10}}function j2(e,t,n,i){var o=i.getWidth(),a=i.getHeight();e[0]=Math.min(e[0]+t,o)-t,e[1]=Math.min(e[1]+n,a)-n,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}function q0(e,t,n,i,o){var a=t.scale.getLabel(e,{precision:o.precision}),r=o.formatter;if(r){var s={value:Th(t,e),seriesData:[]};b(i,function(l){var u=n.getSeriesByIndex(l.seriesIndex),h=l.dataIndexInside,c=u&&u.getDataParams(h);c&&s.seriesData.push(c)}),xe(r)?a=r.replace("{value}",a):At(r)&&(a=r(s))}return a}function Ec(e,t,n){var i=Ct();return ci(i,i,n.rotation),Vt(i,i,n.position),Ut([e.dataToCoord(t),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],i)}function Y0(e,t,n,i,o,a){var r=$e.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=o.get("label.margin"),X0(t,i,o,a,{position:Ec(i.axis,e,n),align:r.textAlign,verticalAlign:r.textVerticalAlign})}function zc(e,t,n){return n=n||0,{x1:e[n],y1:e[1-n],x2:t[n],y2:t[1-n]}}function $0(e,t,n){return n=n||0,{x:e[n],y:e[1-n],width:t[n],height:t[1-n]}}function K0(e,t,n,i,o,a){return{cx:e,cy:t,r0:n,r:i,startAngle:o,endAngle:a,clockwise:!0}}function J0(e,t){var n={};return n[t.dim+"AxisIndex"]=t.index,e.getCartesian(n)}function Q0(e){return e.dim==="x"?0:1}function bs(e){return e.isHorizontal()?0:1}function Rc(e,t){var n=e.getRect();return[n[P_[t]],n[P_[t]]+n[QL[t]]]}function X2(e,t,n){var i=new pe({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return Je(i,{shape:{width:e.width+20,height:e.height+20}},t,n),i}function ey(e,t,n){if(e.count())for(var i,o=t.coordinateSystem,a=t.getLayerSeries(),r=e.mapDimension("single"),s=e.mapDimension("value"),l=P(a,function(m){return P(m.indices,function(v){var y=o.dataToPoint(e.get(r,v));return y[1]=e.get(s,v),y})}),u=q2(l),h=u.y0,c=n/u.max,d=a.length,f=a[0].indices.length,p=0;p<f;++p){i=h[p]*c,e.setItemLayout(a[0].indices[p],{layerIndex:0,x:l[0][p][0],y0:i,y:l[0][p][1]*c});for(var g=1;g<d;++g)i+=l[g-1][p][1]*c,e.setItemLayout(a[g].indices[p],{layerIndex:g,x:l[g][p][0],y0:i,y:l[g][p][1]*c})}}function q2(e){for(var t=e.length,n=e[0].length,i=[],o=[],a=0,r={},s=0;s<n;++s){for(var l=0,u=0;l<t;++l)u+=e[l][s][1];u>a&&(a=u),i.push(u)}for(var h=0;h<n;++h)o[h]=(a-i[h])/2;a=0;for(var c=0;c<n;++c){var d=i[c]+o[c];d>a&&(a=d)}return r.y0=o,r.max=a,r}function ty(e){var t=0;b(e.children,function(i){ty(i);var o=i.value;O(o)&&(o=o[0]),t+=o});var n=e.value;O(n)&&(n=n[0]),(n==null||isNaN(n))&&(n=t),n<0&&(n=0),O(e.value)?e.value[0]=n:e.value=n}function Ss(e,t,n){function i(){r.ignore=r.hoverIgnore}function o(){r.ignore=r.normalIgnore}V.call(this);var a=new In({z2:ik}),r=new te({z2:ok,silent:e.getModel("label").get("silent")});this.add(a),this.add(r),this.updateData(!0,e,"normal",t,n),this.on("emphasis",i).on("normal",o).on("mouseover",i).on("mouseout",o)}function Y2(e,t,n){var i=e.getVisual("color"),o=e.getVisual("visualMeta");o&&o.length!==0||(i=null);var a=e.getModel("itemStyle").get("color");if(a)return a;if(i)return i;if(e.depth===0)return n.option.color[0];var r=n.option.color.length;return a=n.option.color[$2(e)%r]}function $2(e){for(var t=e;t.depth>1;)t=t.parentNode;return ne(e.getAncestors()[0].children,t)}function K2(e,t,n){return n!==Jl.NONE&&(n===Jl.SELF?e===t:n===Jl.ANCESTOR?e===t||e.isAncestorOf(t):e===t||e.isDescendantOf(t))}function ny(e,t){var n=e.children||[];e.children=J2(n,t),n.length&&b(e.children,function(i){ny(i,t)})}function J2(e,t){if(typeof t=="function")return e.sort(t);var n=t==="asc";return e.sort(function(i,o){var a=(i.getValue()-o.getValue())*(n?1:-1);return a===0?(i.dataIndex-o.dataIndex)*(n?-1:1):a})}function Q2(e,t){return t=t||[0,0],P(["x","y"],function(n,i){var o=this.getAxis(n),a=t[i],r=e[i]/2;return o.type==="category"?o.getBandWidth():Math.abs(o.dataToCoord(a-r)-o.dataToCoord(a+r))},this)}function eD(e,t){return t=t||[0,0],P([0,1],function(n){var i=t[n],o=e[n]/2,a=[],r=[];return a[n]=i-o,r[n]=i+o,a[1-n]=r[1-n]=t[1-n],Math.abs(this.dataToPoint(a)[n]-this.dataToPoint(r)[n])},this)}function tD(e,t){var n=this.getAxis(),i=t instanceof Array?t[0]:t,o=(e instanceof Array?e[0]:e)/2;return n.type==="category"?n.getBandWidth():Math.abs(n.dataToCoord(i-o)-n.dataToCoord(i+o))}function nD(e,t){return P(["Radius","Angle"],function(n,i){var o=this["get"+n+"Axis"](),a=t[i],r=e[i]/2,s="dataTo"+n,l=o.type==="category"?o.getBandWidth():Math.abs(o[s](a-r)-o[s](a+r));return n==="Angle"&&(l=l*Math.PI/180),l},this)}function iD(e){var t,n=e.type;if(n==="path"){var i=e.shape;(t=ya(i.pathData,null,{x:i.x||0,y:i.y||0,width:i.width||0,height:i.height||0},"center")).__customPathData=e.pathData}else n==="image"?(t=new Ze({})).__customImagePath=e.style.image:n==="text"?(t=new te({})).__customText=e.style.text:t=new Nt[n.charAt(0).toUpperCase()+n.slice(1)];return t.__customGraphicType=n,t.name=e.name,t}function oD(e,t,n,i,o,a){var r={},s=n.style||{};if(n.shape&&(r.shape=Z(n.shape)),n.position&&(r.position=n.position.slice()),n.scale&&(r.scale=n.scale.slice()),n.origin&&(r.origin=n.origin.slice()),n.rotation&&(r.rotation=n.rotation),e.type==="image"&&n.style&&(l=r.style={},b(["x","y","width","height"],function(h){iy(h,l,s,e.style,a)})),e.type==="text"&&n.style){var l=r.style={};b(["x","y"],function(h){iy(h,l,s,e.style,a)}),!s.hasOwnProperty("textFill")&&s.fill&&(s.textFill=s.fill),!s.hasOwnProperty("textStroke")&&s.stroke&&(s.textStroke=s.stroke)}if(e.type!=="group"&&(e.useStyle(s),a)){e.style.opacity=0;var u=s.opacity;u==null&&(u=1),Je(e,{style:{opacity:u}},i,t)}a?e.attr(r):J(e,r,i,t),e.attr({z2:n.z2||0,silent:n.silent}),n.styleEmphasis!==!1&&ve(e,n.styleEmphasis)}function iy(e,t,n,i,o){n[e]==null||o||(t[e]=n[e],n[e]=i[e])}function oy(e,t,n,i){function o(m){m==null&&(m=l),g&&(u=t.getItemModel(m),h=u.getModel(sk),c=u.getModel(lk),d=t.getItemVisual(m,"color"),g=!1)}var a=e.get("renderItem"),r=e.coordinateSystem,s={};r&&(s=r.prepareCustoms?r.prepareCustoms():hk[r.type](r));var l,u,h,c,d,f=W({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:function(m,v){return v==null&&(v=l),t.get(t.getDimension(m||0),v)},style:function(m,v){v==null&&(v=l),o(v);var y=u.getModel(ak).getItemStyle();d!=null&&(y.fill=d);var x=t.getItemVisual(v,"opacity");return x!=null&&(y.opacity=x),Se(y,h,null,{autoColor:d,isRectText:!0}),y.text=h.getShallow("show")?Be(e.getFormattedLabel(v,"normal"),as(t,v)):null,m&&G(y,m),y},styleEmphasis:function(m,v){v==null&&(v=l),o(v);var y=u.getModel(rk).getItemStyle();return Se(y,c,null,{isRectText:!0},!0),y.text=c.getShallow("show")?ui(e.getFormattedLabel(v,"emphasis"),e.getFormattedLabel(v,"normal"),as(t,v)):null,m&&G(y,m),y},visual:function(m,v){return v==null&&(v=l),t.getItemVisual(v,m)},barLayout:function(m){if(r.getBaseAxis)return oM(W({axis:r.getBaseAxis()},m),i)},currentSeriesIndices:function(){return n.getCurrentSeriesIndices()},font:function(m){return Ju(m,n)}},s.api||{}),p={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:s.coordSys,dataInsideLength:t.count(),encode:aD(e.getData())},g=!0;return function(m){return l=m,g=!0,a&&a(W({dataIndexInside:m,dataIndex:t.getRawIndex(m)},p),f)||{}}}function aD(e){var t={};return b(e.dimensions,function(n,i){var o=e.getDimensionInfo(n);if(!o.isExtraCoord){var a=o.coordDim;(t[a]=t[a]||[])[o.coordDimIndex]=i}}),t}function Bc(e,t,n,i,o,a){return(e=Vc(e,t,n,i,o,a))&&a.setItemGraphicEl(t,e),e}function Vc(e,t,n,i,o,a){var r=n.type;if(!e||r===e.__customGraphicType||r==="path"&&n.pathData===e.__customPathData||r==="image"&&n.style.image===e.__customImagePath||r==="text"&&n.style.text===e.__customText||(o.remove(e),e=null),r!=null){var s=!e;if(!e&&(e=iD(n)),oD(e,t,n,i,a,s),r==="group"){var l=e.children()||[],u=n.children||[];if(n.diffChildrenByName)rD({oldChildren:l,newChildren:u,dataIndex:t,animatableModel:i,group:e,data:a});else{for(var h=0;h<u.length;h++)Vc(e.childAt(h),t,u[h],i,e,a);for(;h<l.length;h++)l[h]&&e.remove(l[h])}}return o.add(e),e}}function rD(e){new xn(e.oldChildren,e.newChildren,ay,ay,e).add(ry).update(ry).remove(sD).execute()}function ay(e,t){var n=e&&e.name;return n!=null?n:uk+t}function ry(e,t){var n=this.context,i=e!=null?n.newChildren[e]:null;Vc(t!=null?n.oldChildren[t]:null,n.dataIndex,i,n.animatableModel,n.group,n.data)}function sD(e){var t=this.context,n=t.oldChildren[e];n&&t.group.remove(n)}function sy(e,t,n,i){var o=n.type,a=new Nt[o.charAt(0).toUpperCase()+o.slice(1)](n);t.add(a),i.set(e,a),a.__ecGraphicId=e}function Ms(e,t){var n=e&&e.parent;n&&(e.type==="group"&&e.traverse(function(i){Ms(i,t)}),t.removeKey(e.__ecGraphicId),n.remove(e))}function lD(e){return e=G({},e),b(["id","parentId","$action","hv","bounding"].concat(Y1),function(t){delete e[t]}),e}function ly(e,t){var n;return b(t,function(i){e[i]!=null&&e[i]!=="auto"&&(n=!0)}),n}function uD(e,t){var n=e.exist;if(t.id=e.keyInfo.id,!t.type&&n&&(t.type=n.type),t.parentId==null){var i=t.parentOption;i?t.parentId=i.id:n&&(t.parentId=n.parentId)}t.parentOption=null}function hD(e,t,n){var i=G({},n),o=e[t],a=n.$action||"merge";a==="merge"?o?(q(o,i,!0),Vn(o,i,{ignoreSize:!0}),jg(n,o)):e[t]=i:a==="replace"?e[t]=i:a==="remove"&&o&&(e[t]=null)}function cD(e,t){e&&(e.hv=t.hv=[ly(t,["left","right"]),ly(t,["top","bottom"])],e.type==="group"&&(e.width==null&&(e.width=t.width=0),e.height==null&&(e.height=t.height=0)))}function Gc(e,t,n){var i,o={},a=e==="toggleSelected";return n.eachComponent("legend",function(r){a&&i!=null?r[i?"select":"unSelect"](t.name):(r[e](t.name),i=r.isSelected(t.name)),b(r.getData(),function(s){var l=s.get("name");if(l!==`
`&&l!==""){var u=r.isSelected(l);o.hasOwnProperty(l)?o[l]=o[l]&&u:o[l]=u}})}),{name:t.name,selected:o}}function dD(e,t,n){var i=t.getBoxLayoutParams(),o=t.get("padding"),a={width:n.getWidth(),height:n.getHeight()},r=Pe(i,a,o);ir(t.get("orient"),e,t.get("itemGap"),r.width,r.height),qr(e,i,a,o)}function uy(e,t){var n=zi(t.get("padding")),i=t.getItemStyle(["color","opacity"]);return i.fill=t.get("backgroundColor"),e=new pe({shape:{x:e.x-n[3],y:e.y-n[0],width:e.width+n[1]+n[3],height:e.height+n[0]+n[2],r:t.get("borderRadius")},style:i,silent:!0,z2:-1})}function hy(e,t){t.dispatchAction({type:"legendToggleSelect",name:e})}function cy(e,t,n){var i=n.getZr().storage.getDisplayList()[0];i&&i.useHoverLayer||e.get("legendHoverLink")&&n.dispatchAction({type:"highlight",seriesName:e.name,name:t})}function dy(e,t,n){var i=n.getZr().storage.getDisplayList()[0];i&&i.useHoverLayer||e.get("legendHoverLink")&&n.dispatchAction({type:"downplay",seriesName:e.name,name:t})}function fy(e,t,n){var i=[1,1];i[e.getOrient().index]=0,Vn(t,n,{type:"box",ignoreSize:i})}function fD(e){var t="left "+e+"s cubic-bezier(0.23, 1, 0.32, 1),top "+e+"s cubic-bezier(0.23, 1, 0.32, 1)";return P(gk,function(n){return n+"transition:"+t}).join(";")}function pD(e){var t=[],n=e.get("fontSize"),i=e.getTextColor();return i&&t.push("color:"+i),t.push("font:"+e.getFont()),n&&t.push("line-height:"+Math.round(3*n/2)+"px"),G_(["decoration","align"],function(o){var a=e.get(o);a&&t.push("text-"+o+":"+a)}),t.join(";")}function gD(e){var t=[],n=e.get("transitionDuration"),i=e.get("backgroundColor"),o=e.getModel("textStyle"),a=e.get("padding");return n&&t.push(fD(n)),i&&(ee.canvasSupported?t.push("background-Color:"+i):(t.push("background-Color:#"+Cp(i)),t.push("filter:alpha(opacity=70)"))),G_(["width","color","radius"],function(r){var s="border-"+r,l=pk(s),u=e.get(l);u!=null&&t.push(s+":"+u+(r==="color"?"":"px"))}),t.push(pD(o)),a!=null&&t.push("padding:"+zi(a).join("px ")+"px"),t.join(";")+";"}function Wc(e,t){if(ee.wxa)return null;var n=document.createElement("div"),i=this._zr=t.getZr();this.el=n,this._x=t.getWidth()/2,this._y=t.getHeight()/2,e.appendChild(n),this._container=e,this._show=!1,this._hideTimeout;var o=this;n.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},n.onmousemove=function(a){if(a=a||window.event,!o._enterable){var r=i.handler;fi(e,a,!0),r.dispatch("mousemove",a)}},n.onmouseleave=function(){o._enterable&&o._show&&o.hideLater(o._hideDelay),o._inContent=!1}}function Fc(e){for(var t=e.pop();e.length;){var n=e.pop();n&&(re.isInstance(n)&&(n=n.get("tooltip",!0)),typeof n=="string"&&(n={formatter:n}),t=new re(n,t,t.ecModel))}return t}function py(e,t){return e.dispatchAction||U(t.dispatchAction,t)}function mD(e,t,n,i,o,a,r){var s=gy(n),l=s.width,u=s.height;return a!=null&&(e+l+a>i?e-=l+a:e+=a),r!=null&&(t+u+r>o?t-=u+r:t+=r),[e,t]}function vD(e,t,n,i,o){var a=gy(n),r=a.width,s=a.height;return e=Math.min(e+r,i)-r,t=Math.min(t+s,o)-s,e=Math.max(e,0),t=Math.max(t,0),[e,t]}function gy(e){var t=e.clientWidth,n=e.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var i=document.defaultView.getComputedStyle(e);i&&(t+=parseInt(i.paddingLeft,10)+parseInt(i.paddingRight,10)+parseInt(i.borderLeftWidth,10)+parseInt(i.borderRightWidth,10),n+=parseInt(i.paddingTop,10)+parseInt(i.paddingBottom,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10))}return{width:t,height:n}}function yD(e,t,n){var i=n[0],o=n[1],a=0,r=0,s=t.width,l=t.height;switch(e){case"inside":a=t.x+s/2-i/2,r=t.y+l/2-o/2;break;case"top":a=t.x+s/2-i/2,r=t.y-o-5;break;case"bottom":a=t.x+s/2-i/2,r=t.y+l+5;break;case"left":a=t.x-i-5,r=t.y+l/2-o/2;break;case"right":a=t.x+s+5,r=t.y+l/2-o/2}return[a,r]}function my(e){return e==="center"||e==="middle"}function vy(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function Hc(e){return e.dim}function xD(e,t){var n={};b(e,function(o,a){var r=o.getData(),s=o.coordinateSystem.getBaseAxis(),l=s.getExtent(),u=s.type==="category"?s.getBandWidth():Math.abs(l[1]-l[0])/r.count(),h=n[Hc(s)]||{bandWidth:u,remainedWidth:u,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},c=h.stacks;n[Hc(s)]=h;var d=vy(o);c[d]||h.autoWidthCount++,c[d]=c[d]||{width:0,maxWidth:0};var f=E(o.get("barWidth"),u),p=E(o.get("barMaxWidth"),u),g=o.get("barGap"),m=o.get("barCategoryGap");f&&!c[d].width&&(f=Math.min(h.remainedWidth,f),c[d].width=f,h.remainedWidth-=f),p&&(c[d].maxWidth=p),g!=null&&(h.gap=g),m!=null&&(h.categoryGap=m)});var i={};return b(n,function(o,a){i[a]={};var r=o.stacks,s=o.bandWidth,l=E(o.categoryGap,s),u=E(o.gap,1),h=o.remainedWidth,c=o.autoWidthCount,d=(h-l)/(c+(c-1)*u);d=Math.max(d,0),b(r,function(m,v){var y=m.maxWidth;y&&y<d&&(y=Math.min(y,h),m.width&&(y=Math.min(y,m.width)),h-=y,m.width=y,c--)}),d=(h-l)/(c+(c-1)*u),d=Math.max(d,0);var f,p=0;b(r,function(m,v){m.width||(m.width=d),f=m,p+=m.width*(1+u)}),f&&(p-=f.width*u);var g=-p/2;b(r,function(m,v){i[a][v]=i[a][v]||{offset:g,width:m.width},g+=m.width*(1+u)})}),i}function Is(e,t){Le.call(this,"radius",e,t),this.type="category"}function Ds(e,t){t=t||[0,360],Le.call(this,"angle",e,t),this.type="category"}function yy(e,t){return t.type||(t.data?"category":"value")}function _D(e,t,n){var i=t.get("center"),o=n.getWidth(),a=n.getHeight();e.cx=E(i[0],o),e.cy=E(i[1],a);var r=e.getRadiusAxis(),s=Math.min(o,a)/2,l=E(t.get("radius"),s);r.inverse?r.setExtent(l,0):r.setExtent(0,l)}function wD(e,t){var n=this,i=n.getAngleAxis(),o=n.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),o.scale.setExtent(1/0,-1/0),e.eachSeries(function(s){if(s.coordinateSystem===n){var l=s.getData();b(l.mapDimension("radius",!0),function(u){o.scale.unionExtentFromData(l,u)}),b(l.mapDimension("angle",!0),function(u){i.scale.unionExtentFromData(l,u)})}}),wi(i.scale,i.model),wi(o.scale,o.model),i.type==="category"&&!i.onBand){var a=i.getExtent(),r=360/i.scale.count();i.inverse?a[1]+=r:a[1]-=r,i.setExtent(a[0],a[1])}}function xy(e,t){if(e.type=t.get("type"),e.scale=yo(t),e.onBand=t.get("boundaryGap")&&e.type==="category",e.inverse=t.get("inverse"),t.mainType==="angleAxis"){e.inverse^=t.get("clockwise");var n=t.get("startAngle");e.setExtent(n,n+(e.inverse?-360:360))}t.axis=e,e.model=t}function _y(e,t,n){t[1]>t[0]&&(t=t.slice().reverse());var i=e.coordToPoint([t[0],n]),o=e.coordToPoint([t[1],n]);return{x1:i[0],y1:i[1],x2:o[0],y2:o[1]}}function Zc(e){return e.getRadiusAxis().inverse?0:1}function bD(e,t,n){return{position:[e.cx,e.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}function SD(e,t,n,i,o){var a=t.axis,r=a.dataToCoord(e),s=i.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l,u,h,c=i.getRadiusAxis().getExtent();if(a.dim==="radius"){var d=Ct();ci(d,d,s),Vt(d,d,[i.cx,i.cy]),l=Ut([r,-o],d);var f=t.getModel("axisLabel").get("rotate")||0,p=$e.innerTextLayout(s,f*Math.PI/180,-1);u=p.textAlign,h=p.textVerticalAlign}else{var g=c[1];l=i.coordToPoint([g+o,r]);var m=i.cx,v=i.cy;u=Math.abs(l[0]-m)/g<.3?"center":l[0]>m?"left":"right",h=Math.abs(l[1]-v)/g<.3?"middle":l[1]>v?"top":"bottom"}return{position:l,align:u,verticalAlign:h}}function Uc(e,t){t.update="updateView",se(t,function(n,i){var o={};return i.eachComponent({mainType:"geo",query:n},function(a){a[e](n.name),b(a.coordinateSystem.regions,function(r){o[r.name]=a.isSelected(r.name)||!1})}),{selected:o,name:n.name}})}function MD(e){var t={};b(e,function(n){t[n]=1}),e.length=0,b(t,function(n,i){e.push(i)})}function wy(e){if(e){for(var t in e)if(e.hasOwnProperty(t))return!0}}function jc(e,t,n){function i(){var a=function(){};return a.prototype.__hidden=a.prototype,new a}var o={};return Z_(t,function(a){var r=o[a]=i();Z_(e[a],function(s,l){if(ce.isValidType(l)){var u={type:l,visual:s};n&&n(u,a),r[l]=new ce(u),l==="opacity"&&((u=Z(u)).type="colorAlpha",r.__hidden.__alphaForOpacity=new ce(u))}})}),o}function by(e,t,n){var i;b(n,function(o){t.hasOwnProperty(o)&&wy(t[o])&&(i=!0)}),i&&b(n,function(o){t.hasOwnProperty(o)&&wy(t[o])?e[o]=Z(t[o]):delete e[o]})}function ID(e,t,n,i,o,a){function r(c){return n.getItemVisual(h,c)}function s(c,d){n.setItemVisual(h,c,d)}function l(c,d){h=a==null?c:d;var f=n.getRawDataItem(h);if(!f||f.visualMap!==!1)for(var p=i.call(o,c),g=t[p],m=u[p],v=0,y=m.length;v<y;v++){var x=m[v];g[x]&&g[x].applyVisual(c,r,s)}}var u={};b(e,function(c){var d=ce.prepareVisualTypes(t[c]);u[c]=d});var h;a==null?n.each(l):n.each([a],l)}function DD(e,t,n,i){var o={};return b(e,function(a){var r=ce.prepareVisualTypes(t[a]);o[a]=r}),{progress:function(a,r){i!=null&&(i=r.getDimension(i));for(var s=a.start;s<a.end;s++){var l=r.getRawDataItem(s);if(l&&l.visualMap===!1)return;for(var u=i!=null?r.get(i,s,!0):s,h=n(u),c=t[h],d=o[h],f=0,p=d.length;f<p;f++){var g=d[f];c[g]&&c[g].applyVisual(u,function(m){return r.getItemVisual(s,m)},function(m,v){r.setItemVisual(s,m,v)})}}}}}function Sy(e){var t=["x","y"],n=["width","height"];return{point:function(i,o,a){if(i){var r=a.range;return Fa(i[e],r)}},rect:function(i,o,a){if(i){var r=a.range,s=[i[t[e]],i[t[e]]+i[n[e]]];return s[1]<s[0]&&s.reverse(),Fa(s[0],r)||Fa(s[1],r)||Fa(r[0],s)||Fa(r[1],s)}}}}function Fa(e,t){return t[0]<=e&&e<=t[1]}function As(e,t,n,i,o){for(var a=0,r=o[o.length-1];a<o.length;a++){var s=o[a];if(AD(e,t,n,i,s[0],s[1],r[0],r[1]))return!0;r=s}}function AD(e,t,n,i,o,a,r,s){var l=Xc(n-e,o-r,i-t,a-s);if(TD(l))return!1;var u=Xc(o-e,o-r,a-t,a-s)/l;if(u<0||u>1)return!1;var h=Xc(n-e,o-e,i-t,a-t)/l;return!(h<0||h>1)}function TD(e){return e<=1e-6&&e>=-1e-6}function Xc(e,t,n,i){return e*i-t*n}function Ts(e,t,n){var i=this._targetInfoList=[],o={},a=My(t,e);ri(Ik,function(r,s){(!n||!n.include||tu(n.include,s)>=0)&&r(a,i,o)})}function qc(e){return e[0]>e[1]&&e.reverse(),e}function My(e,t){return Gr(e,t,{includeMainTypes:Mk})}function Iy(e,t,n,i){var o=n.getAxis(["x","y"][e]),a=qc(P([0,1],function(s){return t?o.coordToData(o.toLocalCoord(i[s])):o.toGlobalCoord(o.dataToCoord(i[s]))})),r=[];return r[e]=a,r[1-e]=[NaN,NaN],{values:a,xyMinMax:r}}function Dy(e,t,n,i){return[t[0]-i[e]*n[0],t[1]-i[e]*n[1]]}function CD(e,t){var n=Ay(e),i=Ay(t),o=[n[0]/i[0],n[1]/i[1]];return isNaN(o[0])&&(o[0]=1),isNaN(o[1])&&(o[1]=1),o}function Ay(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}function LD(e,t,n,i,o){if(o){var a=e.getZr();a[Uf]||(a[Zf]||(a[Zf]=kD),Sa(a,Zf,n,t)(e,i))}}function kD(e,t){if(!e.isDisposed()){var n=e.getZr();n[Uf]=!0,e.dispatchAction({type:"brushSelect",batch:t}),n[Uf]=!1}}function Ty(e,t,n,i){for(var o=0,a=t.length;o<a;o++){var r=t[o];if(e[r.brushType](i,n,r.selectors,r))return!0}}function Cy(e){var t=e.brushSelector;if(xe(t)){var n=[];return b(Wf,function(o,a){n[a]=function(r,s,l,u){var h=s.getItemLayout(r);return o[t](h,l,u)}}),n}if(At(t)){var i={};return b(Wf,function(o,a){i[a]=t}),i}return t}function PD(e,t){var n=e.option.seriesIndex;return n!=null&&n!=="all"&&(O(n)?ne(n,t)<0:t!==n)}function OD(e){var t=e.selectors={};return b(Wf[e.brushType],function(n,i){t[i]=function(o){return n(o,t,e)}}),e}function Ly(e){return new Q(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}function ky(e,t){return q({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new re(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick,z:e.z},t,!0)}function Yc(e,t,n,i){(!i||i.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(n)).enableBrush(e.brushOption).updateCovers(e.areas.slice())}function To(e,t){$_[e]=t}function Py(e){return $_[e]}function $c(e,t,n){this.model=e,this.ecModel=t,this.api=n,this._brushType,this._brushMode}function Sn(e,t,n){this._model=e}function Oy(e,t,n,i){var o=n.calendarModel,a=n.seriesModel,r=o?o.coordinateSystem:a?a.coordinateSystem:null;return r===this?r[e](i):null}function Ny(e,t){var n=e.cellSize;O(n)?n.length===1&&(n[1]=n[0]):n=e.cellSize=[n,n];var i=P([0,1],function(o){return Kb(t,o)&&(n[o]="auto"),n[o]!=null&&n[o]!=="auto"});Vn(e,t,{type:"box",ignoreSize:i})}function ND(e){return ne(kk,e)>=0}function ED(e,t,n){function i(r,s){return ne(s.nodes,r)>=0}function o(r,s){var l=!1;return t(function(u){b(n(r,u)||[],function(h){s.records[u.name][h]&&(l=!0)})}),l}function a(r,s){s.nodes.push(r),t(function(l){b(n(r,l)||[],function(u){s.records[l.name][u]=!0})})}return function(r){var s={nodes:[],records:{}};if(t(function(u){s.records[u.name]={}}),!r)return s;a(r,s);var l;do l=!1,e(function(u){!i(u,s)&&o(u,s)&&(a(u,s),l=!0)});while(l);return s}}function zD(e,t,n){var i=[1/0,-1/0];return si(n,function(o){var a=o.getData();a&&si(a.mapDimension(t,!0),function(r){var s=a.getApproximateExtent(r);s[0]<i[0]&&(i[0]=s[0]),s[1]>i[1]&&(i[1]=s[1])})}),i[1]<i[0]&&(i=[NaN,NaN]),RD(e,i),i}function RD(e,t){var n=e.getAxisModel(),i=n.getMin(!0),o=n.get("type")==="category",a=o&&n.getCategories().length;i!=null&&i!=="dataMin"&&typeof i!="function"?t[0]=i:o&&(t[0]=a>0?0:NaN);var r=n.getMax(!0);return r!=null&&r!=="dataMax"&&typeof r!="function"?t[1]=r:o&&(t[1]=a>0?a-1:NaN),n.get("scale",!0)||(t[0]>0&&(t[0]=0),t[1]<0&&(t[1]=0)),t}function Ey(e,t){var n=e.getAxisModel(),i=e._percentWindow,o=e._valueWindow;if(i){var a=nh(o,[0,500]);a=Math.min(a,20);var r=t||i[0]===0&&i[1]===100;n.setRange(r?null:+o[0].toFixed(a),r?null:+o[1].toFixed(a))}}function BD(e){var t=e._minMaxSpan={},n=e._dataZoomModel;si(["min","max"],function(i){t[i+"Span"]=n.get(i+"Span");var o=n.get(i+"ValueSpan");if(o!=null&&(t[i+"ValueSpan"]=o,(o=e.getAxisModel().axis.scale.parse(o))!=null)){var a=e._dataExtent;t[i+"Span"]=Ie(a[0]+o,a,[0,100],!0)}})}function zy(e){var t={};return ia(["start","end","startValue","endValue","throttle"],function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}function Ry(e,t){var n=e._rangePropMode,i=e.get("rangeMode");ia([["start","startValue"],["end","endValue"]],function(o,a){var r=t[o[0]]!=null,s=t[o[1]]!=null;r&&!s?n[a]="percent":!r&&s?n[a]="value":i?n[a]=i[a]:r&&(n[a]="percent")})}function VD(e){return{x:"y",y:"x",radius:"angle",angle:"radius"}[e]}function By(e){return e==="vertical"?"ns-resize":"ew-resize"}function GD(e,t){var n=Gy(e),i=t.dataZoomId,o=t.coordId;b(n,function(s,l){var u=s.dataZoomInfos;u[i]&&ne(t.allCoordIds,o)<0&&(delete u[i],s.count--)}),Wy(n);var a=n[o];a||((a=n[o]={coordId:o,dataZoomInfos:{},count:0}).controller=HD(e,a),a.dispatchAction=j(jD,e)),!a.dataZoomInfos[i]&&a.count++,a.dataZoomInfos[i]=t;var r=XD(a.dataZoomInfos);a.controller.enable(r.controlType,r.opt),a.controller.setPointerChecker(t.containsPoint),Sa(a,"dispatchAction",t.throttleRate,"fixRate")}function WD(e,t){var n=Gy(e);b(n,function(i){i.controller.dispose();var o=i.dataZoomInfos;o[t]&&(delete o[t],i.count--)}),Wy(n)}function FD(e,t){if(e&&e.type==="dataZoom"&&e.batch){for(var n=0,i=e.batch.length;n<i;n++)if(e.batch[n].dataZoomId===t)return!1}return!0}function Vy(e){return e.type+"\0_"+e.id}function Gy(e){var t=e.getZr();return t[tw]||(t[tw]={})}function HD(e,t){var n=new Oa(e.getZr());return n.on("pan",ew(ZD,t)),n.on("zoom",ew(UD,t)),n}function Wy(e){b(e,function(t,n){t.count||(t.controller.dispose(),delete e[n])})}function ZD(e,t,n,i,o,a,r){Fy(e,function(s){return s.panGetRange(e.controller,t,n,i,o,a,r)})}function UD(e,t,n,i){Fy(e,function(o){return o.zoomGetRange(e.controller,t,n,i)})}function Fy(e,t){var n=[];b(e.dataZoomInfos,function(i){var o=t(i);!i.disabled&&o&&n.push({dataZoomId:i.dataZoomId,start:o[0],end:o[1]})}),e.dispatchAction(n)}function jD(e,t){e.dispatchAction({type:"dataZoom",batch:t})}function XD(e){var t,n={},i={type_true:2,type_move:1,type_false:0,type_undefined:-1};return b(e,function(o){var a=!o.disabled&&(!o.zoomLock||"move");i["type_"+a]>i["type_"+t]&&(t=a),G(n,o.roamControllerOpt)}),{controlType:t,opt:n}}function Co(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}function qD(e,t,n,i){for(var o=t.targetVisuals[i],a=ce.prepareVisualTypes(o),r={color:e.getData().getVisual("color")},s=0,l=a.length;s<l;s++){var u=a[s],h=o[u==="opacity"?"__alphaForOpacity":u];h&&h.applyVisual(n,function(c){return r[c]},function(c,d){r[c]=d})}return r.color}function Hy(e,t,n){if(n[0]===n[1])return n.slice();for(var i=(n[1]-n[0])/200,o=n[0],a=[],r=0;r<=200&&o<n[1];r++)a.push(o),o+=i;return a.push(n[1]),a}function Zy(e,t,n){var i=e.option,o=i.align;if(o!=null&&o!=="auto")return o;for(var a={width:t.getWidth(),height:t.getHeight()},r=i.orient==="horizontal"?1:0,s=[["left","right","width"],["top","bottom","height"]],l=s[r],u=[0,null,10],h={},c=0;c<3;c++)h[s[1-r][c]]=u[c],h[l[c]]=c===2?n[0]:i[l[c]];var d=[["x","width",3],["y","height",0]][r],f=Pe(h,a,i.padding);return l[(f.margin[d[2]]||0)+f[d[0]]+.5*f[d[1]]<.5*a[d[1]]?0:1]}function Cs(e){return b(e||[],function(t){e.dataIndex!=null&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null)}),e}function Ls(e,t,n,i){return new St({shape:{points:e},draggable:!!n,cursor:t,drift:n,onmousemove:function(o){Zn(o.event)},ondragend:i})}function YD(e,t){return e===0?[[0,0],[t,0],[t,-t]]:[[0,0],[t,0],[t,t]]}function $D(e,t,n,i){return e?[[0,-ru(t,br(n,0))],[dw,0],[0,ru(t,br(i-n,0))]]:[[0,0],[5,-5],[5,5]]}function KD(e,t,n){var i=Gk/2,o=e.get("hoverLinkDataSize");return o&&(i=Ln(o,t,n,!0)/2),i}function Uy(e){var t=e.get("hoverLinkOnHandle");return!!(t==null?e.get("realtime"):t)}function jy(e){return e==="vertical"?"ns-resize":"ew-resize"}function Xy(e,t){var n=e.inverse;(e.orient==="vertical"?!n:n)&&t.reverse()}function ks(e){pi(e,"label",["show"])}function JD(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}function QD(e){return!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}function Kc(e,t,n,i,o,a){var r=[],s=_i(t,i,n)?t.getCalculationInfo("stackResultDimension"):i,l=Jc(t,s,e),u=t.indicesOfNearest(s,l)[0];r[o]=t.get(n,u),r[a]=t.get(i,u);var h=Vg(t.get(i,u));return(h=Math.min(h,20))>=0&&(r[a]=+r[a].toFixed(h)),r}function Ha(e,t){var n=e.getData(),i=e.coordinateSystem;if(t&&!QD(t)&&!O(t.coord)&&i){var o=i.dimensions,a=qy(t,n,i,e);if((t=Z(t)).type&&ip[t.type]&&a.baseAxis&&a.valueAxis){var r=pw(o,a.baseAxis.dim),s=pw(o,a.valueAxis.dim);t.coord=ip[t.type](n,a.baseDataDim,a.valueDataDim,r,s),t.value=t.coord[s]}else{for(var l=[t.xAxis!=null?t.xAxis:t.radiusAxis,t.yAxis!=null?t.yAxis:t.angleAxis],u=0;u<2;u++)ip[l[u]]&&(l[u]=Jc(n,n.mapDimension(o[u]),l[u]));t.coord=l}}return t}function qy(e,t,n,i){var o={};return e.valueIndex!=null||e.valueDim!=null?(o.valueDataDim=e.valueIndex!=null?t.getDimension(e.valueIndex):e.valueDim,o.valueAxis=n.getAxis(eA(i,o.valueDataDim)),o.baseAxis=n.getOtherAxis(o.valueAxis),o.baseDataDim=t.mapDimension(o.baseAxis.dim)):(o.baseAxis=i.getBaseAxis(),o.valueAxis=n.getOtherAxis(o.baseAxis),o.baseDataDim=t.mapDimension(o.baseAxis.dim),o.valueDataDim=t.mapDimension(o.valueAxis.dim)),o}function eA(e,t){var n=e.getData(),i=n.dimensions;t=n.getDimension(t);for(var o=0;o<i.length;o++){var a=n.getDimensionInfo(i[o]);if(a.name===t)return a.coordDim}}function Za(e,t){return!(e&&e.containData&&t.coord&&!JD(t))||e.containData(t.coord)}function Yy(e,t,n,i){return i<2?e.coord&&e.coord[i]:e.value}function Jc(e,t,n){if(n==="average"){var i=0,o=0;return e.each(t,function(a,r){isNaN(a)||(i+=a,o++)}),i/o}return e.getDataExtent(t,!0)[n==="max"?1:0]}function $y(e,t,n){var i=t.coordinateSystem;e.each(function(o){var a,r=e.getItemModel(o),s=E(r.get("x"),n.getWidth()),l=E(r.get("y"),n.getHeight());if(isNaN(s)||isNaN(l)){if(t.getMarkerPosition)a=t.getMarkerPosition(e.getValues(e.dimensions,o));else if(i){var u=e.get(i.dimensions[0],o),h=e.get(i.dimensions[1],o);a=i.dataToPoint([u,h])}}else a=[s,l];isNaN(s)||(a[0]=s),isNaN(l)||(a[1]=l),e.setItemLayout(o,a)})}function tA(e,t,n){var i;i=e?P(e&&e.dimensions,function(r){return W({name:r},t.getData().getDimensionInfo(t.getData().mapDimension(r))||{})}):[{name:"value",type:"float"}];var o=new Ee(i,n),a=P(n.get("data"),j(Ha,t));return e&&(a=ke(a,j(Za,e))),o.initData(a,null,e?Yy:function(r){return r.value}),o}function Ps(e){return!isNaN(e)&&!isFinite(e)}function Ky(e,t,n,i){var o=1-e,a=i.dimensions[e];return Ps(t[o])&&Ps(n[o])&&t[e]===n[e]&&i.getAxis(a).containData(t[e])}function nA(e,t){if(e.type==="cartesian2d"){var n=t[0].coord,i=t[1].coord;if(n&&i&&(Ky(1,n,i,e)||Ky(0,n,i,e)))return!0}return Za(e,t[0])&&Za(e,t[1])}function Qc(e,t,n,i,o){var a,r=i.coordinateSystem,s=e.getItemModel(t),l=E(s.get("x"),o.getWidth()),u=E(s.get("y"),o.getHeight());if(isNaN(l)||isNaN(u)){if(i.getMarkerPosition)a=i.getMarkerPosition(e.getValues(e.dimensions,t));else{var h=r.dimensions,c=e.get(h[0],t),d=e.get(h[1],t);a=r.dataToPoint([c,d])}if(r.type==="cartesian2d"){var f=r.getAxis("x"),p=r.getAxis("y"),h=r.dimensions;Ps(e.get(h[0],t))?a[0]=f.toGlobalCoord(f.getExtent()[n?0:1]):Ps(e.get(h[1],t))&&(a[1]=p.toGlobalCoord(p.getExtent()[n?0:1]))}isNaN(l)||(a[0]=l),isNaN(u)||(a[1]=u)}else a=[l,u];e.setItemLayout(t,a)}function iA(e,t,n){var i;i=e?P(e&&e.dimensions,function(u){return W({name:u},t.getData().getDimensionInfo(t.getData().mapDimension(u))||{})}):[{name:"value",type:"float"}];var o=new Ee(i,n),a=new Ee(i,n),r=new Ee([],n),s=P(n.get("data"),j(Zk,t,e,n));e&&(s=ke(s,j(nA,e)));var l=e?Yy:function(u){return u.value};return o.initData(P(s,function(u){return u[0]}),null,l),a.initData(P(s,function(u){return u[1]}),null,l),r.initData(P(s,function(u){return u[2]})),r.hasItemOption=!0,{from:o,to:a,line:r}}function Os(e){return!isNaN(e)&&!isFinite(e)}function Jy(e,t,n,i){var o=1-e;return Os(t[o])&&Os(n[o])}function oA(e,t){var n=t.coord[0],i=t.coord[1];return!(e.type!=="cartesian2d"||!n||!i||!Jy(1,n,i,e)&&!Jy(0,n,i,e))||Za(e,{coord:n,x:t.x0,y:t.y0})||Za(e,{coord:i,x:t.x1,y:t.y1})}function Qy(e,t,n,i,o){var a,r=i.coordinateSystem,s=e.getItemModel(t),l=E(s.get(n[0]),o.getWidth()),u=E(s.get(n[1]),o.getHeight());if(isNaN(l)||isNaN(u)){if(i.getMarkerPosition)a=i.getMarkerPosition(e.getValues(n,t));else{var h=[f=e.get(n[0],t),p=e.get(n[1],t)];r.clampData&&r.clampData(h,h),a=r.dataToPoint(h,!0)}if(r.type==="cartesian2d"){var c=r.getAxis("x"),d=r.getAxis("y"),f=e.get(n[0],t),p=e.get(n[1],t);Os(f)?a[0]=c.toGlobalCoord(c.getExtent()[n[0]==="x0"?0:1]):Os(p)&&(a[1]=d.toGlobalCoord(d.getExtent()[n[1]==="y0"?0:1]))}isNaN(l)||(a[0]=l),isNaN(u)||(a[1]=u)}else a=[l,u];return a}function aA(e,t,n){var i,o,a=["x0","y0","x1","y1"];e?(i=P(e&&e.dimensions,function(l){var u=t.getData();return W({name:l},u.getDimensionInfo(u.mapDimension(l))||{})}),o=new Ee(P(a,function(l,u){return{name:l,type:i[u%2].type}}),n)):o=new Ee(i=[{name:"value",type:"float"}],n);var r=P(n.get("data"),j(Uk,t,e,n));e&&(r=ke(r,j(oA,e)));var s=e?function(l,u,h,c){return l.coord[Math.floor(c/2)][c%2]}:function(l){return l.value};return o.initData(r,null,s),o.hasItemOption=!0,o}function rA(e){var t=e.type,n={number:"value",time:"time"};if(n[t]&&(e.axisType=n[t],delete e.type),e1(e),Ai(e,"controlPosition")){var i=e.controlStyle||(e.controlStyle={});Ai(i,"position")||(i.position=e.controlPosition),i.position!=="none"||Ai(i,"show")||(i.show=!1,delete i.position),delete e.controlPosition}b(e.data||[],function(o){Y(o)&&!O(o)&&(!Ai(o,"value")&&Ai(o,"name")&&(o.value=o.name),e1(o))})}function e1(e){var t=e.itemStyle||(e.itemStyle={}),n=t.emphasis||(t.emphasis={}),i=e.label||e.label||{},o=i.normal||(i.normal={}),a={normal:1,emphasis:1};b(i,function(r,s){a[s]||Ai(o,s)||(o[s]=r)}),n.label&&!Ai(i,"emphasis")&&(i.emphasis=n.label,delete n.label)}function Ai(e,t){return e.hasOwnProperty(t)}function sA(e,t){return Pe(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},e.get("padding"))}function lA(e,t,n,i){return ya(e.get(t).replace(/^path:\/\//,""),Z(i||{}),new Q(n[0],n[1],n[2],n[3]),"center")}function t1(e,t,n,i,o,a){var r=t.get("color");o?(o.setColor(r),n.add(o),a&&a.onUpdate(o)):((o=ht(e.get("symbol"),-1,-1,2,2,r)).setStyle("strokeNoScale",!0),n.add(o),a&&a.onCreate(o));var s=t.getItemStyle(["color","symbol","symbolSize"]);o.setStyle(s),i=q({rectHover:!0,z2:100},i,!0);var l=e.get("symbolSize");(l=l instanceof Array?l.slice():[+l,+l])[0]/=2,l[1]/=2,i.scale=l;var u=e.get("symbolOffset");if(u){var h=i.position=i.position||[0,0];h[0]+=E(u[0],l[0]),h[1]+=E(u[1],l[1])}var c=e.get("symbolRotate");return i.rotation=(c||0)*Math.PI/180||0,o.attr(i),o.updateTransform(),o}function n1(e,t,n,i,o){if(!e.dragging){var a=i.getModel("checkpointStyle"),r=n.dataToCoord(i.getData().get(["value"],t));o||!a.get("animation",!0)?e.attr({position:[r,0]}):(e.stopAnimation(!0),e.animateTo({position:[r,0]},a.get("animationDuration",!0),a.get("animationEasing",!0)))}}function uA(e){return e.indexOf("my")===0}function Ns(e){this.model=e}function ed(e){this.model=e}function hA(e){var t={},n=[],i=[];return e.eachRawSeries(function(o){var a=o.coordinateSystem;if(!a||a.type!=="cartesian2d"&&a.type!=="polar")n.push(o);else{var r=a.getBaseAxis();if(r.type==="category"){var s=r.dim+"_"+r.index;t[s]||(t[s]={categoryAxis:r,valueAxis:a.getOtherAxis(r),series:[]},i.push({axisDim:r.dim,axisIndex:r.index})),t[s].series.push(o)}else n.push(o)}}),{seriesGroupByCategoryAxis:t,other:n,meta:i}}function cA(e){var t=[];return b(e,function(n,i){var o=n.categoryAxis,a=n.valueAxis.dim,r=[" "].concat(P(n.series,function(d){return d.name})),s=[o.model.getCategories()];b(n.series,function(d){s.push(d.getRawData().mapArray(a,function(f){return f}))});for(var l=[r.join(Qi)],u=0;u<s[0].length;u++){for(var h=[],c=0;c<s.length;c++)h.push(s[c][u]);l.push(h.join(Qi))}t.push(l.join(`
`))}),t.join(`

`+uu+`

`)}function dA(e){return P(e,function(t){var n=t.getRawData(),i=[t.name],o=[];return n.each(n.dimensions,function(){for(var a=arguments.length,r=arguments[a-1],s=n.getName(r),l=0;l<a-1;l++)o[l]=arguments[l];i.push((s?s+Qi:"")+o.join(Qi))}),i.join(`
`)}).join(`

`+uu+`

`)}function fA(e){var t=hA(e);return{value:ke([cA(t.seriesGroupByCategoryAxis),dA(t.other)],function(n){return n.replace(/[\n\t\s]/g,"")}).join(`

`+uu+`

`),meta:t.meta}}function Es(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function pA(e){if(e.slice(0,e.indexOf(`
`)).indexOf(Qi)>=0)return!0}function gA(e){for(var t=e.split(/\n+/g),n=[],i=P(Es(t.shift()).split(sp),function(s){return{name:s,data:[]}}),o=0;o<t.length;o++){var a=Es(t[o]).split(sp);n.push(a.shift());for(var r=0;r<a.length;r++)i[r]&&(i[r].data[o]=a[r])}return{series:i,categories:n}}function mA(e){for(var t=e.split(/\n+/g),n=Es(t.shift()),i=[],o=0;o<t.length;o++){var a,r=Es(t[o]).split(sp),s="",l=!1;isNaN(r[0])?(l=!0,s=r[0],r=r.slice(1),i[o]={name:s,value:[]},a=i[o].value):a=i[o]=[];for(var u=0;u<r.length;u++)a.push(+r[u]);a.length===1&&(l?i[o].value=a[0]:i[o]=a[0])}return{name:n,data:i}}function vA(e,t){var n={series:[]};return b(e.split(new RegExp(`
*`+uu+`
*`,"g")),function(i,o){if(pA(i)){var a=gA(i),r=t[o],s=r.axisDim+"Axis";r&&(n[s]=n[s]||[],n[s][r.axisIndex]={data:a.categories},n.series=n.series.concat(a.series))}else a=mA(i),n.series.push(a)}),n}function Ua(e){this._dom=null,this.model=e}function yA(e,t){return P(e,function(n,i){var o=t&&t[i];return Y(o)&&!O(o)?(Y(n)&&!O(n)&&(n=n.value),W({value:n},o)):n})}function xA(e,t){var n=td(e);ww(t,function(i,o){for(var a=n.length-1;a>=0&&!n[a][o];a--);if(a<0){var r=e.queryComponents({mainType:"dataZoom",subType:"select",id:o})[0];if(r){var s=r.getPercentRange();n[0][o]={dataZoomId:o,start:s[0],end:s[1]}}}}),n.push(t)}function _A(e){var t=td(e),n=t[t.length-1];t.length>1&&t.pop();var i={};return ww(n,function(o,a){for(var r=t.length-1;r>=0;r--)if(o=t[r][a]){i[a]=o;break}}),i}function wA(e){e[lp]=null}function bA(e){return td(e).length}function td(e){var t=e[lp];return t||(t=e[lp]=[{}]),t}function nd(e,t,n){(this._brushController=new Mo(n.getZr())).on("brush",U(this._onBrush,this)).mount(),this._isZoomActive}function i1(e){var t={};return b(["xAxisIndex","yAxisIndex"],function(n){t[n]=e[n],t[n]==null&&(t[n]="all"),(t[n]===!1||t[n]==="none")&&(t[n]=[])}),t}function SA(e,t){e.setIconStatus("back",bA(t)>1?"emphasis":"normal")}function MA(e,t,n,i,o){var a=n._isZoomActive;i&&i.type==="takeGlobalCursor"&&(a=i.key==="dataZoomSelect"&&i.dataZoomSelectActive),n._isZoomActive=a,e.setIconStatus("zoom",a?"emphasis":"normal");var r=new Ts(i1(e.option),t,{include:["grid"]});n._brushController.setPanels(r.makePanelOpts(o,function(s){return s.xAxisDeclared&&!s.yAxisDeclared?"lineX":!s.xAxisDeclared&&s.yAxisDeclared?"lineY":"rect"})).enableBrush(!!a&&{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}})}function id(e){this.model=e}function od(e){return up(e)}function IA(){if(!Iw&&gt){Iw=!0;var e=gt.styleSheets;e.length<31?gt.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):e[0].addRule(".zrvml","behavior:url(#default#VML)")}}function Lo(e){return parseInt(e,10)}function zs(e,t){IA(),this.root=e,this.storage=t;var n=document.createElement("div"),i=document.createElement("div");n.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",i.style.cssText="position:absolute;left:0;top:0;",e.appendChild(n),this._vmlRoot=i,this._vmlViewport=n,this.resize();var o=t.delFromStorage,a=t.addToStorage;t.delFromStorage=function(r){o.call(t,r),r&&r.onRemove&&r.onRemove(i)},t.addToStorage=function(r){r.onAdd&&r.onAdd(i),a.call(t,r)},this._firstPaint=!0}function DA(e){return function(){Hn('In IE8.0 VML mode painter not support method "'+e+'"')}}function Ti(e){return document.createElementNS(uP,e)}function Ot(e){return yp(1e4*e)/1e4}function ad(e){return e<Nw&&e>-Nw}function AA(e,t){var n=t?e.textFill:e.fill;return n!=null&&n!==io}function TA(e,t){var n=t?e.textStroke:e.stroke;return n!=null&&n!==io}function rd(e,t){t&&fe(e,"transform","matrix("+hP.call(t,",")+")")}function fe(e,t,n){(!n||n.type!=="linear"&&n.type!=="radial")&&e.setAttribute(t,n)}function CA(e,t,n){e.setAttributeNS("http://www.w3.org/1999/xlink",t,n)}function o1(e,t,n){if(AA(t,n)){var i=n?t.textFill:t.fill;i=i==="transparent"?io:i,e.getAttribute("clip-path")!=="none"&&i===io&&(i="rgba(0, 0, 0, 0.002)"),fe(e,"fill",i),fe(e,"fill-opacity",t.opacity)}else fe(e,"fill",io);if(TA(t,n)){var o=n?t.textStroke:t.stroke;fe(e,"stroke",o=o==="transparent"?io:o),fe(e,"stroke-width",(n?t.textStrokeWidth:t.lineWidth)/(!n&&t.strokeNoScale?t.host.getLineScale():1)),fe(e,"paint-order",n?"stroke":"fill"),fe(e,"stroke-opacity",t.opacity),t.lineDash?(fe(e,"stroke-dasharray",t.lineDash.join(",")),fe(e,"stroke-dashoffset",yp(t.lineDashOffset||0))):fe(e,"stroke-dasharray",""),t.lineCap&&fe(e,"stroke-linecap",t.lineCap),t.lineJoin&&fe(e,"stroke-linejoin",t.lineJoin),t.miterLimit&&fe(e,"stroke-miterlimit",t.miterLimit)}else fe(e,"stroke",io)}function LA(e){for(var t=[],n=e.data,i=e.len(),o=0;o<i;){var a="",r=0;switch(n[o++]){case no.M:a="M",r=2;break;case no.L:a="L",r=2;break;case no.Q:a="Q",r=4;break;case no.C:a="C",r=6;break;case no.A:var s=n[o++],l=n[o++],u=n[o++],h=n[o++],c=n[o++],d=n[o++],f=n[o++],p=n[o++],g=Math.abs(d),m=ad(g-cu)&&!ad(g),v=!1;v=g>=cu||!ad(g)&&(d>-xp&&d<0||d>xp)==!!p;var y=Ot(s+u*Ow(c)),x=Ot(l+h*Pw(c));m&&(d=p?cu-1e-4:1e-4-cu,v=!0,o===9&&t.push("M",y,x));var _=Ot(s+u*Ow(c+d)),w=Ot(l+h*Pw(c+d));t.push("A",Ot(u),Ot(h),yp(f*cP),+v,+p,_,w);break;case no.Z:a="Z";break;case no.R:var _=Ot(n[o++]),w=Ot(n[o++]),S=Ot(n[o++]),M=Ot(n[o++]);t.push("M",_,w,"L",_+S,w,"L",_+S,w+M,"L",_,w+M,"L",_,w)}a&&t.push(a);for(var I=0;I<r;I++)t.push(Ot(n[o++]))}return t.join(" ")}function a1(e){return e==="middle"?"middle":e==="bottom"?"baseline":"hanging"}function r1(){}function kA(e,t,n,i){for(var o=0,a=t.length,r=0,s=0;o<a;o++){var l=t[o];if(l.removed){for(var u=[],h=s;h<s+l.count;h++)u.push(h);l.indices=u,s+=l.count}else{for(var u=[],h=r;h<r+l.count;h++)u.push(h);l.indices=u,r+=l.count,l.added||(s+=l.count)}}return t}function PA(e){return{newPos:e.newPos,components:e.components.slice(0)}}function _e(e,t,n,i,o){this._zrId=e,this._svgRoot=t,this._tagNames=typeof n=="string"?[n]:n,this._markLabel=i,this._domName=o||"_dom",this.nextId=0}function Ci(e,t){_e.call(this,e,t,["linearGradient","radialGradient"],"__gradient_in_use__")}function ja(e,t){_e.call(this,e,t,"clipPath","__clippath_in_use__")}function Wn(e,t){_e.call(this,e,t,["filter"],"__filter_in_use__","_shadowDom")}function s1(e){return e&&(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY||e.textShadowBlur||e.textShadowOffsetX||e.textShadowOffsetY)}function Rs(e){return parseInt(e,10)}function OA(e){return e instanceof ae?Ir:e instanceof Ze?_p:e instanceof te?du:Ir}function l1(e,t){return t&&e&&t.parentNode!==e}function Bs(e,t,n){if(l1(e,t)&&n){var i=n.nextSibling;i?e.insertBefore(t,i):e.appendChild(t)}}function u1(e,t){if(l1(e,t)){var n=e.firstChild;n?e.insertBefore(t,n):e.appendChild(t)}}function h1(e,t){t&&e&&t.parentNode===e&&e.removeChild(t)}function Vs(e){return e.__textSvgEl}function Gs(e){return e.__svgEl}function NA(e){return function(){Hn('In SVG mode painter not support method "'+e+'"')}}var EA=2311,c1=function(){return EA++},zA={},ee=zA=typeof wx!="undefined"?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0}:typeof document=="undefined"&&typeof self!="undefined"?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0}:typeof navigator=="undefined"?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0}:function(e){var t={},n={},i=e.match(/Firefox\/([\d.]+)/),o=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),a=e.match(/Edge\/([\d.]+)/),r=/micromessenger/i.test(e);return i&&(n.firefox=!0,n.version=i[1]),o&&(n.ie=!0,n.version=o[1]),a&&(n.edge=!0,n.version=a[1]),r&&(n.weChat=!0),{browser:n,os:t,node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:typeof SVGRect!="undefined",touchEventsSupported:"ontouchstart"in window&&!n.ie&&!n.edge,pointerEventsSupported:"onpointerdown"in window&&(n.edge||n.ie&&n.version>=11)}}(navigator.userAgent),d1={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},f1={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},Xa=Object.prototype.toString,qa=Array.prototype,RA=qa.forEach,BA=qa.filter,Ya=qa.slice,VA=qa.map,GA=qa.reduce,sd={},ko=function(){return sd.createCanvas()};sd.createCanvas=function(){return document.createElement("canvas")};var Ws,p1="__ec_primitive__";Dr.prototype={constructor:Dr,get:function(e){return this.hasOwnProperty(e)?this[e]:null},set:function(e,t){return this[e]=t},each:function(e,t){t!==void 0&&(e=U(e,t));for(var n in this)this.hasOwnProperty(n)&&e(this[n],n)},removeKey:function(e){delete this[e]}};var WA=(Object.freeze||Object)({$override:ao,clone:Z,merge:q,mergeAll:aa,extend:G,defaults:W,createCanvas:ko,getContext:bp,indexOf:ne,inherits:he,mixin:oe,isArrayLike:hn,each:b,map:P,reduce:ro,filter:ke,find:function(e,t,n){if(e&&t){for(var i=0,o=e.length;i<o;i++)if(t.call(n,e[i],i,e))return e[i]}},bind:U,curry:j,isArray:O,isFunction:At,isString:xe,isObject:Y,isBuiltInObject:gu,isTypedArray:cn,isDom:ra,eqNaN:sa,retrieve:Re,retrieve2:Be,retrieve3:ui,slice:mu,normalizeCssArray:vu,assert:Pn,trim:yu,setAsPrimitive:xu,isPrimitive:so,createHashMap:K,concatArray:_u,noop:We}),g1=typeof Float32Array=="undefined"?Array:Float32Array,FA=ua,HA=bu,Li=ha,Fn=Mp,ZA=(Object.freeze||Object)({create:On,copy:Fe,clone:Tt,set:Sp,add:wu,scaleAndAdd:la,sub:dn,len:ua,length:FA,lenSquare:bu,lengthSquare:HA,mul:function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e},div:function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e},dot:function(e,t){return e[0]*t[0]+e[1]*t[1]},scale:Ar,normalize:lo,distance:ha,dist:Li,distanceSquare:Mp,distSquare:Fn,negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e},lerp:Ip,applyTransform:ge,min:fn,max:pn});Tr.prototype={constructor:Tr,_dragStart:function(e){var t=e.target;t&&t.draggable&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.dispatchToElement(uo(t,e),"dragstart",e.event))},_drag:function(e){var t=this._draggingTarget;if(t){var n=e.offsetX,i=e.offsetY,o=n-this._x,a=i-this._y;this._x=n,this._y=i,t.drift(o,a,e),this.dispatchToElement(uo(t,e),"drag",e.event);var r=this.findHover(n,i,t).target,s=this._dropTarget;this._dropTarget=r,t!==r&&(s&&r!==s&&this.dispatchToElement(uo(s,e),"dragleave",e.event),r&&r!==s&&this.dispatchToElement(uo(r,e),"dragenter",e.event))}},_dragEnd:function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.dispatchToElement(uo(t,e),"dragend",e.event),this._dropTarget&&this.dispatchToElement(uo(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null}};var m1=Array.prototype.slice,Ne=function(){this._$handlers={}};Ne.prototype={constructor:Ne,one:function(e,t,n){var i=this._$handlers;if(!t||!e)return this;i[e]||(i[e]=[]);for(var o=0;o<i[e].length;o++)if(i[e][o].h===t)return this;return i[e].push({h:t,one:!0,ctx:n||this}),this},on:function(e,t,n){var i=this._$handlers;if(!t||!e)return this;i[e]||(i[e]=[]);for(var o=0;o<i[e].length;o++)if(i[e][o].h===t)return this;return i[e].push({h:t,one:!1,ctx:n||this}),this},isSilent:function(e){var t=this._$handlers;return t[e]&&t[e].length},off:function(e,t){var n=this._$handlers;if(!e)return this._$handlers={},this;if(t){if(n[e]){for(var i=[],o=0,a=n[e].length;o<a;o++)n[e][o].h!=t&&i.push(n[e][o]);n[e]=i}n[e]&&n[e].length===0&&delete n[e]}else delete n[e];return this},trigger:function(e){if(this._$handlers[e]){var t=arguments,n=t.length;n>3&&(t=m1.call(t,1));for(var i=this._$handlers[e],o=i.length,a=0;a<o;){switch(n){case 1:i[a].h.call(i[a].ctx);break;case 2:i[a].h.call(i[a].ctx,t[1]);break;case 3:i[a].h.call(i[a].ctx,t[1],t[2]);break;default:i[a].h.apply(i[a].ctx,t)}i[a].one?(i.splice(a,1),o--):a++}}return this},triggerWithContext:function(e){if(this._$handlers[e]){var t=arguments,n=t.length;n>4&&(t=m1.call(t,1,t.length-1));for(var i=t[t.length-1],o=this._$handlers[e],a=o.length,r=0;r<a;){switch(n){case 1:o[r].h.call(i);break;case 2:o[r].h.call(i,t[1]);break;case 3:o[r].h.call(i,t[1],t[2]);break;default:o[r].h.apply(i,t)}o[r].one?(o.splice(r,1),a--):r++}}return this}};var v1="silent";Dp.prototype.dispose=function(){};var UA=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Po=function(e,t,n,i){Ne.call(this),this.storage=e,this.painter=t,this.painterRoot=i,n=n||new Dp,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,Tr.call(this),this.setHandlerProxy(n)};Po.prototype={constructor:Po,setHandlerProxy:function(e){this.proxy&&this.proxy.dispose(),e&&(b(UA,function(t){e.on&&e.on(t,this[t],this)},this),e.handler=this),this.proxy=e},mousemove:function(e){var t=e.zrX,n=e.zrY,i=this._hovered,o=i.target;o&&!o.__zr&&(o=(i=this.findHover(i.x,i.y)).target);var a=this._hovered=this.findHover(t,n),r=a.target,s=this.proxy;s.setCursor&&s.setCursor(r?r.cursor:"default"),o&&r!==o&&this.dispatchToElement(i,"mouseout",e),this.dispatchToElement(a,"mousemove",e),r&&r!==o&&this.dispatchToElement(a,"mouseover",e)},mouseout:function(e){this.dispatchToElement(this._hovered,"mouseout",e);var t,n=e.toElement||e.relatedTarget;do n=n&&n.parentNode;while(n&&n.nodeType!=9&&!(t=n===this.painterRoot));!t&&this.trigger("globalout",{event:e})},resize:function(e){this._hovered={}},dispatch:function(e,t){var n=this[e];n&&n.call(this,t)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)},dispatchToElement:function(e,t,n){var i=(e=e||{}).target;if(!i||!i.silent){for(var o="on"+t,a=zw(t,e,n);i&&(i[o]&&(a.cancelBubble=i[o].call(i,a)),i.trigger(t,a),i=i.parent,!a.cancelBubble););a.cancelBubble||(this.trigger(t,a),this.painter&&this.painter.eachOtherLayer(function(r){typeof r[o]=="function"&&r[o].call(r,a),r.trigger&&r.trigger(t,a)}))}},findHover:function(e,t,n){for(var i=this.storage.getDisplayList(),o={x:e,y:t},a=i.length-1;a>=0;a--){var r;if(i[a]!==n&&!i[a].ignore&&(r=Rw(i[a],e,t))&&(!o.topTarget&&(o.topTarget=i[a]),r!==v1)){o.target=i[a];break}}return o}},b(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){Po.prototype[e]=function(t){var n=this.findHover(t.zrX,t.zrY),i=n.target;if(e==="mousedown")this._downEl=i,this._downPoint=[t.zrX,t.zrY],this._upEl=i;else if(e==="mouseup")this._upEl=i;else if(e==="click"){if(this._downEl!==this._upEl||!this._downPoint||Li(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,e,t)}}),oe(Po,Ne),oe(Po,Tr);var jA=typeof Float32Array=="undefined"?Array:Float32Array,XA=(Object.freeze||Object)({create:Ct,identity:ca,copy:Cr,mul:hi,translate:Vt,rotate:ci,scale:Lr,invert:kr,clone:Ap}),ld=ca,y1=5e-5,Xt=function(e){(e=e||{}).position||(this.position=[0,0]),e.rotation==null&&(this.rotation=0),e.scale||(this.scale=[1,1]),this.origin=this.origin||null},qt=Xt.prototype;qt.transform=null,qt.needLocalTransform=function(){return di(this.rotation)||di(this.position[0])||di(this.position[1])||di(this.scale[0]-1)||di(this.scale[1]-1)},qt.updateTransform=function(){var e=this.parent,t=e&&e.transform,n=this.needLocalTransform(),i=this.transform;n||t?(i=i||Ct(),n?this.getLocalTransform(i):ld(i),t&&(n?hi(i,e.transform,i):Cr(i,e.transform)),this.transform=i,this.invTransform=this.invTransform||Ct(),kr(this.invTransform,i)):i&&ld(i)},qt.getLocalTransform=function(e){return Xt.getLocalTransform(this,e)},qt.setTransform=function(e){var t=this.transform,n=e.dpr||1;t?e.setTransform(n*t[0],n*t[1],n*t[2],n*t[3],n*t[4],n*t[5]):e.setTransform(n,0,0,n,0,0)},qt.restoreTransform=function(e){var t=e.dpr||1;e.setTransform(t,0,0,t,0,0)};var x1=[];qt.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(hi(x1,e.invTransform,t),t=x1);var n=t[0]*t[0]+t[1]*t[1],i=t[2]*t[2]+t[3]*t[3],o=this.position,a=this.scale;di(n-1)&&(n=Math.sqrt(n)),di(i-1)&&(i=Math.sqrt(i)),t[0]<0&&(n=-n),t[3]<0&&(i=-i),o[0]=t[4],o[1]=t[5],a[0]=n,a[1]=i,this.rotation=Math.atan2(-t[1]/i,t[0]/n)}},qt.getGlobalScale=function(){var e=this.transform;if(!e)return[1,1];var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]),n=Math.sqrt(e[2]*e[2]+e[3]*e[3]);return e[0]<0&&(t=-t),e[3]<0&&(n=-n),[t,n]},qt.transformCoordToLocal=function(e,t){var n=[e,t],i=this.invTransform;return i&&ge(n,n,i),n},qt.transformCoordToGlobal=function(e,t){var n=[e,t],i=this.transform;return i&&ge(n,n,i),n},Xt.getLocalTransform=function(e,t){ld(t=t||[]);var n=e.origin,i=e.scale||[1,1],o=e.rotation||0,a=e.position||[0,0];return n&&(t[4]-=n[0],t[5]-=n[1]),Lr(t,t,i),o&&ci(t,t,o),n&&(t[4]+=n[0],t[5]+=n[1]),t[4]+=a[0],t[5]+=a[1],t};var Fs={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return .5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return e===0?0:Math.pow(1024,e-1)},exponentialOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,n=.1;return e===0?0:e===1?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4))},elasticOut:function(e){var t,n=.1;return e===0?0:e===1?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/.4)+1)},elasticInOut:function(e){var t,n=.1;return e===0?0:e===1?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-Fs.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?.5*Fs.bounceIn(2*e):.5*Fs.bounceOut(2*e-1)+.5}};Su.prototype={constructor:Su,step:function(e,t){if(this._initialized||(this._startTime=e+this._delay,this._initialized=!0),this._paused)this._pausedTime+=t;else{var n=(e-this._startTime-this._pausedTime)/this._life;if(!(n<0)){n=Math.min(n,1);var i=this.easing,o=typeof i=="string"?Fs[i]:i,a=typeof o=="function"?o(n):n;return this.fire("frame",a),n==1?this.loop?(this.restart(e),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(e){var t=(e-this._startTime-this._pausedTime)%this._life;this._startTime=e-t+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(e,t){this[e="on"+e]&&this[e](this._target,t)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var _1=function(){this.head=null,this.tail=null,this._len=0},$a=_1.prototype;$a.insert=function(e){var t=new w1(e);return this.insertEntry(t),t},$a.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},$a.remove=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._len--},$a.len=function(){return this._len},$a.clear=function(){this.head=this.tail=null,this._len=0};var w1=function(e){this.value=e,this.next,this.prev},ud=function(e){this._list=new _1,this._map={},this._maxSize=e||10,this._lastRemovedEntry=null},hd=ud.prototype;hd.put=function(e,t){var n=this._list,i=this._map,o=null;if(i[e]==null){var a=n.len(),r=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var s=n.head;n.remove(s),delete i[s.key],o=s.value,this._lastRemovedEntry=s}r?r.value=t:r=new w1(t),r.key=e,n.insertEntry(r),i[e]=r}return o},hd.get=function(e){var t=this._map[e],n=this._list;if(t!=null)return t!==n.tail&&(n.remove(t),n.insertEntry(t)),t.value},hd.clear=function(){this._list.clear(),this._map={}};var b1={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},S1=new ud(20),Hs=null,qA=da,YA=Lp,$A=(Object.freeze||Object)({parse:vt,lift:Tp,toHex:Cp,fastLerp:da,fastMapToColor:qA,lerp:Lp,mapToColor:YA,modifyHSL:fo,modifyAlpha:Or,stringify:gn}),cd=Array.prototype.slice,dd=function(e,t,n,i){this._tracks={},this._target=e,this._loop=t||!1,this._getter=n||Gw,this._setter=i||Ww,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};dd.prototype={when:function(e,t){var n=this._tracks;for(var i in t)if(t.hasOwnProperty(i)){if(!n[i]){n[i]=[];var o=this._getter(this._target,i);if(o==null)continue;e!==0&&n[i].push({time:0,value:Hw(o)})}n[i].push({time:e,value:t[i]})}return this},during:function(e){return this._onframeList.push(e),this},pause:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].pause();this._paused=!0},resume:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var e=this._doneList,t=e.length,n=0;n<t;n++)e[n].call(this)},start:function(e,t){var n,i=this,o=0;for(var a in this._tracks)if(this._tracks.hasOwnProperty(a)){var r=Uw(this,e,function(){--o||i._doneCallback()},this._tracks[a],a,t);r&&(this._clipList.push(r),o++,this.animation&&this.animation.addClip(r),n=r)}if(n){var s=n.onframe;n.onframe=function(l,u){s(l,u);for(var h=0;h<i._onframeList.length;h++)i._onframeList[h](l,u)}}return o||this._doneCallback(),this},stop:function(e){for(var t=this._clipList,n=this.animation,i=0;i<t.length;i++){var o=t[i];e&&o.onframe(this._target,1),n&&n.removeClip(o)}t.length=0},delay:function(e){return this._delay=e,this},done:function(e){return e&&this._doneList.push(e),this},getClips:function(){return this._clipList}};var M1=1;typeof window!="undefined"&&(M1=Math.max(window.devicePixelRatio||1,1));var Zs=M1,KA=function(){},Hn=KA,Us=function(){this.animators=[]};Us.prototype={constructor:Us,animate:function(e,t){var n,i=!1,o=this,a=this.__zr;if(e){var r=e.split("."),s=o;i=r[0]==="shape";for(var l=0,u=r.length;l<u;l++)s&&(s=s[r[l]]);s&&(n=s)}else n=o;if(n){var h=o.animators,c=new dd(n,t);return c.during(function(d){o.dirty(i)}).done(function(){h.splice(ne(h,c),1)}),h.push(c),a&&a.animation.addAnimator(c),c}Hn('Property "'+e+'" is not existed in element '+o.id)},stopAnimation:function(e){for(var t=this.animators,n=t.length,i=0;i<n;i++)t[i].stop(e);return t.length=0,this},animateTo:function(e,t,n,i,o,a){xe(n)?(o=i,i=n,n=0):At(i)?(o=i,i="linear",n=0):At(n)?(o=n,n=0):At(t)?(o=t,t=500):t||(t=500),this.stopAnimation(),this._animateToShallow("",this,e,t,n);var r=this.animators.slice(),s=r.length;s||o&&o();for(var l=0;l<r.length;l++)r[l].done(function(){--s||o&&o()}).start(i,a)},_animateToShallow:function(e,t,n,i,o){var a={},r=0;for(var s in n)if(n.hasOwnProperty(s)){if(t[s]!=null)Y(n[s])&&!hn(n[s])?this._animateToShallow(e?e+"."+s:s,t[s],n[s],i,o):(a[s]=n[s],r++);else if(n[s]!=null)if(e){var l={};l[e]={},l[e][s]=n[s],this.attr(l)}else this.attr(s,n[s])}return r>0&&this.animate(e,!1).when(i==null?500:i,a).delay(o||0),this}};var Mn=function(e){Xt.call(this,e),Ne.call(this,e),Us.call(this,e),this.id=e.id||c1()};Mn.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(e,t){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0}var n=this.transform;n||(n=this.transform=[1,0,0,1,0,0]),n[4]+=e,n[5]+=t,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(e,t){},attrKV:function(e,t){if(e==="position"||e==="scale"||e==="origin"){if(t){var n=this[e];n||(n=this[e]=[]),n[0]=t[0],n[1]=t[1]}}else this[e]=t},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(e,t){if(typeof e=="string")this.attrKV(e,t);else if(Y(e))for(var n in e)e.hasOwnProperty(n)&&this.attrKV(n,e[n]);return this.dirty(!1),this},setClipPath:function(e){var t=this.__zr;t&&e.addSelfToZr(t),this.clipPath&&this.clipPath!==e&&this.removeClipPath(),this.clipPath=e,e.__zr=t,e.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var e=this.clipPath;e&&(e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(e){this.__zr=e;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.addAnimator(t[n]);this.clipPath&&this.clipPath.addSelfToZr(e)},removeSelfFromZr:function(e){this.__zr=null;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.removeAnimator(t[n]);this.clipPath&&this.clipPath.removeSelfFromZr(e)}},oe(Mn,Us),oe(Mn,Xt),oe(Mn,Ne);var js=ge,Xs=Math.min,qs=Math.max;Q.prototype={constructor:Q,union:function(e){var t=Xs(e.x,this.x),n=Xs(e.y,this.y);this.width=qs(e.x+e.width,this.x+this.width)-t,this.height=qs(e.y+e.height,this.y+this.height)-n,this.x=t,this.y=n},applyTransform:function(){var e=[],t=[],n=[],i=[];return function(o){if(o){e[0]=n[0]=this.x,e[1]=i[1]=this.y,t[0]=i[0]=this.x+this.width,t[1]=n[1]=this.y+this.height,js(e,e,o),js(t,t,o),js(n,n,o),js(i,i,o),this.x=Xs(e[0],t[0],n[0],i[0]),this.y=Xs(e[1],t[1],n[1],i[1]);var a=qs(e[0],t[0],n[0],i[0]),r=qs(e[1],t[1],n[1],i[1]);this.width=a-this.x,this.height=r-this.y}}}(),calculateTransform:function(e){var t=this,n=e.width/t.width,i=e.height/t.height,o=Ct();return Vt(o,o,[-t.x,-t.y]),Lr(o,o,[n,i]),Vt(o,o,[e.x,e.y]),o},intersect:function(e){if(!e)return!1;e instanceof Q||(e=Q.create(e));var t=this,n=t.x,i=t.x+t.width,o=t.y,a=t.y+t.height,r=e.x,s=e.x+e.width,l=e.y,u=e.y+e.height;return!(i<r||s<n||a<l||u<o)},contain:function(e,t){var n=this;return e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height},clone:function(){return new Q(this.x,this.y,this.width,this.height)},copy:function(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},Q.create=function(e){return new Q(e.x,e.y,e.width,e.height)};var V=function(e){e=e||{},Mn.call(this,e);for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this._children=[],this.__storage=null,this.__dirty=!0};V.prototype={constructor:V,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},childOfName:function(e){for(var t=this._children,n=0;n<t.length;n++)if(t[n].name===e)return t[n]},childCount:function(){return this._children.length},add:function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},addBefore:function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var n=this._children,i=n.indexOf(t);i>=0&&(n.splice(i,0,e),this._doAdd(e))}return this},_doAdd:function(e){e.parent&&e.parent.remove(e),e.parent=this;var t=this.__storage,n=this.__zr;t&&t!==e.__storage&&(t.addToStorage(e),e instanceof V&&e.addChildrenToStorage(t)),n&&n.refresh()},remove:function(e){var t=this.__zr,n=this.__storage,i=this._children,o=ne(i,e);return o<0?this:(i.splice(o,1),e.parent=null,n&&(n.delFromStorage(e),e instanceof V&&e.delChildrenFromStorage(n)),t&&t.refresh(),this)},removeAll:function(){var e,t,n=this._children,i=this.__storage;for(t=0;t<n.length;t++)e=n[t],i&&(i.delFromStorage(e),e instanceof V&&e.delChildrenFromStorage(i)),e.parent=null;return n.length=0,this},eachChild:function(e,t){for(var n=this._children,i=0;i<n.length;i++){var o=n[i];e.call(t,o,i)}return this},traverse:function(e,t){for(var n=0;n<this._children.length;n++){var i=this._children[n];e.call(t,i),i.type==="group"&&i.traverse(e,t)}return this},addChildrenToStorage:function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.addToStorage(n),n instanceof V&&n.addChildrenToStorage(e)}},delChildrenFromStorage:function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.delFromStorage(n),n instanceof V&&n.delChildrenFromStorage(e)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(e){for(var t=null,n=new Q(0,0,0,0),i=e||this._children,o=[],a=0;a<i.length;a++){var r=i[a];if(!r.ignore&&!r.invisible){var s=r.getBoundingRect(),l=r.getLocalTransform(o);l?(n.copy(s),n.applyTransform(l),(t=t||n.clone()).union(n)):(t=t||s.clone()).union(s)}}return t||n}},he(V,Mn);var I1=32,Ka=7,fd=function(){this._roots=[],this._displayList=[],this._displayListLen=0};fd.prototype={constructor:fd,traverse:function(e,t){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,t)},getDisplayList:function(e,t){return t=t||!1,e&&this.updateDisplayList(t),this._displayList},updateDisplayList:function(e){this._displayListLen=0;for(var t=this._roots,n=this._displayList,i=0,o=t.length;i<o;i++)this._updateAndAddDisplayable(t[i],null,e);n.length=this._displayListLen,ee.canvasSupported&&Nr(n,Bp)},_updateAndAddDisplayable:function(e,t,n){if(!e.ignore||n){e.beforeUpdate(),e.__dirty&&e.update(),e.afterUpdate();var i=e.clipPath;if(i){t=t?t.slice():[];for(var o=i,a=e;o;)o.parent=a,o.updateTransform(),t.push(o),a=o,o=o.clipPath}if(e.isGroup){for(var r=e._children,s=0;s<r.length;s++){var l=r[s];e.__dirty&&(l.__dirty=!0),this._updateAndAddDisplayable(l,t,n)}e.__dirty=!1}else e.__clipPaths=t,this._displayList[this._displayListLen++]=e}},addRoot:function(e){e.__storage!==this&&(e instanceof V&&e.addChildrenToStorage(this),this.addToStorage(e),this._roots.push(e))},delRoot:function(e){if(e==null){for(n=0;n<this._roots.length;n++){var t=this._roots[n];t instanceof V&&t.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(e instanceof Array)for(var n=0,i=e.length;n<i;n++)this.delRoot(e[n]);else{var o=ne(this._roots,e);o>=0&&(this.delFromStorage(e),this._roots.splice(o,1),e instanceof V&&e.delChildrenFromStorage(this))}},addToStorage:function(e){return e&&(e.__storage=this,e.dirty(!1)),this},delFromStorage:function(e){return e&&(e.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:Bp};var JA={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1},D1=function(e,t,n){return JA.hasOwnProperty(t)?n*=e.dpr:n},Ys=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],ki=function(e,t){this.extendFrom(e,!1),this.host=t};ki.prototype={constructor:ki,host:null,fill:"#000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(e,t,n){for(var i=this,o=n&&n.style,a=!o,r=0;r<Ys.length;r++){var s=Ys[r],l=s[0];(a||i[l]!==o[l])&&(e[l]=D1(e,l,i[l]||s[1]))}if((a||i.fill!==o.fill)&&(e.fillStyle=i.fill),(a||i.stroke!==o.stroke)&&(e.strokeStyle=i.stroke),(a||i.opacity!==o.opacity)&&(e.globalAlpha=i.opacity==null?1:i.opacity),(a||i.blend!==o.blend)&&(e.globalCompositeOperation=i.blend||"source-over"),this.hasStroke()){var u=i.lineWidth;e.lineWidth=u/(this.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1)}},hasFill:function(){var e=this.fill;return e!=null&&e!=="none"},hasStroke:function(){var e=this.stroke;return e!=null&&e!=="none"&&this.lineWidth>0},extendFrom:function(e,t){if(e)for(var n in e)!e.hasOwnProperty(n)||t!==!0&&(t===!1?this.hasOwnProperty(n):e[n]==null)||(this[n]=e[n])},set:function(e,t){typeof e=="string"?this[e]=t:this.extendFrom(e,!0)},clone:function(){var e=new this.constructor;return e.extendFrom(this,!0),e},getGradient:function(e,t,n){for(var i=(t.type==="radial"?$w:Yw)(e,t,n),o=t.colorStops,a=0;a<o.length;a++)i.addColorStop(o[a].offset,o[a].color);return i}};for(var pd=ki.prototype,gd=0;gd<Ys.length;gd++){var md=Ys[gd];md[0]in pd||(pd[md[0]]=md[1])}ki.getGradient=pd.getGradient;var vd=function(e,t){this.image=e,this.repeat=t,this.type="pattern"};vd.prototype.getCanvasPattern=function(e){return e.createPattern(this.image,this.repeat||"repeat")};var Ja=function(e,t,n){var i;n=n||Zs,typeof e=="string"?i=Vp(e,t,n):Y(e)&&(e=(i=e).id),this.id=e,this.dom=i;var o=i.style;o&&(i.onselectstart=Kw,o["-webkit-user-select"]="none",o["user-select"]="none",o["-webkit-touch-callout"]="none",o["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",o.padding=0,o.margin=0,o["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=t,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=n};Ja.prototype={constructor:Ja,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var e=this.dpr;this.domBack=Vp("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),e!=1&&this.ctxBack.scale(e,e)},resize:function(e,t){var n=this.dpr,i=this.dom,o=i.style,a=this.domBack;o&&(o.width=e+"px",o.height=t+"px"),i.width=e*n,i.height=t*n,a&&(a.width=e*n,a.height=t*n,n!=1&&this.ctxBack.scale(n,n))},clear:function(e,t){var n=this.dom,i=this.ctx,o=n.width,a=n.height,t=t||this.clearColor,r=this.motionBlur&&!e,s=this.lastFrameAlpha,l=this.dpr;if(r&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(n,0,0,o/l,a/l)),i.clearRect(0,0,o,a),t&&t!=="transparent"){var u;t.colorStops?(u=t.__canvasGradient||ki.getGradient(i,t,{x:0,y:0,width:o,height:a}),t.__canvasGradient=u):t.image&&(u=vd.prototype.getCanvasPattern.call(t,i)),i.save(),i.fillStyle=u||t,i.fillRect(0,0,o,a),i.restore()}if(r){var h=this.domBack;i.save(),i.globalAlpha=s,i.drawImage(h,0,0,o,a),i.restore()}}};var yd=typeof window!="undefined"&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){setTimeout(e,16)},xd=new ud(50),$s={},_d=0,QA=5e3,wd=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,Qa="12px sans-serif",bd={};bd.measureText=function(e,t){var n=bp();return n.font=t||Qa,n.measureText(e)};var eT={left:1,right:1,center:1},tT={top:1,bottom:1,middle:1},Sd=new Q,Ks=function(){};Ks.prototype={constructor:Ks,drawRectText:function(e,t){var n=this.style;t=n.textRect||t,this.__dirty&&ga(n);var i=n.text;if(i!=null&&(i+=""),tg(i,n)){e.save();var o=this.transform;n.transformText?this.setTransform(e):o&&(Sd.copy(t),Sd.applyTransform(o),t=Sd),Yp(this,e,i,n,t),e.restore()}}},tt.prototype={constructor:tt,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,inplace:!1,beforeBrush:function(e){},afterBrush:function(e){},brush:function(e,t){},getBoundingRect:function(){},contain:function(e,t){return this.rectContain(e,t)},traverse:function(e,t){e.call(t,this)},rectContain:function(e,t){var n=this.transformCoordToLocal(e,t);return this.getBoundingRect().contain(n[0],n[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(e){return this.animate("style",e)},attrKV:function(e,t){e!=="style"?Mn.prototype.attrKV.call(this,e,t):this.style.set(t)},setStyle:function(e,t){return this.style.set(e,t),this.dirty(!1),this},useStyle:function(e){return this.style=new ki(e,this),this.dirty(!1),this}},he(tt,Mn),oe(tt,Ks),Ze.prototype={constructor:Ze,type:"image",brush:function(e,t){var n=this.style,i=n.image;n.bind(e,this,t);var o=this._image=Gp(i,this._image,this,this.onload);if(o&&Er(o)){var a=n.x||0,r=n.y||0,s=n.width,l=n.height,u=o.width/o.height;if(s==null&&l!=null?s=l*u:l==null&&s!=null?l=s/u:s==null&&l==null&&(s=o.width,l=o.height),this.setTransform(e),n.sWidth&&n.sHeight){var h=n.sx||0,c=n.sy||0;e.drawImage(o,h,c,n.sWidth,n.sHeight,a,r,s,l)}else if(n.sx&&n.sy){var d=s-(h=n.sx),f=l-(c=n.sy);e.drawImage(o,h,c,d,f,a,r,s,l)}else e.drawImage(o,a,r,s,l);n.text!=null&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))}},getBoundingRect:function(){var e=this.style;return this._rect||(this._rect=new Q(e.x||0,e.y||0,e.width||0,e.height||0)),this._rect}},he(Ze,tt);var Md=new Q(0,0,0,0),Id=new Q(0,0,0,0),Dd=function(e,t,n){this.type="canvas";var i=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=n=G({},n||{}),this.dpr=n.devicePixelRatio||Zs,this._singleCanvas=i,this.root=e;var o=e.style;o&&(o["-webkit-tap-highlight-color"]="transparent",o["-webkit-user-select"]=o["user-select"]=o["-webkit-touch-callout"]="none",e.innerHTML=""),this.storage=t;var a=this._zlevelList=[],r=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,i){var s=e.width,l=e.height;n.width!=null&&(s=n.width),n.height!=null&&(l=n.height),this.dpr=n.devicePixelRatio||1,e.width=s*this.dpr,e.height=l*this.dpr,this._width=s,this._height=l;var u=new Ja(e,this,this.dpr);u.__builtin__=!0,u.initContext(),r[314159]=u,a.push(314159),this._domRoot=e}else{this._width=this._getSize(0),this._height=this._getSize(1);var h=this._domRoot=db(this._width,this._height);e.appendChild(h)}this._hoverlayer=null,this._hoverElements=[]};Dd.prototype={constructor:Dd,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(e){var t=this.storage.getDisplayList(!0),n=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,e,this._redrawId);for(var i=0;i<n.length;i++){var o=n[i],a=this._layers[o];if(!a.__builtin__&&a.refresh){var r=i===0?this._backgroundColor:null;a.refresh(r)}}return this.refreshHover(),this},addHover:function(e,t){if(!e.__hoverMir){var n=new e.constructor({style:e.style,shape:e.shape});n.__from=e,e.__hoverMir=n,n.setStyle(t),this._hoverElements.push(n)}},removeHover:function(e){var t=e.__hoverMir,n=this._hoverElements,i=ne(n,t);i>=0&&n.splice(i,1),e.__hoverMir=null},clearHover:function(e){for(var t=this._hoverElements,n=0;n<t.length;n++){var i=t[n].__from;i&&(i.__hoverMir=null)}t.length=0},refreshHover:function(){var e=this._hoverElements,t=e.length,n=this._hoverlayer;if(n&&n.clear(),t){Nr(e,this.storage.displayableSortFunc),n||(n=this._hoverlayer=this.getLayer(1e5));var i={};n.ctx.save();for(var o=0;o<t;){var a=e[o],r=a.__from;r&&r.__zr?(o++,r.invisible||(a.transform=r.transform,a.invTransform=r.invTransform,a.__clipPaths=r.__clipPaths,this._doPaintEl(a,n,!0,i))):(e.splice(o,1),r.__hoverMir=null,t--)}n.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(e,t,n){if(this._redrawId===n){t=t||!1,this._updateLayerStatus(e);var i=this._doPaintList(e,t);if(this._needsManuallyCompositing&&this._compositeManually(),!i){var o=this;yd(function(){o._paintList(e,t,n)})}}},_compositeManually:function(){var e=this.getLayer(314159).ctx,t=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,t,n),this.eachBuiltinLayer(function(i){i.virtual&&e.drawImage(i.dom,0,0,t,n)})},_doPaintList:function(e,t){for(var n=[],i=0;i<this._zlevelList.length;i++){var o=this._zlevelList[i];(s=this._layers[o]).__builtin__&&s!==this._hoverlayer&&(s.__dirty||t)&&n.push(s)}for(var a=!0,r=0;r<n.length;r++){var s=n[r],l=s.ctx,u={};l.save();var h=t?s.__startIndex:s.__drawIndex,c=!t&&s.incremental&&Date.now,d=c&&Date.now(),f=s.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(s.__startIndex===s.__endIndex)s.clear(!1,f);else if(h===s.__startIndex){var p=e[h];p.incremental&&p.notClear&&!t||s.clear(!1,f)}h===-1&&(console.error("For some unknown reason. drawIndex is -1"),h=s.__startIndex);for(var g=h;g<s.__endIndex;g++){var m=e[g];if(this._doPaintEl(m,s,t,u),m.__dirty=!1,c&&Date.now()-d>15)break}s.__drawIndex=g,s.__drawIndex<s.__endIndex&&(a=!1),u.prevElClipPaths&&l.restore(),l.restore()}return ee.wxa&&b(this._layers,function(v){v&&v.ctx&&v.ctx.draw&&v.ctx.draw()}),a},_doPaintEl:function(e,t,n,i){var o=t.ctx,a=e.transform;if((t.__dirty||n)&&!e.invisible&&e.style.opacity!==0&&(!a||a[0]||a[3])&&(!e.culling||!ub(e,this._width,this._height))){var r=e.__clipPaths;i.prevElClipPaths&&!hb(r,i.prevElClipPaths)||(i.prevElClipPaths&&(t.ctx.restore(),i.prevElClipPaths=null,i.prevEl=null),r&&(o.save(),cb(r,o),i.prevElClipPaths=r)),e.beforeBrush&&e.beforeBrush(o),e.brush(o,i.prevEl||null),i.prevEl=e,e.afterBrush&&e.afterBrush(o)}},getLayer:function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=314159);var n=this._layers[e];return n||((n=new Ja("zr_"+e,this,this.dpr)).zlevel=e,n.__builtin__=!0,this._layerConfig[e]&&q(n,this._layerConfig[e],!0),t&&(n.virtual=t),this.insertLayer(e,n),n.initContext()),n},insertLayer:function(e,t){var n=this._layers,i=this._zlevelList,o=i.length,a=null,r=-1,s=this._domRoot;if(n[e])Hn("ZLevel "+e+" has been used already");else if(lb(t)){if(o>0&&e>i[0]){for(r=0;r<o-1&&!(i[r]<e&&i[r+1]>e);r++);a=n[i[r]]}if(i.splice(r+1,0,e),n[e]=t,!t.virtual)if(a){var l=a.dom;l.nextSibling?s.insertBefore(t.dom,l.nextSibling):s.appendChild(t.dom)}else s.firstChild?s.insertBefore(t.dom,s.firstChild):s.appendChild(t.dom)}else Hn("Layer of zlevel "+e+" is not valid")},eachLayer:function(e,t){var n,i,o=this._zlevelList;for(i=0;i<o.length;i++)n=o[i],e.call(t,this._layers[n],n)},eachBuiltinLayer:function(e,t){var n,i,o,a=this._zlevelList;for(o=0;o<a.length;o++)i=a[o],(n=this._layers[i]).__builtin__&&e.call(t,n,i)},eachOtherLayer:function(e,t){var n,i,o,a=this._zlevelList;for(o=0;o<a.length;o++)i=a[o],(n=this._layers[i]).__builtin__||e.call(t,n,i)},getLayers:function(){return this._layers},_updateLayerStatus:function(e){function t(l){n&&(n.__endIndex!==l&&(n.__dirty=!0),n.__endIndex=l)}if(this.eachBuiltinLayer(function(l,u){l.__dirty=l.__used=!1}),this._singleCanvas){for(o=1;o<e.length;o++)if((r=e[o]).zlevel!==e[o-1].zlevel||r.incremental){this._needsManuallyCompositing=!0;break}}for(var n=null,i=0,o=0;o<e.length;o++){var a,r=e[o],s=r.zlevel;r.incremental?((a=this.getLayer(s+.001,this._needsManuallyCompositing)).incremental=!0,i=1):a=this.getLayer(s+(i>0?.01:0),this._needsManuallyCompositing),a.__builtin__||Hn("ZLevel "+s+" has been used by unkown layer "+a.id),a!==n&&(a.__used=!0,a.__startIndex!==o&&(a.__dirty=!0),a.__startIndex=o,a.incremental?a.__drawIndex=-1:a.__drawIndex=o,t(o),n=a),r.__dirty&&(a.__dirty=!0,a.incremental&&a.__drawIndex<0&&(a.__drawIndex=o))}t(o),this.eachBuiltinLayer(function(l,u){!l.__used&&l.getElementCount()>0&&(l.__dirty=!0,l.__startIndex=l.__endIndex=l.__drawIndex=0),l.__dirty&&l.__drawIndex<0&&(l.__drawIndex=l.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(e){e.clear()},setBackgroundColor:function(e){this._backgroundColor=e},configLayer:function(e,t){if(t){var n=this._layerConfig;n[e]?q(n[e],t,!0):n[e]=t;for(var i=0;i<this._zlevelList.length;i++){var o=this._zlevelList[i];o!==e&&o!==e+.01||q(this._layers[o],n[e],!0)}}},delLayer:function(e){var t=this._layers,n=this._zlevelList,i=t[e];i&&(i.dom.parentNode.removeChild(i.dom),delete t[e],n.splice(ne(n,e),1))},resize:function(e,t){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts;if(e!=null&&(i.width=e),t!=null&&(i.height=t),e=this._getSize(0),t=this._getSize(1),n.style.display="",this._width!=e||t!=this._height){n.style.width=e+"px",n.style.height=t+"px";for(var o in this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(e,t);b(this._progressiveLayers,function(a){a.resize(e,t)}),this.refresh(!0)}this._width=e,this._height=t}else{if(e==null||t==null)return;this._width=e,this._height=t,this.getLayer(314159).resize(e,t)}return this},clearLayer:function(e){var t=this._layers[e];t&&t.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var t=new Ja("image",this,e.pixelRatio||this.dpr);if(t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor),e.pixelRatio<=this.dpr){this.refresh();var n=t.dom.width,i=t.dom.height,o=t.ctx;this.eachLayer(function(u){u.__builtin__?o.drawImage(u.dom,0,0,n,i):u.renderToCanvas&&(t.ctx.save(),u.renderToCanvas(t.ctx),t.ctx.restore())})}else for(var a={},r=this.storage.getDisplayList(!0),s=0;s<r.length;s++){var l=r[s];this._doPaintEl(l,t,!0,a)}return t.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var t=this._opts,n=["width","height"][e],i=["clientWidth","clientHeight"][e],o=["paddingLeft","paddingTop"][e],a=["paddingRight","paddingBottom"][e];if(t[n]!=null&&t[n]!=="auto")return parseFloat(t[n]);var r=this.root,s=document.defaultView.getComputedStyle(r);return(r[i]||zr(s[n])||zr(r.style[n]))-(zr(s[o])||0)-(zr(s[a])||0)|0},pathToImage:function(e,t){t=t||this.dpr;var n=document.createElement("canvas"),i=n.getContext("2d"),o=e.getBoundingRect(),a=e.style,r=a.shadowBlur*t,s=a.shadowOffsetX*t,l=a.shadowOffsetY*t,u=a.hasStroke()?a.lineWidth:0,h=Math.max(u/2,-s+r),c=Math.max(u/2,s+r),d=Math.max(u/2,-l+r),f=Math.max(u/2,l+r),p=o.width+h+c,g=o.height+d+f;n.width=p*t,n.height=g*t,i.scale(t,t),i.clearRect(0,0,p,g),i.dpr=t;var m={position:e.position,rotation:e.rotation,scale:e.scale};e.position=[h-o.x,d-o.y],e.rotation=0,e.scale=[1,1],e.updateTransform(),e&&e.brush(i);var v=new Ze({style:{x:0,y:0,image:n}});return m.position!=null&&(v.position=e.position=m.position),m.rotation!=null&&(v.rotation=e.rotation=m.rotation),m.scale!=null&&(v.scale=e.scale=m.scale),v}};var Ad=typeof window!="undefined"&&!!window.addEventListener,nT=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Zn=Ad?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0},Js=function(e){e=e||{},this.stage=e.stage||{},this.onframe=e.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,Ne.call(this)};Js.prototype={constructor:Js,addClip:function(e){this._clips.push(e)},addAnimator:function(e){e.animation=this;for(var t=e.getClips(),n=0;n<t.length;n++)this.addClip(t[n])},removeClip:function(e){var t=ne(this._clips,e);t>=0&&this._clips.splice(t,1)},removeAnimator:function(e){for(var t=e.getClips(),n=0;n<t.length;n++)this.removeClip(t[n]);e.animation=null},_update:function(){for(var e=new Date().getTime()-this._pausedTime,t=e-this._time,n=this._clips,i=n.length,o=[],a=[],r=0;r<i;r++){var s=n[r],l=s.step(e,t);l&&(o.push(l),a.push(s))}for(r=0;r<i;)n[r]._needsRemove?(n[r]=n[i-1],n.pop(),i--):r++;for(i=o.length,r=0;r<i;r++)a[r].fire(o[r]);this._time=e,this.onframe(t),this.trigger("frame",t),this.stage.update&&this.stage.update()},_startLoop:function(){function e(){t._running&&(yd(e),!t._paused&&t._update())}var t=this;this._running=!0,yd(e)},start:function(){this._time=new Date().getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=new Date().getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=new Date().getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(e,t){var n=new dd(e,(t=t||{}).loop,t.getter,t.setter);return this.addAnimator(n),n}},oe(Js,Ne);var Td=function(){this._track=[]};Td.prototype={constructor:Td,recognize:function(e,t,n){return this._doTrack(e,t,n),this._recognize(e)},clear:function(){return this._track.length=0,this},_doTrack:function(e,t,n){var i=e.touches;if(i){for(var o={points:[],touches:[],target:t,event:e},a=0,r=i.length;a<r;a++){var s=i[a],l=Vu(n,s,{});o.points.push([l.zrX,l.zrY]),o.touches.push(s)}this._track.push(o)}},_recognize:function(e){for(var t in Cd)if(Cd.hasOwnProperty(t)){var n=Cd[t](this._track,e);if(n)return n}}};var Cd={pinch:function(e,t){var n=e.length;if(n){var i=(e[n-1]||{}).points,o=(e[n-2]||{}).points||i;if(o&&o.length>1&&i&&i.length>1){var a=ig(i)/ig(o);!isFinite(a)&&(a=1),t.pinchScale=a;var r=gb(i);return t.pinchX=r[0],t.pinchY=r[1],{type:"pinch",target:e[0].target,event:t}}}}},Qs=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Ld=["touchstart","touchend","touchmove"],iT={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},A1=P(Qs,function(e){var t=e.replace("mouse","pointer");return iT[t]?t:e}),ct={mousemove:function(e){e=fi(this.dom,e),this.trigger("mousemove",e)},mouseout:function(e){var t=(e=fi(this.dom,e)).toElement||e.relatedTarget;if(t!=this.dom)for(;t&&t.nodeType!=9;){if(t===this.dom)return;t=t.parentNode}this.trigger("mouseout",e)},touchstart:function(e){(e=fi(this.dom,e)).zrByTouch=!0,this._lastTouchMoment=new Date,Wu(this,e,"start"),ct.mousemove.call(this,e),ct.mousedown.call(this,e),Fu(this)},touchmove:function(e){(e=fi(this.dom,e)).zrByTouch=!0,Wu(this,e,"change"),ct.mousemove.call(this,e),Fu(this)},touchend:function(e){(e=fi(this.dom,e)).zrByTouch=!0,Wu(this,e,"end"),ct.mouseup.call(this,e),+new Date-this._lastTouchMoment<300&&ct.click.call(this,e),Fu(this)},pointerdown:function(e){ct.mousedown.call(this,e)},pointermove:function(e){ag(e)||ct.mousemove.call(this,e)},pointerup:function(e){ct.mouseup.call(this,e)},pointerout:function(e){ag(e)||ct.mouseout.call(this,e)}};b(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){ct[e]=function(t){t=fi(this.dom,t),this.trigger(e,t)}});var T1=Hu.prototype;T1.dispose=function(){for(var e=Qs.concat(Ld),t=0;t<e.length;t++){var n=e[t];pb(this.dom,og(n),this._handlers[n])}},T1.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},oe(Hu,Ne);var oT=!ee.canvasSupported,el={canvas:Dd},Pi={},kd=function(e,t,n){n=n||{},this.dom=t,this.id=e;var i=this,o=new fd,a=n.renderer;if(oT){if(!el.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");a="vml"}else a&&el[a]||(a="canvas");var r=new el[a](t,o,n,e);this.storage=o,this.painter=r;var s=ee.node||ee.worker?null:new Hu(r.getViewportRoot());this.handler=new Po(o,r,s,r.root),this.animation=new Js({stage:{update:U(this.flush,this)}}),this.animation.start(),this._needsRefresh;var l=o.delFromStorage,u=o.addToStorage;o.delFromStorage=function(h){l.call(o,h),h&&h.removeSelfFromZr(i)},o.addToStorage=function(h){u.call(o,h),h.addSelfToZr(i)}};kd.prototype={constructor:kd,getId:function(){return this.id},add:function(e){this.storage.addRoot(e),this._needsRefresh=!0},remove:function(e){this.storage.delRoot(e),this._needsRefresh=!0},configLayer:function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this._needsRefresh=!0},setBackgroundColor:function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var e;this._needsRefresh&&(e=!0,this.refreshImmediately()),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately()),e&&this.trigger("rendered")},addHover:function(e,t){this.painter.addHover&&(this.painter.addHover(e,t),this.refreshHover())},removeHover:function(e){this.painter.removeHover&&(this.painter.removeHover(e),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(e,t){return this.painter.pathToImage(e,t)},setCursorStyle:function(e){this.handler.setCursorStyle(e)},findHover:function(e,t){return this.handler.findHover(e,t)},on:function(e,t,n){this.handler.on(e,t,n)},off:function(e,t){this.handler.off(e,t)},trigger:function(e,t){this.handler.trigger(e,t)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,vb(this.id)}};var aT=(Object.freeze||Object)({version:"4.0.3",init:Zu,dispose:function(e){if(e)e.dispose();else{for(var t in Pi)Pi.hasOwnProperty(t)&&Pi[t].dispose();Pi={}}return this},getInstance:function(e){return Pi[e]},registerPainter:Uu}),Oo=b,No=Y,rT=O,C1="series\0",L1=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],sT=0,lT=".",Oi="___EC__COMPONENT__CONTAINER___",uT=0,Eo=function(e){for(var t=0;t<e.length;t++)e[t][1]||(e[t][1]=e[t][0]);return function(n,i,o){for(var a={},r=0;r<e.length;r++){var s=e[r][1];if(!(i&&ne(i,s)>=0||o&&ne(o,s)<0)){var l=n.getShallow(s);l!=null&&(a[e[r][0]]=l)}}return a}},hT=Eo([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),cT={getLineStyle:function(e){var t=hT(this,e),n=this.getLineDash(t.lineWidth);return n&&(t.lineDash=n),t},getLineDash:function(e){e==null&&(e=1);var t=this.get("type"),n=Math.max(e,2),i=4*e;return t==="solid"||t==null?null:t==="dashed"?[i,i]:[n,n]}},dT=Eo([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),fT={getAreaStyle:function(e,t){return dT(this,e,t)}},tl=Math.pow,Un=Math.sqrt,nl=1e-8,k1=1e-4,P1=Un(3),il=1/3,Yt=On(),wt=On(),zo=On(),ot=Math.min,at=Math.max,Pd=Math.sin,Od=Math.cos,Ni=2*Math.PI,ol=On(),al=On(),rl=On(),O1=[],N1=[],De={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},$t=[],jn=[],Kt=[],Jt=[],E1=Math.min,z1=Math.max,er=Math.cos,tr=Math.sin,sl=Math.sqrt,Ro=Math.abs,Nd=typeof Float32Array!="undefined",dt=function(e){this._saveData=!e,this._saveData&&(this.data=[]),this._ctx=null};dt.prototype={constructor:dt,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(e,t){this._ux=Ro(1/Zs/e)||0,this._uy=Ro(1/Zs/t)||0},getContext:function(){return this._ctx},beginPath:function(e){return this._ctx=e,e&&e.beginPath(),e&&(this.dpr=e.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(e,t){return this.addData(De.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},lineTo:function(e,t){var n=Ro(e-this._xi)>this._ux||Ro(t-this._yi)>this._uy||this._len<5;return this.addData(De.L,e,t),this._ctx&&n&&(this._needsDash()?this._dashedLineTo(e,t):this._ctx.lineTo(e,t)),n&&(this._xi=e,this._yi=t),this},bezierCurveTo:function(e,t,n,i,o,a){return this.addData(De.C,e,t,n,i,o,a),this._ctx&&(this._needsDash()?this._dashedBezierTo(e,t,n,i,o,a):this._ctx.bezierCurveTo(e,t,n,i,o,a)),this._xi=o,this._yi=a,this},quadraticCurveTo:function(e,t,n,i){return this.addData(De.Q,e,t,n,i),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(e,t,n,i):this._ctx.quadraticCurveTo(e,t,n,i)),this._xi=n,this._yi=i,this},arc:function(e,t,n,i,o,a){return this.addData(De.A,e,t,n,n,i,o-i,0,a?0:1),this._ctx&&this._ctx.arc(e,t,n,i,o,a),this._xi=er(o)*n+e,this._yi=tr(o)*n+e,this},arcTo:function(e,t,n,i,o){return this._ctx&&this._ctx.arcTo(e,t,n,i,o),this},rect:function(e,t,n,i){return this._ctx&&this._ctx.rect(e,t,n,i),this.addData(De.R,e,t,n,i),this},closePath:function(){this.addData(De.Z);var e=this._ctx,t=this._x0,n=this._y0;return e&&(this._needsDash()&&this._dashedLineTo(t,n),e.closePath()),this._xi=t,this._yi=n,this},fill:function(e){e&&e.fill(),this.toStatic()},stroke:function(e){e&&e.stroke(),this.toStatic()},setLineDash:function(e){if(e instanceof Array){this._lineDash=e,this._dashIdx=0;for(var t=0,n=0;n<e.length;n++)t+=e[n];this._dashSum=t}return this},setLineDashOffset:function(e){return this._dashOffset=e,this},len:function(){return this._len},setData:function(e){var t=e.length;this.data&&this.data.length==t||!Nd||(this.data=new Float32Array(t));for(var n=0;n<t;n++)this.data[n]=e[n];this._len=t},appendPath:function(e){e instanceof Array||(e=[e]);for(var t=e.length,n=0,i=this._len,o=0;o<t;o++)n+=e[o].len();for(Nd&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n)),o=0;o<t;o++)for(var a=e[o].data,r=0;r<a.length;r++)this.data[i++]=a[r];this._len=i},addData:function(e){if(this._saveData){var t=this.data;this._len+arguments.length>t.length&&(this._expandData(),t=this.data);for(var n=0;n<arguments.length;n++)t[this._len++]=arguments[n];this._prevCmd=e}},_expandData:function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(e,t){var n,i,o=this._dashSum,a=this._dashOffset,r=this._lineDash,s=this._ctx,l=this._xi,u=this._yi,h=e-l,c=t-u,d=sl(h*h+c*c),f=l,p=u,g=r.length;for(h/=d,c/=d,a<0&&(a=o+a),f-=(a%=o)*h,p-=a*c;h>0&&f<=e||h<0&&f>=e||h==0&&(c>0&&p<=t||c<0&&p>=t);)f+=h*(n=r[i=this._dashIdx]),p+=c*n,this._dashIdx=(i+1)%g,h>0&&f<l||h<0&&f>l||c>0&&p<u||c<0&&p>u||s[i%2?"moveTo":"lineTo"](h>=0?E1(f,e):z1(f,e),c>=0?E1(p,t):z1(p,t));h=f-e,c=p-t,this._dashOffset=-sl(h*h+c*c)},_dashedBezierTo:function(e,t,n,i,o,a){var r,s,l,u,h,c=this._dashSum,d=this._dashOffset,f=this._lineDash,p=this._ctx,g=this._xi,m=this._yi,v=Ke,y=0,x=this._dashIdx,_=f.length,w=0;for(d<0&&(d=c+d),d%=c,r=0;r<1;r+=.1)s=v(g,e,n,o,r+.1)-v(g,e,n,o,r),l=v(m,t,i,a,r+.1)-v(m,t,i,a,r),y+=sl(s*s+l*l);for(;x<_&&!((w+=f[x])>d);x++);for(r=(w-d)/y;r<=1;)u=v(g,e,n,o,r),h=v(m,t,i,a,r),x%2?p.moveTo(u,h):p.lineTo(u,h),r+=f[x]/y,x=(x+1)%_;x%2!=0&&p.lineTo(o,a),s=o-u,l=a-h,this._dashOffset=-sl(s*s+l*l)},_dashedQuadraticTo:function(e,t,n,i){var o=n,a=i;n=(n+2*e)/3,i=(i+2*t)/3,e=(this._xi+2*e)/3,t=(this._yi+2*t)/3,this._dashedBezierTo(e,t,n,i,o,a)},toStatic:function(){var e=this.data;e instanceof Array&&(e.length=this._len,Nd&&(this.data=new Float32Array(e)))},getBoundingRect:function(){$t[0]=$t[1]=Kt[0]=Kt[1]=Number.MAX_VALUE,jn[0]=jn[1]=Jt[0]=Jt[1]=-Number.MAX_VALUE;for(var e=this.data,t=0,n=0,i=0,o=0,a=0;a<e.length;){var r=e[a++];switch(a==1&&(i=t=e[a],o=n=e[a+1]),r){case De.M:t=i=e[a++],n=o=e[a++],Kt[0]=i,Kt[1]=o,Jt[0]=i,Jt[1]=o;break;case De.L:pg(t,n,e[a],e[a+1],Kt,Jt),t=e[a++],n=e[a++];break;case De.C:Tb(t,n,e[a++],e[a++],e[a++],e[a++],e[a],e[a+1],Kt,Jt),t=e[a++],n=e[a++];break;case De.Q:Cb(t,n,e[a++],e[a++],e[a],e[a+1],Kt,Jt),t=e[a++],n=e[a++];break;case De.A:var s=e[a++],l=e[a++],u=e[a++],h=e[a++],c=e[a++],d=e[a++]+c,f=(e[a++],1-e[a++]);a==1&&(i=er(c)*u+s,o=tr(c)*h+l),Lb(s,l,u,h,c,d,f,Kt,Jt),t=er(d)*u+s,n=tr(d)*h+l;break;case De.R:pg(i=t=e[a++],o=n=e[a++],i+e[a++],o+e[a++],Kt,Jt);break;case De.Z:t=i,n=o}fn($t,$t,Kt),pn(jn,jn,Jt)}return a===0&&($t[0]=$t[1]=jn[0]=jn[1]=0),new Q($t[0],$t[1],jn[0]-$t[0],jn[1]-$t[1])},rebuildPath:function(e){for(var t,n,i,o,a,r,s=this.data,l=this._ux,u=this._uy,h=this._len,c=0;c<h;){var d=s[c++];switch(c==1&&(t=i=s[c],n=o=s[c+1]),d){case De.M:t=i=s[c++],n=o=s[c++],e.moveTo(i,o);break;case De.L:a=s[c++],r=s[c++],(Ro(a-i)>l||Ro(r-o)>u||c===h-1)&&(e.lineTo(a,r),i=a,o=r);break;case De.C:e.bezierCurveTo(s[c++],s[c++],s[c++],s[c++],s[c++],s[c++]),i=s[c-2],o=s[c-1];break;case De.Q:e.quadraticCurveTo(s[c++],s[c++],s[c++],s[c++]),i=s[c-2],o=s[c-1];break;case De.A:var f=s[c++],p=s[c++],g=s[c++],m=s[c++],v=s[c++],y=s[c++],x=s[c++],_=s[c++],w=g>m?g:m,S=g>m?1:g/m,M=g>m?m/g:1,I=v+y;Math.abs(g-m)>.001?(e.translate(f,p),e.rotate(x),e.scale(S,M),e.arc(0,0,w,v,I,1-_),e.scale(1/S,1/M),e.rotate(-x),e.translate(-f,-p)):e.arc(f,p,w,v,I,1-_),c==1&&(t=er(v)*g+f,n=tr(v)*m+p),i=er(I)*g+f,o=tr(I)*m+p;break;case De.R:t=i=s[c],n=o=s[c+1],e.rect(s[c++],s[c++],s[c++],s[c++]);break;case De.Z:e.closePath(),i=t,o=n}}}},dt.CMD=De;var R1=2*Math.PI,nr=2*Math.PI,Xn=dt.CMD,Bo=2*Math.PI,pT=1e-4,et=[-1,-1,-1],bt=[-1,-1],B1=vd.prototype.getCanvasPattern,Ed=Math.abs,gT=new dt(!0);ae.prototype={constructor:ae,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(e,t){var n=this.style,i=this.path||gT,o=n.hasStroke(),a=n.hasFill(),r=n.fill,s=n.stroke,l=a&&!!r.colorStops,u=o&&!!s.colorStops,h=a&&!!r.image,c=o&&!!s.image;if(n.bind(e,this,t),this.setTransform(e),this.__dirty){var d;l&&(d=d||this.getBoundingRect(),this._fillGradient=n.getGradient(e,r,d)),u&&(d=d||this.getBoundingRect(),this._strokeGradient=n.getGradient(e,s,d))}l?e.fillStyle=this._fillGradient:h&&(e.fillStyle=B1.call(r,e)),u?e.strokeStyle=this._strokeGradient:c&&(e.strokeStyle=B1.call(s,e));var f=n.lineDash,p=n.lineDashOffset,g=!!e.setLineDash,m=this.getGlobalScale();i.setScale(m[0],m[1]),this.__dirtyPath||f&&!g&&o?(i.beginPath(e),f&&!g&&(i.setLineDash(f),i.setLineDashOffset(p)),this.buildPath(i,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(e.beginPath(),this.path.rebuildPath(e)),a&&i.fill(e),f&&g&&(e.setLineDash(f),e.lineDashOffset=p),o&&i.stroke(e),f&&g&&e.setLineDash([]),n.text!=null&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))},buildPath:function(e,t,n){},createPathProxy:function(){this.path=new dt},getBoundingRect:function(){var e=this._rect,t=this.style,n=!e;if(n){var i=this.path;i||(i=this.path=new dt),this.__dirtyPath&&(i.beginPath(),this.buildPath(i,this.shape,!1)),e=i.getBoundingRect()}if(this._rect=e,t.hasStroke()){var o=this._rectWithStroke||(this._rectWithStroke=e.clone());if(this.__dirty||n){o.copy(e);var a=t.lineWidth,r=t.strokeNoScale?this.getLineScale():1;t.hasFill()||(a=Math.max(a,this.strokeContainThreshold||4)),r>1e-10&&(o.width+=a/r,o.height+=a/r,o.x-=a/r/2,o.y-=a/r/2)}return o}return e},contain:function(e,t){var n=this.transformCoordToLocal(e,t),i=this.getBoundingRect(),o=this.style;if(e=n[0],t=n[1],i.contain(e,t)){var a=this.path.data;if(o.hasStroke()){var r=o.lineWidth,s=o.strokeNoScale?this.getLineScale():1;if(s>1e-10&&(o.hasFill()||(r=Math.max(r,this.strokeContainThreshold)),Vb(a,r/s,e,t)))return!0}if(o.hasFill())return Bb(a,e,t)}return!1},dirty:function(e){e==null&&(e=!0),e&&(this.__dirtyPath=e,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(e){return this.animate("shape",e)},attrKV:function(e,t){e==="shape"?(this.setShape(t),this.__dirtyPath=!0,this._rect=null):tt.prototype.attrKV.call(this,e,t)},setShape:function(e,t){var n=this.shape;if(n){if(Y(e))for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);else n[e]=t;this.dirty(!0)}return this},getLineScale:function(){var e=this.transform;return e&&Ed(e[0]-1)>1e-10&&Ed(e[3]-1)>1e-10?Math.sqrt(Ed(e[0]*e[3]-e[2]*e[1])):1}},ae.extend=function(e){var t=function(i){ae.call(this,i),e.style&&this.style.extendFrom(e.style,!1);var o=e.shape;if(o){this.shape=this.shape||{};var a=this.shape;for(var r in o)!a.hasOwnProperty(r)&&o.hasOwnProperty(r)&&(a[r]=o[r])}e.init&&e.init.call(this,i)};he(t,ae);for(var n in e)n!=="style"&&n!=="shape"&&(t.prototype[n]=e[n]);return t},he(ae,tt);var Vo=dt.CMD,mT=[[],[],[]],V1=Math.sqrt,vT=Math.atan2,yT=function(e,t){var n,i,o,a,r,s,l=e.data,u=Vo.M,h=Vo.C,c=Vo.L,d=Vo.R,f=Vo.A,p=Vo.Q;for(o=0,a=0;o<l.length;){switch(n=l[o++],a=o,i=0,n){case u:case c:i=1;break;case h:i=3;break;case p:i=2;break;case f:var g=t[4],m=t[5],v=V1(t[0]*t[0]+t[1]*t[1]),y=V1(t[2]*t[2]+t[3]*t[3]),x=vT(-t[1]/y,t[0]/v);l[o]*=v,l[o++]+=g,l[o]*=y,l[o++]+=m,l[o++]*=v,l[o++]*=y,l[o++]+=x,l[o++]+=x,a=o+=2;break;case d:s[0]=l[o++],s[1]=l[o++],ge(s,s,t),l[a++]=s[0],l[a++]=s[1],s[0]+=l[o++],s[1]+=l[o++],ge(s,s,t),l[a++]=s[0],l[a++]=s[1]}for(r=0;r<i;r++)(s=mT[r])[0]=l[o++],s[1]=l[o++],ge(s,s,t),l[a++]=s[0],l[a++]=s[1]}},zd=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],Rd=Math.sqrt,ll=Math.sin,ul=Math.cos,hl=Math.PI,G1=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},Bd=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(G1(e)*G1(t))},W1=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(Bd(e,t))},te=function(e){tt.call(this,e)};te.prototype={constructor:te,type:"text",brush:function(e,t){var n=this.style;this.__dirty&&ga(n),n.fill=n.stroke=n.shadowBlur=n.shadowColor=n.shadowOffsetX=n.shadowOffsetY=null;var i=n.text;i!=null&&(i+=""),n.bind(e,this,t),tg(i,n)&&(this.setTransform(e),Yp(this,e,i,n),this.restoreTransform(e))},getBoundingRect:function(){var e=this.style;if(this.__dirty&&ga(e),!this._rect){var t=e.text;t!=null?t+="":t="";var n=mn(e.text+"",e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.rich);if(n.x+=e.x||0,n.y+=e.y||0,Bu(e.textStroke,e.textStrokeWidth)){var i=e.textStrokeWidth;n.x-=i/2,n.y-=i/2,n.width+=i,n.height+=i}this._rect=n}return this._rect}},he(te,tt);var Ei=ae.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(e,t,n){n&&e.moveTo(t.cx+t.r,t.cy),e.arc(t.cx,t.cy,t.r,0,2*Math.PI,!0)}}),qn=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],Vd=function(e){return ee.browser.ie&&ee.browser.version>=11?function(){var t,n=this.__clipPaths,i=this.style;if(n)for(var o=0;o<n.length;o++){var a=n[o],r=a&&a.shape,s=a&&a.type;if(r&&(s==="sector"&&r.startAngle===r.endAngle||s==="rect"&&(!r.width||!r.height))){for(l=0;l<qn.length;l++)qn[l][2]=i[qn[l][0]],i[qn[l][0]]=qn[l][1];t=!0;break}}if(e.apply(this,arguments),t)for(var l=0;l<qn.length;l++)i[qn[l][0]]=qn[l][2]}:e},In=ae.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:Vd(ae.prototype.brush),buildPath:function(e,t){var n=t.cx,i=t.cy,o=Math.max(t.r0||0,0),a=Math.max(t.r,0),r=t.startAngle,s=t.endAngle,l=t.clockwise,u=Math.cos(r),h=Math.sin(r);e.moveTo(u*o+n,h*o+i),e.lineTo(u*a+n,h*a+i),e.arc(n,i,a,r,s,!l),e.lineTo(Math.cos(s)*o+n,Math.sin(s)*o+i),o!==0&&e.arc(n,i,o,s,r,l),e.closePath()}}),F1=ae.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(e,t){var n=t.cx,i=t.cy,o=2*Math.PI;e.moveTo(n+t.r,i),e.arc(n,i,t.r,0,o,!1),e.moveTo(n+t.r0,i),e.arc(n,i,t.r0,0,o,!0)}}),xT=function(e,t){for(var n=e.length,i=[],o=0,a=1;a<n;a++)o+=ha(e[a-1],e[a]);var r=o/2;for(r=r<n?n:r,a=0;a<r;a++){var s,l,u,h=a/(r-1)*(t?n:n-1),c=Math.floor(h),d=h-c,f=e[c%n];t?(s=e[(c-1+n)%n],l=e[(c+1)%n],u=e[(c+2)%n]):(s=e[c===0?c:c-1],l=e[c>n-2?n-1:c+1],u=e[c>n-3?n-1:c+2]);var p=d*d,g=d*p;i.push([xg(s[0],f[0],l[0],u[0],d,p,g),xg(s[1],f[1],l[1],u[1],d,p,g)])}return i},_T=function(e,t,n,i){var o,a,r,s,l=[],u=[],h=[],c=[];if(i){r=[1/0,1/0],s=[-1/0,-1/0];for(var d=0,f=e.length;d<f;d++)fn(r,r,e[d]),pn(s,s,e[d]);fn(r,r,i[0]),pn(s,s,i[1])}for(var d=0,f=e.length;d<f;d++){var p=e[d];if(n)o=e[d?d-1:f-1],a=e[(d+1)%f];else{if(d===0||d===f-1){l.push(Tt(e[d]));continue}o=e[d-1],a=e[d+1]}dn(u,a,o),Ar(u,u,t);var g=ha(p,o),m=ha(p,a),v=g+m;v!==0&&(g/=v,m/=v),Ar(h,u,-g),Ar(c,u,m);var y=wu([],p,h),x=wu([],p,c);i&&(pn(y,y,r),fn(y,y,s),pn(x,x,r),fn(x,x,s)),l.push(y),l.push(x)}return n&&l.push(l.shift()),l},St=ae.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(e,t){_g(e,t,!0)}}),Qt=ae.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(e,t){_g(e,t,!1)}}),pe=ae.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,i=t.y,o=t.width,a=t.height;t.r?Xp(e,t):e.rect(n,i,o,a),e.closePath()}}),Mt=ae.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.x1,i=t.y1,o=t.x2,a=t.y2,r=t.percent;r!==0&&(e.moveTo(n,i),r<1&&(o=n*(1-r)+o*r,a=i*(1-r)+a*r),e.lineTo(o,a))},pointAt:function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]}}),rt=[],Gd=ae.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.x1,i=t.y1,o=t.x2,a=t.y2,r=t.cpx1,s=t.cpy1,l=t.cpx2,u=t.cpy2,h=t.percent;h!==0&&(e.moveTo(n,i),l==null||u==null?(h<1&&($u(n,r,o,h,rt),r=rt[1],o=rt[2],$u(i,s,a,h,rt),s=rt[1],a=rt[2]),e.quadraticCurveTo(r,s,o,a)):(h<1&&(cg(n,r,l,o,h,rt),r=rt[1],l=rt[2],o=rt[3],cg(i,s,u,a,h,rt),s=rt[1],u=rt[2],a=rt[3]),e.bezierCurveTo(r,s,l,u,o,a)))},pointAt:function(e){return wg(this.shape,e,!1)},tangentAt:function(e){var t=wg(this.shape,e,!0);return lo(t,t)}}),H1=ae.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.cx,i=t.cy,o=Math.max(t.r,0),a=t.startAngle,r=t.endAngle,s=t.clockwise,l=Math.cos(a),u=Math.sin(a);e.moveTo(l*o+n,u*o+i),e.arc(n,i,o,a,r,!s)}}),Z1=ae.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var e=this.__dirtyPath,t=this.shape.paths,n=0;n<t.length;n++)e=e||t[n].__dirtyPath;this.__dirtyPath=e,this.__dirty=this.__dirty||e},beforeBrush:function(){this._updatePathDirty();for(var e=this.shape.paths||[],t=this.getGlobalScale(),n=0;n<e.length;n++)e[n].path||e[n].createPathProxy(),e[n].path.setScale(t[0],t[1])},buildPath:function(e,t){for(var n=t.paths||[],i=0;i<n.length;i++)n[i].buildPath(e,n[i].shape,!0)},afterBrush:function(){for(var e=this.shape.paths||[],t=0;t<e.length;t++)e[t].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),ae.prototype.getBoundingRect.call(this)}}),en=function(e){this.colorStops=e||[]};en.prototype={constructor:en,addColorStop:function(e,t){this.colorStops.push({offset:e,color:t})}};var Go=function(e,t,n,i,o,a){this.x=e==null?0:e,this.y=t==null?0:t,this.x2=n==null?1:n,this.y2=i==null?0:i,this.type="linear",this.global=a||!1,en.call(this,o)};Go.prototype={constructor:Go},he(Go,en);var cl=function(e,t,n,i,o){this.x=e==null?.5:e,this.y=t==null?.5:t,this.r=n==null?.5:n,this.type="radial",this.global=o||!1,en.call(this,i)};cl.prototype={constructor:cl},he(cl,en),lt.prototype.incremental=!0,lt.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},lt.prototype.addDisplayable=function(e,t){t?this._temporaryDisplayables.push(e):this._displayables.push(e),this.dirty()},lt.prototype.addDisplayables=function(e,t){t=t||!1;for(var n=0;n<e.length;n++)this.addDisplayable(e[n],t)},lt.prototype.eachPendingDisplayable=function(e){for(t=this._cursor;t<this._displayables.length;t++)e&&e(this._displayables[t]);for(var t=0;t<this._temporaryDisplayables.length;t++)e&&e(this._temporaryDisplayables[t])},lt.prototype.update=function(){for(this.updateTransform(),e=this._cursor;e<this._displayables.length;e++)(t=this._displayables[e]).parent=this,t.update(),t.parent=null;for(var e=0;e<this._temporaryDisplayables.length;e++){var t=this._temporaryDisplayables[e];t.parent=this,t.update(),t.parent=null}},lt.prototype.brush=function(e,t){for(n=this._cursor;n<this._displayables.length;n++)(i=this._temporaryDisplayables[n]).beforeBrush&&i.beforeBrush(e),i.brush(e,n===this._cursor?null:this._displayables[n-1]),i.afterBrush&&i.afterBrush(e);this._cursor=n;for(var n=0;n<this._temporaryDisplayables.length;n++){var i=this._temporaryDisplayables[n];i.beforeBrush&&i.beforeBrush(e),i.brush(e,n===0?null:this._temporaryDisplayables[n-1]),i.afterBrush&&i.afterBrush(e)}this._temporaryDisplayables=[],this.notClear=!0};var wT=[];lt.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new Q(1/0,1/0,-1/0,-1/0),t=0;t<this._displayables.length;t++){var n=this._displayables[t],i=n.getBoundingRect().clone();n.needLocalTransform()&&i.applyTransform(n.getLocalTransform(wT)),e.union(i)}this._rect=e}return this._rect},lt.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t);if(this.getBoundingRect().contain(n[0],n[1])){for(var i=0;i<this._displayables.length;i++)if(this._displayables[i].contain(e,t))return!0}return!1},he(lt,tt);var Wo=Math.round,dl=Math.max,fl=Math.min,pl={},Dn=function(e,t){for(var n=[],i=e.length,o=0;o<i;o++){var a=e[o];a.path||a.createPathProxy(),a.__dirtyPath&&a.buildPath(a.path,a.shape,!0),n.push(a.path)}var r=new ae(t);return r.createPathProxy(),r.buildPath=function(s){s.appendPath(n);var l=s.getContext();l&&s.rebuildPath(l)},r},Nt=(Object.freeze||Object)({extendShape:Ht,extendPath:function(e,t){return Fb(e,t)},makePath:ya,makeImage:bg,mergePath:Dn,resizePath:Mg,subPixelOptimizeLine:gi,subPixelOptimizeRect:Ku,subPixelOptimize:Zt,setHoverStyle:ve,setLabelStyle:yt,setTextStyle:Se,setText:function(e,t,n){var i,o={isRectText:!0};n===!1?i=!0:o.autoColor=n,Og(e,t,o,i),e.host&&e.host.dirty&&e.host.dirty(!1)},getFont:Ju,updateProps:J,initProps:Je,getTransform:mi,applyTransform:Ut,transformDirection:Qu,groupTransition:eh,clipPointsByRect:Rg,clipRectByRect:function(e,t){var n=dl(e.x,t.x),i=fl(e.x+e.width,t.x+t.width),o=dl(e.y,t.y),a=fl(e.y+e.height,t.y+t.height);if(i>=n&&a>=o)return{x:n,y:o,width:i-n,height:a-o}},createIcon:xa,Group:V,Image:Ze,Text:te,Circle:Ei,Sector:In,Ring:F1,Polygon:St,Polyline:Qt,Rect:pe,Line:Mt,BezierCurve:Gd,Arc:H1,IncrementalDisplayable:lt,CompoundPath:Z1,LinearGradient:Go,RadialGradient:cl,BoundingRect:Q}),bT=["textStyle","color"],ST={getTextColor:function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(bT):null)},getFont:function(){return Ju({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(e){return mn(e,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("rich"),this.getShallow("truncateText"))}},MT=Eo([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),IT={getItemStyle:function(e,t){var n=MT(this,e,t),i=this.getBorderLineDash();return i&&(n.lineDash=i),n},getBorderLineDash:function(){var e=this.get("borderType");return e==="solid"||e==null?null:e==="dashed"?[5,5]:[1,1]}},gl=oe,U1=Ft();re.prototype={constructor:re,init:null,mergeOption:function(e){q(this.option,e,!0)},get:function(e,t){return e==null?this.option:Bg(this.option,this.parsePath(e),!t&&th(this,e))},getShallow:function(e,t){var n=this.option,i=n==null?n:n[e],o=!t&&th(this,e);return i==null&&o&&(i=o.getShallow(e)),i},getModel:function(e,t){var n,i=e==null?this.option:Bg(this.option,e=this.parsePath(e));return t=t||(n=th(this,e))&&n.getModel(e),new re(i,t,this.ecModel)},isEmpty:function(){return this.option==null},restoreData:function(){},clone:function(){return new this.constructor(Z(this.option))},setReadOnly:function(e){},parsePath:function(e){return typeof e=="string"&&(e=e.split(".")),e},customizeGetParent:function(e){U1(this).getParent=e},isAnimationEnabled:function(){if(!ee.node){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},va(re),Wr(re),gl(re,cT),gl(re,fT),gl(re,ST),gl(re,IT);var DT=0,j1=1e-4,Wd=9007199254740991,AT=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/,TT=(Object.freeze||Object)({linearMap:Ie,parsePercent:E,round:nt,asc:vi,getPrecision:Vg,getPrecisionSafe:Ur,getPixelPrecision:nh,getPercentWithPrecision:Gg,MAX_SAFE_INTEGER:Wd,remRadian:ih,isRadianAroundZero:_a,parseDate:wa,quantity:Wg,nice:oh,reformIntervals:ah,isNumeric:Hg}),zi=vu,X1=["a","b","c","d","e","f","g"],Fd=function(e,t){return"{"+e+(t==null?"":t)+"}"},q1=Wp,CT=mn,LT=(Object.freeze||Object)({addCommas:yi,toCamelCase:Zg,normalizeCssArray:zi,encodeHTML:we,formatTpl:rh,formatTplSimple:Ug,getTooltipMarker:jr,formatTime:sh,capitalFirst:Xr,truncateText:q1,getTextRect:CT}),ml=b,Y1=["left","right","top","bottom","width","height"],Ri=[["width","left","right"],["height","top","bottom"]],ir=lh,kT=(j(lh,"vertical"),j(lh,"horizontal"),{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}),PT=Ft(),ie=re.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(e,t,n,i){re.call(this,e,t,n,i),this.uid=Zr("ec_cpt_model")},init:function(e,t,n,i){this.mergeDefaultAndTheme(e,n)},mergeDefaultAndTheme:function(e,t){var n=this.layoutMode,i=n?go(e):{};q(e,t.getTheme().get(this.mainType)),q(e,this.getDefaultOption()),n&&Vn(e,i,n)},mergeOption:function(e,t){q(this.option,e,!0);var n=this.layoutMode;n&&Vn(this.option,e,n)},optionUpdated:function(e,t){},getDefaultOption:function(){var e=PT(this);if(!e.defaultOption){for(var t=[],n=this.constructor;n;){var i=n.prototype.defaultOption;i&&t.push(i),n=n.superClass}for(var o={},a=t.length-1;a>=0;a--)o=q(o,t[a],!0);e.defaultOption=o}return e.defaultOption},getReferringComponents:function(e){return this.ecModel.queryComponents({mainType:e,index:this.get(e+"Index",!0),id:this.get(e+"Id",!0)})}});Fr(ie,{registerWhenExtend:!0}),function(e){var t={};e.registerSubTypeDefaulter=function(n,i){n=En(n),t[n.main]=i},e.determineSubType=function(n,i){var o=i.type;if(!o){var a=En(n).main;e.hasSubTypes(n)&&t[a]&&(o=t[a](i))}return o}}(ie),function(e,t){function n(a){var r={},s=[];return b(a,function(l){var u=i(r,l),h=o(u.originalDeps=t(l),a);u.entryCount=h.length,u.entryCount===0&&s.push(l),b(h,function(c){ne(u.predecessor,c)<0&&u.predecessor.push(c);var d=i(r,c);ne(d.successor,c)<0&&d.successor.push(l)})}),{graph:r,noEntryList:s}}function i(a,r){return a[r]||(a[r]={predecessor:[],successor:[]}),a[r]}function o(a,r){var s=[];return b(a,function(l){ne(r,l)>=0&&s.push(l)}),s}e.topologicalTravel=function(a,r,s,l){function u(v){c[v].entryCount--,c[v].entryCount===0&&d.push(v)}if(a.length){var h=n(r),c=h.graph,d=h.noEntryList,f={};for(b(a,function(v){f[v]=!0});d.length;){var p=d.pop(),g=c[p],m=!!f[p];m&&(s.call(l,p,g.originalDeps.slice()),delete f[p]),b(g.successor,m?function(v){f[v]=!0,u(v)}:u)}b(f,function(){throw new Error("Circle dependency may exists")})}}}(ie,function(e){var t=[];return b(ie.getClassesByMainType(e),function(n){t=t.concat(n.prototype.dependencies||[])}),t=P(t,function(n){return En(n).main}),e!=="dataset"&&ne(t,"dataset")<=0&&t.unshift("dataset"),t}),oe(ie,kT);var $1="";typeof navigator!="undefined"&&($1=navigator.platform||"");var OT={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:$1.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},Hd=Ft(),Zd={clearColorPalette:function(){Hd(this).colorIdx=0,Hd(this).colorNameMap={}},getColorFromPalette:function(e,t,n){var i=Hd(t=t||this),o=i.colorIdx||0,a=i.colorNameMap=i.colorNameMap||{};if(a.hasOwnProperty(e))return a[e];var r=Ue(this.get("color",!0)),s=this.get("colorLayer",!0),l=n!=null&&s?Jb(s,n):r;if((l=l||r)&&l.length){var u=l[o];return e&&(a[e]=u),i.colorIdx=(o+1)%l.length,u}}},NT={cartesian2d:function(e,t,n,i){var o=e.getReferringComponents("xAxis")[0],a=e.getReferringComponents("yAxis")[0];t.coordSysDims=["x","y"],n.set("x",o),n.set("y",a),mo(o)&&(i.set("x",o),t.firstCategoryDimIndex=0),mo(a)&&(i.set("y",a),t.firstCategoryDimIndex=1)},singleAxis:function(e,t,n,i){var o=e.getReferringComponents("singleAxis")[0];t.coordSysDims=["single"],n.set("single",o),mo(o)&&(i.set("single",o),t.firstCategoryDimIndex=0)},polar:function(e,t,n,i){var o=e.getReferringComponents("polar")[0],a=o.findAxisModel("radiusAxis"),r=o.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],n.set("radius",a),n.set("angle",r),mo(a)&&(i.set("radius",a),t.firstCategoryDimIndex=0),mo(r)&&(i.set("angle",r),t.firstCategoryDimIndex=1)},geo:function(e,t,n,i){t.coordSysDims=["lng","lat"]},parallel:function(e,t,n,i){var o=e.ecModel,a=o.getComponent("parallel",e.get("parallelIndex")),r=t.coordSysDims=a.dimensions.slice();b(a.parallelAxisIndex,function(s,l){var u=o.getComponent("parallelAxis",s),h=r[l];n.set(h,u),mo(u)&&t.firstCategoryDimIndex==null&&(i.set(h,u),t.firstCategoryDimIndex=l)})}},Bi="original",vl="arrayRows",yl="objectRows",xl="keyedColumns",K1="unknown",_l="typedArray",J1="column",Ud="row";kt.seriesDataToSource=function(e){return new kt({data:e,sourceFormat:cn(e)?_l:Bi,fromDataset:!1})},Wr(kt);var Fo=Ft(),jd="\0_ec_inner",wl=re.extend({constructor:wl,init:function(e,t,n,i){n=n||{},this.option=null,this._theme=new re(n),this._optionManager=i},setOption:function(e,t){Pn(!(jd in e),"please use chart.getOption()"),this._optionManager.setOption(e,t),this.resetOption(null)},resetOption:function(e){var t=!1,n=this._optionManager;if(!e||e==="recreate"){var i=n.mountOption(e==="recreate");this.option&&e!=="recreate"?(this.restoreData(),this.mergeOption(i)):uS.call(this,i),t=!0}if(e!=="timeline"&&e!=="media"||this.restoreData(),!e||e==="recreate"||e==="timeline"){var o=n.getTimelineOption(this);o&&(this.mergeOption(o),t=!0)}if(!e||e==="recreate"||e==="media"){var a=n.getMediaOption(this,this._api);a.length&&b(a,function(r){this.mergeOption(r,t=!0)},this)}return t},mergeOption:function(e){var t=this.option,n=this._componentsMap,i=[];tS(this),b(e,function(o,a){o!=null&&(ie.hasClass(a)?a&&i.push(a):t[a]=t[a]==null?Z(o):q(t[a],o,!0))}),ie.topologicalTravel(i,ie.getAllClassMainTypes(),function(o,a){var r=Ue(e[o]),s=ju(n.get(o),r);rg(s),b(s,function(u,h){var c=u.option;Y(c)&&(u.keyInfo.mainType=o,u.keyInfo.subType=cS(o,c,u.exist))});var l=hS(n,a);t[o]=[],n.set(o,[]),b(s,function(u,h){var c=u.exist,d=u.option;if(Pn(Y(d)||c,"Empty component definition"),d){var f=ie.getClass(o,u.keyInfo.subType,!0);if(c&&c instanceof f)c.name=u.keyInfo.name,c.mergeOption(d,this),c.optionUpdated(d,!1);else{var p=G({dependentModels:l,componentIndex:h},u.keyInfo);G(c=new f(d,this,this,p),p),c.init(d,this,this,p),c.optionUpdated(null,!0)}}else c.mergeOption({},this),c.optionUpdated({},!1);n.get(o)[h]=c,t[o][h]=c.option},this),o==="series"&&uh(this,n.get("series"))},this),this._seriesIndicesMap=K(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var e=Z(this.option);return b(e,function(t,n){if(ie.hasClass(n)){for(var i=(t=Ue(t)).length-1;i>=0;i--)Br(t[i])&&t.splice(i,1);e[n]=t}}),delete e[jd],e},getTheme:function(){return this._theme},getComponent:function(e,t){var n=this._componentsMap.get(e);if(n)return n[t||0]},queryComponents:function(e){var t=e.mainType;if(!t)return[];var n=e.index,i=e.id,o=e.name,a=this._componentsMap.get(t);if(!a||!a.length)return[];var r;if(n!=null)O(n)||(n=[n]),r=ke(P(n,function(u){return a[u]}),function(u){return!!u});else if(i!=null){var s=O(i);r=ke(a,function(u){return s&&ne(i,u.id)>=0||!s&&u.id===i})}else if(o!=null){var l=O(o);r=ke(a,function(u){return l&&ne(o,u.name)>=0||!l&&u.name===o})}else r=a.slice();return Jg(r,e)},findComponents:function(e){var t=e.query,n=e.mainType,i=function(o){var a=n+"Index",r=n+"Id",s=n+"Name";return!o||o[a]==null&&o[r]==null&&o[s]==null?null:{mainType:n,index:o[a],id:o[r],name:o[s]}}(t);return function(o){return e.filter?ke(o,e.filter):o}(Jg(i?this.queryComponents(i):this._componentsMap.get(n),e))},eachComponent:function(e,t,n){var i=this._componentsMap;typeof e=="function"?(n=t,t=e,i.each(function(o,a){b(o,function(r,s){t.call(n,a,r,s)})})):xe(e)?b(i.get(e),t,n):Y(e)&&b(this.findComponents(e),t,n)},getSeriesByName:function(e){return ke(this._componentsMap.get("series"),function(t){return t.name===e})},getSeriesByIndex:function(e){return this._componentsMap.get("series")[e]},getSeriesByType:function(e){return ke(this._componentsMap.get("series"),function(t){return t.subType===e})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(e,t){b(this._seriesIndices,function(n){var i=this._componentsMap.get("series")[n];e.call(t,i,n)},this)},eachRawSeries:function(e,t){b(this._componentsMap.get("series"),e,t)},eachSeriesByType:function(e,t,n){b(this._seriesIndices,function(i){var o=this._componentsMap.get("series")[i];o.subType===e&&t.call(n,o,i)},this)},eachRawSeriesByType:function(e,t,n){return b(this.getSeriesByType(e),t,n)},isSeriesFiltered:function(e){return this._seriesIndicesMap.get(e.componentIndex)==null},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(e,t){uh(this,ke(this._componentsMap.get("series"),e,t))},restoreData:function(e){var t=this._componentsMap;uh(this,t.get("series"));var n=[];t.each(function(i,o){n.push(o)}),ie.topologicalTravel(n,ie.getAllClassMainTypes(),function(i,o){b(t.get(i),function(a){(i!=="series"||!sS(a,e))&&a.restoreData()})})}});oe(wl,Zd);var ET=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"],Xd={};Xe.prototype={constructor:Xe,create:function(e,t){var n=[];b(Xd,function(i,o){var a=i.create(e,t);n=n.concat(a||[])}),this._coordinateSystems=n},update:function(e,t){b(this._coordinateSystems,function(n){n.update&&n.update(e,t)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},Xe.register=function(e,t){Xd[e]=t},Xe.get=function(e){return Xd[e]};var bl=b,Vi=Z,Sl=P,Q1=q,zT=/^(min|max)?(.+)$/;hh.prototype={constructor:hh,setOption:function(e,t){e&&b(Ue(e.series),function(o){o&&o.data&&cn(o.data)&&xu(o.data)}),e=Vi(e,!0);var n=this._optionBackup,i=dS.call(this,e,t,!n);this._newBaseOption=i.baseOption,n?(mS(n.baseOption,i.baseOption),i.timelineOptions.length&&(n.timelineOptions=i.timelineOptions),i.mediaList.length&&(n.mediaList=i.mediaList),i.mediaDefault&&(n.mediaDefault=i.mediaDefault)):this._optionBackup=i},mountOption:function(e){var t=this._optionBackup;return this._timelineOptions=Sl(t.timelineOptions,Vi),this._mediaList=Sl(t.mediaList,Vi),this._mediaDefault=Vi(t.mediaDefault),this._currentMediaIndices=[],Vi(e?t.baseOption:this._newBaseOption)},getTimelineOption:function(e){var t,n=this._timelineOptions;if(n.length){var i=e.getComponent("timeline");i&&(t=Vi(n[i.getCurrentIndex()],!0))}return t},getMediaOption:function(e){var t=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,o=this._mediaDefault,a=[],r=[];if(!i.length&&!o)return r;for(var s=0,l=i.length;s<l;s++)fS(i[s].query,t,n)&&a.push(s);return!a.length&&o&&(a=[-1]),a.length&&!gS(a,this._currentMediaIndices)&&(r=Sl(a,function(u){return Vi(u===-1?o.option:i[u].option)})),this._currentMediaIndices=a,r}};var Et=b,or=Y,ex=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"],RT=function(e,t){Et(yn(e.series),function(i){or(i)&&vS(i)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),Et(n,function(i){Et(yn(e[i]),function(o){o&&(Te(o,"axisLabel"),Te(o.axisPointer,"label"))})}),Et(yn(e.parallel),function(i){var o=i&&i.parallelAxisDefault;Te(o,"axisLabel"),Te(o&&o.axisPointer,"label")}),Et(yn(e.calendar),function(i){qe(i,"itemStyle"),Te(i,"dayLabel"),Te(i,"monthLabel"),Te(i,"yearLabel")}),Et(yn(e.radar),function(i){Te(i,"name")}),Et(yn(e.geo),function(i){or(i)&&(xt(i),Et(yn(i.regions),function(o){xt(o)}))}),Et(yn(e.timeline),function(i){xt(i),qe(i,"label"),qe(i,"itemStyle"),qe(i,"controlStyle",!0);var o=i.data;O(o)&&b(o,function(a){Y(a)&&(qe(a,"label"),qe(a,"itemStyle"))})}),Et(yn(e.toolbox),function(i){qe(i,"iconStyle"),Et(i.feature,function(o){qe(o,"iconStyle")})}),Te(em(e.axisPointer),"label"),Te(em(e.tooltip).axisPointer,"label")},BT=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],VT=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],tx=function(e,t){RT(e,t),e.series=Ue(e.series),b(e.series,function(n){if(Y(n)){var i=n.type;if(i!=="pie"&&i!=="gauge"||n.clockWise!=null&&(n.clockwise=n.clockWise),i==="gauge"){var o=yS(n,"pointer.color");o!=null&&xS(n,"itemStyle.normal.color",o)}tm(n)}}),e.dataRange&&(e.visualMap=e.dataRange),b(VT,function(n){var i=e[n];i&&(O(i)||(i=[i]),b(i,function(o){tm(o)}))})},qd=nm.prototype;qd.pure=!1,qd.persistent=!0,qd.getSource=function(){return this._source};var GT={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(e){return this._data[e+this._source.startIndex]},appendData:dh},arrayRows_row:{pure:!0,count:function(){var e=this._data[0];return e?Math.max(0,e.length-this._source.startIndex):0},getItem:function(e){e+=this._source.startIndex;for(var t=[],n=this._data,i=0;i<n.length;i++){var o=n[i];t.push(o?o[e]:null)}return t},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:im,getItem:om,appendData:dh},keyedColumns:{pure:!0,count:function(){var e=this._source.dimensionsDefine[0].name,t=this._data[e];return t?t.length:0},getItem:function(e){for(var t=[],n=this._source.dimensionsDefine,i=0;i<n.length;i++){var o=this._data[n[i].name];t.push(o?o[e]:null)}return t},appendData:function(e){var t=this._data;b(e,function(n,i){for(var o=t[i]||(t[i]=[]),a=0;a<(n||[]).length;a++)o.push(n[a])})}},original:{count:im,getItem:om,appendData:dh},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(e){e-=this._offset;for(var t=[],n=this._dimSize*e,i=0;i<this._dimSize;i++)t[i]=this._data[n+i];return t},appendData:function(e){this._data=e},clean:function(){this._offset+=this.count(),this._data=null}}},WT={arrayRows:fh,objectRows:function(e,t,n,i){return n!=null?e[i]:e},keyedColumns:fh,original:function(e,t,n,i){var o=ma(e);return n!=null&&o instanceof Array?o[n]:o},typedArray:fh},FT={arrayRows:am,objectRows:function(e,t,n,i){return ph(e[t],this._dimensionInfos[t])},keyedColumns:am,original:function(e,t,n,i){var o=e&&(e.value==null?e:e.value);return!this._rawData.pure&&yb(e)&&(this.hasItemOption=!0),ph(o instanceof Array?o[i]:o,this._dimensionInfos[t])},typedArray:function(e,t,n,i){return e[i]}},HT=/\{@(.+?)\}/g,Yd={getDataParams:function(e,t){var n=this.getData(t),i=this.getRawValue(e,t),o=n.getRawIndex(e),a=n.getName(e,!0),r=n.getRawDataItem(e),s=n.getItemVisual(e,"color");return{componentType:this.mainType,componentSubType:this.subType,seriesType:this.mainType==="series"?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:a,dataIndex:o,data:r,dataType:t,value:i,color:s,marker:jr(s),$vars:["seriesName","name","value"]}},getFormattedLabel:function(e,t,n,i,o){t=t||"normal";var a=this.getData(n),r=a.getItemModel(e),s=this.getDataParams(e,n);i!=null&&s.value instanceof Array&&(s.value=s.value[i]);var l=r.get(t==="normal"?[o||"label","formatter"]:[t,o||"label","formatter"]);return typeof l=="function"?(s.status=t,l(s)):typeof l=="string"?rh(l,s).replace(HT,function(u,h){var c=h.length;return h.charAt(0)==="["&&h.charAt(c-1)==="]"&&(h=+h.slice(1,c-1)),xi(a,e,h)}):void 0},getRawValue:function(e,t){return xi(this.getData(t),e)},formatTooltip:function(){}},Yn=sm.prototype;Yn.perform=function(e){var t=this._upstream,n=e&&e.skip;if(this._dirty&&t){var i=this.context;i.data=i.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var o;this._plan&&!n&&(o=this._plan(this.context));var a;(this._dirty||o==="reset")&&(this._dirty=!1,a=wS(this,n));var r=e&&e.step;if(this._dueEnd=t?t._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var s=this._dueIndex,l=Math.min(r!=null?this._dueIndex+r:1/0,this._dueEnd);!n&&(a||s<l)&&this._progress({start:s,end:l},this.context),this._dueIndex=l;var u=this._settedOutputEnd!=null?this._settedOutputEnd:l;this._outputDueEnd=u}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},Yn.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},Yn.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},Yn.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},Yn.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},Yn.getUpstream=function(){return this._upstream},Yn.getDownstream=function(){return this._downstream},Yn.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e};var ar=Ft(),Ae=ie.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.color",layoutMode:null,init:function(e,t,n,i){this.seriesIndex=this.componentIndex,this.dataTask=ba({count:SS,reset:MS}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,n),qg(this);var o=this.getInitialData(e,n);um(o,this),this.dataTask.context.data=o,ar(this).dataBeforeProcessed=o,lm(this)},mergeDefaultAndTheme:function(e,t){var n=this.layoutMode,i=n?go(e):{},o=this.subType;ie.hasClass(o)&&(o+="Series"),q(e,t.getTheme().get(this.subType)),q(e,this.getDefaultOption()),pi(e,"label",["show"]),this.fillDataTextStyle(e.data),n&&Vn(e,i,n)},mergeOption:function(e,t){e=q(this.option,e,!0),this.fillDataTextStyle(e.data);var n=this.layoutMode;n&&Vn(this.option,e,n),qg(this);var i=this.getInitialData(e,t);um(i,this),this.dataTask.dirty(),this.dataTask.context.data=i,ar(this).dataBeforeProcessed=i,lm(this)},fillDataTextStyle:function(e){if(e)for(var t=["show"],n=0;n<e.length;n++)e[n]&&e[n].label&&pi(e[n],"label",t)},getInitialData:function(){},appendData:function(e){this.getRawData().appendData(e.data)},getData:function(e){var t=gh(this);if(t){var n=t.context.data;return e==null?n:n.getLinkedData(e)}return ar(this).data},setData:function(e){var t=gh(this);if(t){var n=t.context;n.data!==e&&t.isOverallFilter&&t.setOutputEnd(e.count()),n.outputData=e,t!==this.dataTask&&(n.data=e)}ar(this).data=e},getSource:function(){return eS(this)},getRawData:function(){return ar(this).dataBeforeProcessed},getBaseAxis:function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},formatTooltip:function(e,t,n){function i(p){return we(yi(p))}var o=this.getData(),a=o.mapDimension("defaultedTooltip",!0),r=a.length,s=this.getRawValue(e),l=O(s),u=o.getItemVisual(e,"color");Y(u)&&u.colorStops&&(u=(u.colorStops[0]||{}).color),u=u||"transparent";var h=r>1||l&&!r?function(p){function g(y,x){var _=o.getDimensionInfo(x);if(_&&_.otherDims.tooltip!==!1){var w=_.type,S=jr({color:u,type:"subItem"}),M=(m?S+we(_.displayName||"-")+": ":"")+we(w==="ordinal"?y+"":w==="time"?t?"":sh("yyyy/MM/dd hh:mm:ss",y):yi(y));M&&v.push(M)}}var m=ro(p,function(y,x,_){var w=o.getDimensionInfo(_);return y|=w&&w.tooltip!==!1&&w.displayName!=null},0),v=[];return a.length?b(a,function(y){g(xi(o,e,y),y)}):b(p,g),(m?"<br/>":"")+v.join(m?"<br/>":", ")}(s):i(r?xi(o,e,a[0]):l?s[0]:s),c=jr(u),d=o.getName(e),f=this.name;return Xu(this)||(f=""),f=f?we(f)+(t?": ":"<br/>"):"",t?c+f+h:f+c+(d?we(d)+": "+h:h)},isAnimationEnabled:function(){if(ee.node)return!1;var e=this.getShallow("animation");return e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),e},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(e,t,n){var i=this.ecModel,o=Zd.getColorFromPalette.call(this,e,t,n);return o||(o=i.getColorFromPalette(e,t,n)),o},coordDimToDataDim:function(e){return this.getRawData().mapDimension(e,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});oe(Ae,Yd),oe(Ae,Zd);var An=function(){this.group=new V,this.uid=Zr("viewComponent")};An.prototype={constructor:An,init:function(e,t){},render:function(e,t,n,i){},dispose:function(){}};var $d=An.prototype;$d.updateView=$d.updateLayout=$d.updateVisual=function(e,t,n,i){},va(An),Fr(An,{registerWhenExtend:!0});var Kd=function(){var e=Ft();return function(t){var n=e(t),i=t.pipelineContext,o=n.large,a=n.canProgressiveRender,r=n.large=i.large,s=n.canProgressiveRender=i.canProgressiveRender;return!!(o^r||a^s)&&"reset"}},nx=Ft(),ZT=Kd();Ve.prototype={type:"chart",init:function(e,t){},render:function(e,t,n,i){},highlight:function(e,t,n,i){hm(e.getData(),i,"emphasis")},downplay:function(e,t,n,i){hm(e.getData(),i,"normal")},remove:function(e,t){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null};var Jd=Ve.prototype;Jd.updateView=Jd.updateLayout=Jd.updateVisual=function(e,t,n,i){this.render(e,t,n,i)},va(Ve),Fr(Ve,{registerWhenExtend:!0}),Ve.markUpdateMethod=function(e,t){nx(e).updateMethod=t};var UT={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},Ml="\0__throttleOriginMethod",ix="\0__throttleRate",ox="\0__throttleType",jT={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData(),i=(e.visualColorAccessPath||"itemStyle.color").split("."),o=e.get(i)||e.getColorFromPalette(e.name,null,t.getSeriesCount());if(n.setVisual("color",o),!t.isSeriesFiltered(e))return typeof o!="function"||o instanceof en||n.each(function(a){n.setItemVisual(a,"color",o(e.getDataParams(a)))}),{dataEach:n.hasItemOption?function(a,r){var s=a.getItemModel(r).get(i,!0);s!=null&&a.setItemVisual(r,"color",s)}:null}}},$n={toolbox:{brush:{title:{rect:"\u77E9\u5F62\u9009\u62E9",polygon:"\u5708\u9009",lineX:"\u6A2A\u5411\u9009\u62E9",lineY:"\u7EB5\u5411\u9009\u62E9",keep:"\u4FDD\u6301\u9009\u62E9",clear:"\u6E05\u9664\u9009\u62E9"}},dataView:{title:"\u6570\u636E\u89C6\u56FE",lang:["\u6570\u636E\u89C6\u56FE","\u5173\u95ED","\u5237\u65B0"]},dataZoom:{title:{zoom:"\u533A\u57DF\u7F29\u653E",back:"\u533A\u57DF\u7F29\u653E\u8FD8\u539F"}},magicType:{title:{line:"\u5207\u6362\u4E3A\u6298\u7EBF\u56FE",bar:"\u5207\u6362\u4E3A\u67F1\u72B6\u56FE",stack:"\u5207\u6362\u4E3A\u5806\u53E0",tiled:"\u5207\u6362\u4E3A\u5E73\u94FA"}},restore:{title:"\u8FD8\u539F"},saveAsImage:{title:"\u4FDD\u5B58\u4E3A\u56FE\u7247",lang:["\u53F3\u952E\u53E6\u5B58\u4E3A\u56FE\u7247"]}},series:{typeNames:{pie:"\u997C\u56FE",bar:"\u67F1\u72B6\u56FE",line:"\u6298\u7EBF\u56FE",scatter:"\u6563\u70B9\u56FE",effectScatter:"\u6D9F\u6F2A\u6563\u70B9\u56FE",radar:"\u96F7\u8FBE\u56FE",tree:"\u6811\u56FE",treemap:"\u77E9\u5F62\u6811\u56FE",boxplot:"\u7BB1\u578B\u56FE",candlestick:"K\u7EBF\u56FE",k:"K\u7EBF\u56FE",heatmap:"\u70ED\u529B\u56FE",map:"\u5730\u56FE",parallel:"\u5E73\u884C\u5750\u6807\u56FE",lines:"\u7EBF\u56FE",graph:"\u5173\u7CFB\u56FE",sankey:"\u6851\u57FA\u56FE",funnel:"\u6F0F\u6597\u56FE",gauge:"\u4EEA\u8868\u76D8\u56FE",pictorialBar:"\u8C61\u5F62\u67F1\u56FE",themeRiver:"\u4E3B\u9898\u6CB3\u6D41\u56FE",sunburst:"\u65ED\u65E5\u56FE"}},aria:{general:{withTitle:"\u8FD9\u662F\u4E00\u4E2A\u5173\u4E8E\u201C{title}\u201D\u7684\u56FE\u8868\u3002",withoutTitle:"\u8FD9\u662F\u4E00\u4E2A\u56FE\u8868\uFF0C"},series:{single:{prefix:"",withName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\uFF0C\u8868\u793A{seriesName}\u3002",withoutName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\u3002"},multiple:{prefix:"\u5B83\u7531{seriesCount}\u4E2A\u56FE\u8868\u7CFB\u5217\u7EC4\u6210\u3002",withName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A\u8868\u793A{seriesName}\u7684{seriesType}\uFF0C",withoutName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A{seriesType}\uFF0C",separator:{middle:"\uFF1B",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636E\u662F\u2014\u2014",partialData:"\u5176\u4E2D\uFF0C\u524D{displayCnt}\u9879\u662F\u2014\u2014",withName:"{name}\u7684\u6570\u636E\u662F{value}",withoutName:"{value}",separator:{middle:"\uFF0C",end:""}}}},XT=function(e,t){function n(f,p){if(typeof f!="string")return f;var g=f;return b(p,function(m,v){g=g.replace(new RegExp("\\{\\s*"+v+"\\s*\\}","g"),m)}),g}function i(f){var p=a.get(f);if(p==null){for(var g=f.split("."),m=$n.aria,v=0;v<g.length;++v)m=m[g[v]];return m}return p}function o(f){return $n.series.typeNames[f]||"\u81EA\u5B9A\u4E49\u56FE"}var a=t.getModel("aria");if(a.get("show"))if(a.get("description"))e.setAttribute("aria-label",a.get("description"));else{var r=0;t.eachSeries(function(f,p){++r},this);var s,l=a.get("data.maxCount")||10,u=a.get("series.maxCount")||10,h=Math.min(r,u);if(!(r<1)){var c=function(){var f=t.getModel("title").option;return f&&f.length&&(f=f[0]),f&&f.text}();s=c?n(i("general.withTitle"),{title:c}):i("general.withoutTitle");var d=[];s+=n(i(r>1?"series.multiple.prefix":"series.single.prefix"),{seriesCount:r}),t.eachSeries(function(f,p){if(p<h){var g,m=f.get("name"),v="series."+(r>1?"multiple":"single")+".";g=n(g=i(m?v+"withName":v+"withoutName"),{seriesId:f.seriesIndex,seriesName:f.get("name"),seriesType:o(f.subType)});var y=f.getData();window.data=y,y.count()>l?g+=n(i("data.partialData"),{displayCnt:l}):g+=i("data.allData");for(var x=[],_=0;_<y.count();_++)if(_<l){var w=y.getName(_),S=xi(y,_);x.push(n(i(w?"data.withName":"data.withoutName"),{name:w,value:S}))}g+=x.join(i("data.separator.middle"))+i("data.separator.end"),d.push(g)}}),s+=d.join(i("series.multiple.separator.middle"))+i("series.multiple.separator.end"),e.setAttribute("aria-label",s)}}},Il=Math.PI,zt=$r.prototype;zt.getPerformArgs=function(e,t){if(e.__pipeline){var n=this._pipelineMap.get(e.__pipeline.id),i=n.context;return{step:!t&&n.progressiveEnabled&&(!i||i.canProgressiveRender)&&e.__idxInPipeline>n.bockIndex?n.step:null}}},zt.getPipeline=function(e){return this._pipelineMap.get(e)},zt.updateStreamModes=function(e,t){var n=this._pipelineMap.get(e.uid),i=e.getData().count(),o=n.progressiveEnabled&&t.incrementalPrepareRender&&i>=n.threshold,a=e.get("large")&&i>=e.get("largeThreshold");e.pipelineContext=n.context={canProgressiveRender:o,large:a}},zt.restorePipelines=function(e){var t=this,n=t._pipelineMap=K();e.eachSeries(function(i){var o=i.getProgressive(),a=i.uid;n.set(a,{id:a,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:o&&!(i.preventIncremental&&i.preventIncremental()),bockIndex:-1,step:o||700,count:0}),Kr(t,i,i.dataTask)})},zt.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.ecInstance.getModel(),n=this.api;b([this._dataProcessorHandlers,this._visualHandlers],function(i){b(i,function(o){var a=e.get(o.uid)||e.set(o.uid,[]);o.reset&&CS(this,o,a,t,n),o.overallReset&&LS(this,o,a,t,n)},this)},this)},zt.prepareView=function(e,t,n,i){var o=e.renderTask,a=o.context;a.model=t,a.ecModel=n,a.api=i,o.__block=!e.incrementalPrepareRender,Kr(this,t,o)},zt.performDataProcessorTasks=function(e,t){dm(this,this._dataProcessorHandlers,e,t,{block:!0})},zt.performVisualTasks=function(e,t,n){dm(this,this._visualHandlers,e,t,n)},zt.performSeriesTasks=function(e){var t;e.eachSeries(function(n){t|=n.dataTask.perform()}),this.unfinished|=t},zt.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.bockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})};var ax=zt.updatePayload=function(e,t){t!=="remain"&&(e.context.payload=t)};$r.wrapStageHandler=function(e,t){return At(e)&&(e={overallReset:e,seriesType:VS(e)}),e.uid=Zr("stageHandler"),t&&(e.visualType=t),e};var Dl,rr={},rx={};fm(rr,wl),fm(rx,Qg),rr.eachSeriesByType=rr.eachRawSeriesByType=function(e){Dl=e},rr.eachComponent=function(e){e.mainType==="series"&&e.subType&&(Dl=e.subType)};var sx=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],qT={color:sx,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],sx]},Qd=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],lx={color:Qd,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:"#eee"},crossStyle:{color:"#eee"}}},legend:{textStyle:{color:"#eee"}},textStyle:{color:"#eee"},title:{textStyle:{color:"#eee"}},toolbox:{iconStyle:{normal:{borderColor:"#eee"}}},dataZoom:{textStyle:{color:"#eee"}},visualMap:{textStyle:{color:"#eee"}},timeline:{lineStyle:{color:"#eee"},itemStyle:{normal:{color:Qd[1]}},label:{normal:{textStyle:{color:"#eee"}}},controlStyle:{normal:{color:"#eee",borderColor:"#eee"}}},timeAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},logAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},valueAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},categoryAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},line:{symbol:"circle"},graph:{color:Qd},gauge:{title:{textStyle:{color:"#eee"}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};lx.categoryAxis.splitLine.show=!1;var YT=Pn,Ge=b,$T=At,sr=Y,ux=ie.parseClassType,KT={zrender:"4.0.3"},hx=1e3,cx=1e3,dx=3e3,Ho={PROCESSOR:{FILTER:hx,STATISTIC:5e3},VISUAL:{LAYOUT:cx,GLOBAL:2e3,CHART:dx,COMPONENT:4e3,BRUSH:5e3}},tn="__flagInMainProcess",Kn="__optionUpdated",fx=/^[a-zA-Z0-9_]+$/;Ma.prototype.on=vo("on"),Ma.prototype.off=vo("off"),Ma.prototype.one=vo("one"),oe(Ma,Ne);var le=Ia.prototype;le._onframe=function(){if(!this._disposed){var e=this._scheduler;if(this[Kn]){var t=this[Kn].silent;this[tn]=!0,Da(this),Jn.update.call(this),this[tn]=!1,this[Kn]=!1,Jr.call(this,t),Qr.call(this,t)}else if(e.unfinished){var n=1,i=this._model;this._api,e.unfinished=!1;do{var o=+new Date;e.performSeriesTasks(i),e.performDataProcessorTasks(i),mm(this,i),e.performVisualTasks(i),xh(this,this._model,0,"remain"),n-=+new Date-o}while(n>0&&e.unfinished);e.unfinished||this._zr.flush()}}},le.getDom=function(){return this._dom},le.getZr=function(){return this._zr},le.setOption=function(e,t,n){var i;if(sr(t)&&(n=t.lazyUpdate,i=t.silent,t=t.notMerge),this[tn]=!0,!this._model||t){var o=new hh(this._api),a=this._theme,r=this._model=new wl(null,null,a,o);r.scheduler=this._scheduler,r.init(null,null,a,o)}this._model.setOption(e,px),n?(this[Kn]={silent:i},this[tn]=!1):(Da(this),Jn.update.call(this),this._zr.flush(),this[Kn]=!1,this[tn]=!1,Jr.call(this,i),Qr.call(this,i))},le.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},le.getModel=function(){return this._model},le.getOption=function(){return this._model&&this._model.getOption()},le.getWidth=function(){return this._zr.getWidth()},le.getHeight=function(){return this._zr.getHeight()},le.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},le.getRenderedCanvas=function(e){if(ee.canvasSupported)return(e=e||{}).pixelRatio=e.pixelRatio||1,e.backgroundColor=e.backgroundColor||this._model.get("backgroundColor"),this._zr.painter.getRenderedCanvas(e)},le.getSvgDataUrl=function(){if(ee.svgSupported){var e=this._zr;return b(e.storage.getDisplayList(),function(t){t.stopAnimation(!0)}),e.painter.pathToDataUrl()}},le.getDataURL=function(e){var t=(e=e||{}).excludeComponents,n=this._model,i=[],o=this;Ge(t,function(r){n.eachComponent({mainType:r},function(s){var l=o._componentsMap[s.__viewId];l.group.ignore||(i.push(l),l.group.ignore=!0)})});var a=this._zr.painter.getType()==="svg"?this.getSvgDataUrl():this.getRenderedCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return Ge(i,function(r){r.group.ignore=!1}),a},le.getConnectedDataURL=function(e){if(ee.canvasSupported){var t=this.group,n=Math.min,i=Math.max;if(Ll[t]){var o=1/0,a=1/0,r=-1/0,s=-1/0,l=[],u=e&&e.pixelRatio||1;b(Gi,function(p,g){if(p.group===t){var m=p.getRenderedCanvas(Z(e)),v=p.getDom().getBoundingClientRect();o=n(v.left,o),a=n(v.top,a),r=i(v.right,r),s=i(v.bottom,s),l.push({dom:m,left:v.left,top:v.top})}});var h=(r*=u)-(o*=u),c=(s*=u)-(a*=u),d=ko();d.width=h,d.height=c;var f=Zu(d);return Ge(l,function(p){var g=new Ze({style:{x:p.left*u-o,y:p.top*u-a,image:p.dom}});f.add(g)}),f.refreshImmediately(),d.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}},le.convertToPixel=j(pm,"convertToPixel"),le.convertFromPixel=j(pm,"convertFromPixel"),le.containPixel=function(e,t){var n;return e=Gr(this._model,e),b(e,function(i,o){o.indexOf("Models")>=0&&b(i,function(a){var r=a.coordinateSystem;if(r&&r.containPoint)n|=!!r.containPoint(t);else if(o==="seriesModels"){var s=this._chartsMap[a.__viewId];s&&s.containPoint&&(n|=s.containPoint(t,a))}},this)},this),!!n},le.getVisual=function(e,t){var n=(e=Gr(this._model,e,{defaultMainType:"series"})).seriesModel.getData(),i=e.hasOwnProperty("dataIndexInside")?e.dataIndexInside:e.hasOwnProperty("dataIndex")?n.indexOfRawIndex(e.dataIndex):null;return i!=null?n.getItemVisual(i,t):n.getVisual(t)},le.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},le.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]};var Jn={prepareAndUpdate:function(e){Da(this),Jn.update.call(this,e)},update:function(e){var t=this._model,n=this._api,i=this._zr,o=this._coordSysMgr,a=this._scheduler;if(t){t.restoreData(e),a.performSeriesTasks(t),o.create(t,n),a.performDataProcessorTasks(t,e),mm(this,t),o.update(t,n),yh(t),a.performVisualTasks(t,e),xm(this,t,n,e);var r=t.get("backgroundColor")||"transparent";if(ee.canvasSupported)i.setBackgroundColor(r);else{var s=vt(r);r=gn(s,"rgb"),s[3]===0&&(r="transparent")}_h(t,n)}},updateTransform:function(e){var t=this._model,n=this,i=this._api;if(t){var o=[];t.eachComponent(function(r,s){var l=n.getViewOfComponentModel(s);if(l&&l.__alive)if(l.updateTransform){var u=l.updateTransform(s,t,i,e);u&&u.update&&o.push(l)}else o.push(l)});var a=K();t.eachSeries(function(r){var s=n._chartsMap[r.__viewId];if(s.updateTransform){var l=s.updateTransform(r,t,i,e);l&&l.update&&a.set(r.uid,1)}else a.set(r.uid,1)}),yh(t),this._scheduler.performVisualTasks(t,e,{setDirty:!0,dirtyMap:a}),xh(n,t,0,e,a),_h(t,this._api)}},updateView:function(e){var t=this._model;t&&(Ve.markUpdateMethod(e,"updateView"),yh(t),this._scheduler.performVisualTasks(t,e,{setDirty:!0}),xm(this,this._model,this._api,e),_h(t,this._api))},updateVisual:function(e){Jn.update.call(this,e)},updateLayout:function(e){Jn.update.call(this,e)}};le.resize=function(e){this._zr.resize(e);var t=this._model;if(this._loadingFX&&this._loadingFX.resize(),t){var n=t.resetOption("media"),i=e&&e.silent;this[tn]=!0,n&&Da(this),Jn.update.call(this),this[tn]=!1,Jr.call(this,i),Qr.call(this,i)}},le.showLoading=function(e,t){if(sr(e)&&(t=e,e=""),e=e||"default",this.hideLoading(),tf[e]){var n=tf[e](this._api,t),i=this._zr;this._loadingFX=n,i.add(n)}},le.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},le.makeActionFromEvent=function(e){var t=G({},e);return t.type=Tl[e.type],t},le.dispatchAction=function(e,t){sr(t)||(t={silent:!!t}),Al[e.type]&&this._model&&(this[tn]?this._pendingActions.push(e):(vm.call(this,e,t.silent),t.flush?this._zr.flush(!0):t.flush!==!1&&ee.browser.weChat&&this._throttledZrFlush(),Jr.call(this,t.silent),Qr.call(this,t.silent)))},le.appendData=function(e){var t=e.seriesIndex;this.getModel().getSeriesByIndex(t).appendData(e),this._scheduler.unfinished=!0},le.on=vo("on"),le.off=vo("off"),le.one=vo("one");var JT=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];le._initEvents=function(){Ge(JT,function(e){this._zr.on(e,function(t){var n,i=this.getModel(),o=t.target;if(e==="globalout")n={};else if(o&&o.dataIndex!=null){var a=o.dataModel||i.getSeriesByIndex(o.seriesIndex);n=a&&a.getDataParams(o.dataIndex,o.dataType)||{}}else o&&o.eventData&&(n=G({},o.eventData));n&&(n.event=t,n.type=e,this.trigger(e,n))},this)},this),Ge(Tl,function(e,t){this._messageCenter.on(t,function(n){this.trigger(t,n)},this)},this)},le.isDisposed=function(){return this._disposed},le.clear=function(){this.setOption({series:[]},!0)},le.dispose=function(){if(!this._disposed){this._disposed=!0,sg(this.getDom(),nf,"");var e=this._api,t=this._model;Ge(this._componentsViews,function(n){n.dispose(t,e)}),Ge(this._chartsViews,function(n){n.dispose(t,e)}),this._zr.dispose(),delete Gi[this.id]}},oe(Ia,Ne);var Al={},Tl={},ef=[],px=[],gx=[],Cl=[],mx={},tf={},Gi={},Ll={},QT=new Date-0,eC=new Date-0,nf="_echarts_instance_",vx={},tC=wm;ye(2e3,jT),He(tx),ut(5e3,function(e){var t=K();e.eachSeries(function(n){var i=n.get("stack");if(i){var o=t.get(i)||t.set(i,[]),a=n.getData(),r={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:n};if(!r.stackedDimension||!r.isStackedByIndex&&!r.stackedByDimension)return;o.length&&a.setCalculationInfo("stackedOnSeries",o[o.length-1].seriesModel),o.push(r)}}),t.each(_S)}),bm("default",function(e,t){W(t=t||{},{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var n=new pe({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4}),i=new H1({shape:{startAngle:-Il/2,endAngle:-Il/2+.1,r:10},style:{stroke:t.color,lineCap:"round",lineWidth:5},zlevel:t.zlevel,z:10001}),o=new pe({style:{fill:"none",text:t.text,textPosition:"right",textDistance:10,textFill:t.textColor},zlevel:t.zlevel,z:10001});i.animateShape(!0).when(1e3,{endAngle:3*Il/2}).start("circularInOut"),i.animateShape(!0).when(1e3,{startAngle:3*Il/2}).delay(300).start("circularInOut");var a=new V;return a.add(i),a.add(o),a.add(n),a.resize=function(){var r=e.getWidth()/2,s=e.getHeight()/2;i.setShape({cx:r,cy:s});var l=i.shape.r;o.setShape({x:r-l,y:s-l,width:2*l,height:2*l}),n.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},a.resize(),a}),se({type:"highlight",event:"highlight",update:"highlight"},We),se({type:"downplay",event:"downplay",update:"downplay"},We),bh("light",qT),bh("dark",lx);var nC={};xn.prototype={constructor:xn,add:function(e){return this._add=e,this},update:function(e){return this._update=e,this},remove:function(e){return this._remove=e,this},execute:function(){var e=this._old,t=this._new,n={},i=[],o=[];for(Mm(e,{},i,"_oldKeyGetter",this),Mm(t,n,o,"_newKeyGetter",this),a=0;a<e.length;a++)(s=n[r=i[a]])!=null?((u=s.length)?(u===1&&(n[r]=null),s=s.unshift()):n[r]=null,this._update&&this._update(s,a)):this._remove&&this._remove(a);for(var a=0;a<o.length;a++){var r=o[a];if(n.hasOwnProperty(r)){var s=n[r];if(s==null)continue;if(s.length)for(var l=0,u=s.length;l<u;l++)this._add&&this._add(s[l]);else this._add&&this._add(s)}}}};var yx=K(["tooltip","label","itemName","itemId","seriesName"]),kl=Y,Qn=typeof window=="undefined"?global:window,iC="e\0\0",oC={float:Qn.Float64Array===void 0?Array:Qn.Float64Array,int:Qn.Int32Array===void 0?Array:Qn.Int32Array,ordinal:Array,number:Array,time:Array},xx=Qn.Uint32Array===void 0?Array:Qn.Uint32Array,aC=Qn.Uint16Array===void 0?Array:Qn.Uint16Array,rC=["hasItemOption","_nameList","_idList","_calculationInfo","_invertedIndicesMap","_rawData","_rawExtent","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],Ee=function(e,t){e=e||["x","y"];for(var n={},i=[],o={},a=0;a<e.length;a++){var r=e[a];xe(r)&&(r={name:r});var s=r.name;r.type=r.type||"float",r.coordDim||(r.coordDim=s,r.coordDimIndex=0),r.otherDims=r.otherDims||{},i.push(s),n[s]=r,r.index=a,r.createInvertedIndices&&(o[s]=[])}this.dimensions=i,this._dimensionInfos=n,this.hostModel=t,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=jS(this),this._invertedIndicesMap=o,this._calculationInfo={}},F=Ee.prototype;F.type="list",F.hasItemOption=!0,F.getDimension=function(e){return isNaN(e)||(e=this.dimensions[e]||e),e},F.getDimensionInfo=function(e){return this._dimensionInfos[this.getDimension(e)]},F.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},F.mapDimension=function(e,t){var n=this._dimensionsSummary;if(t==null)return n.encodeFirstDimNotExtra[e];var i=n.encode[e];return t===!0?(i||[]).slice():i&&i[t]},F.initData=function(e,t,n){(kt.isInstance(e)||hn(e))&&(e=new nm(e,this.dimensions.length)),this._rawData=e,this._storage={},this._indices=null,this._nameList=t||[],this._idList=[],this._nameRepeatCount={},n||(this.hasItemOption=!1),this.defaultDimValueGetter=FT[this._rawData.getSource().sourceFormat],this._dimValueGetter=n=n||this.defaultDimValueGetter,this._rawExtent={},this._initDataFromProvider(0,e.count()),e.pure&&(this.hasItemOption=!1)},F.getProvider=function(){return this._rawData},F.appendData=function(e){var t=this._rawData,n=this.count();t.appendData(e);var i=t.count();t.persistent||(i+=n),this._initDataFromProvider(n,i)},F._initDataFromProvider=function(e,t){if(!(e>=t)){for(var n,i=this._chunkSize,o=this._rawData,a=this._storage,r=this.dimensions,s=this._dimensionInfos,l=this._nameList,u=this._idList,h=this._rawExtent,c=this._nameRepeatCount={},d=this._chunkCount,f=d-1,p=0;p<r.length;p++){h[D=r[p]]||(h[D]=[1/0,-1/0]);var g=s[D];g.otherDims.itemName===0&&(n=this._nameDimIdx=p),g.otherDims.itemId===0&&(this._idDimIdx=p);var m=oC[g.type];a[D]||(a[D]=[]);var v=a[D][f];if(v&&v.length<i){for(var y=new m(Math.min(t-f*i,i)),x=0;x<v.length;x++)y[x]=v[x];a[D][f]=y}for(I=d*i;I<t;I+=i)a[D].push(new m(Math.min(t-I,i)));this._chunkCount=a[D].length}for(var _=e;_<t;_++){for(var w=o.getItem(_),S=Math.floor(_/i),M=_%i,I=0;I<r.length;I++){var D=r[I],T=a[D][S],A=this._dimValueGetter(w,D,_,I);T[M]=A,A<h[D][0]&&(h[D][0]=A),A>h[D][1]&&(h[D][1]=A)}if(!o.pure){var L=l[_];w&&!L&&(n!=null?L=this._getNameFromStore(_):w.name!=null&&(l[_]=L=w.name));var k=w==null?null:w.id;k==null&&L!=null&&(c[L]=c[L]||0,k=L,c[L]>0&&(k+="__ec__"+c[L]),c[L]++),k!=null&&(u[_]=k)}}!o.persistent&&o.clean&&o.clean(),this._rawCount=this._count=t,this._extent={},YS(this)}},F._getNameFromStore=function(e){var t=this._nameDimIdx;if(t!=null){var n=this._chunkSize,i=Math.floor(e/n),o=e%n,a=this.dimensions[t],r=this._dimensionInfos[a].ordinalMeta;if(r)return r.categories[e];var s=this._storage[a][i];return s&&s[o]}},F._getIdFromStore=function(e){var t=this._idDimIdx;if(t!=null){var n=this._chunkSize,i=Math.floor(e/n),o=e%n,a=this.dimensions[t],r=this._dimensionInfos[a].ordinalMeta;if(r)return r.categories[e];var s=this._storage[a][i];return s&&s[o]}},F.count=function(){return this._count},F.getIndices=function(){if(this._indices)return new(e=this._indices.constructor)(this._indices.buffer,0,this._count);for(var e=ns(this),t=new e(this.count()),n=0;n<t.length;n++)t[n]=n;return t},F.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var n=this._storage;if(!n[e])return NaN;t=this.getRawIndex(t);var i=Math.floor(t/this._chunkSize),o=t%this._chunkSize;return n[e][i][o]},F.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var n=this._storage[e];if(!n)return NaN;var i=Math.floor(t/this._chunkSize),o=t%this._chunkSize;return n[i][o]},F._getFast=function(e,t){var n=Math.floor(t/this._chunkSize),i=t%this._chunkSize;return this._storage[e][n][i]},F.getValues=function(e,t){var n=[];O(e)||(t=e,e=this.dimensions);for(var i=0,o=e.length;i<o;i++)n.push(this.get(e[i],t));return n},F.hasValue=function(e){for(var t=this._dimensionsSummary.dataDimsOnCoord,n=this._dimensionInfos,i=0,o=t.length;i<o;i++)if(n[t[i]].type!=="ordinal"&&isNaN(this.get(t[i],e)))return!1;return!0},F.getDataExtent=function(e){e=this.getDimension(e);var t=[1/0,-1/0];if(!this._storage[e])return t;var n,i=this.count();if(!this._indices)return this._rawExtent[e].slice();if(n=this._extent[e])return n.slice();for(var o=(n=t)[0],a=n[1],r=0;r<i;r++){var s=this._getFast(e,this.getRawIndex(r));s<o&&(o=s),s>a&&(a=s)}return n=[o,a],this._extent[e]=n,n},F.getApproximateExtent=function(e){return e=this.getDimension(e),this._approximateExtent[e]||this.getDataExtent(e)},F.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},F.getCalculationInfo=function(e){return this._calculationInfo[e]},F.setCalculationInfo=function(e,t){kl(e)?G(this._calculationInfo,e):this._calculationInfo[e]=t},F.getSum=function(e){var t=0;if(this._storage[e])for(var n=0,i=this.count();n<i;n++){var o=this.get(e,n);isNaN(o)||(t+=o)}return t},F.rawIndexOf=function(e,t){var n=(e&&this._invertedIndicesMap[e])[t];return n==null||isNaN(n)?-1:n},F.indexOfName=function(e){for(var t=0,n=this.count();t<n;t++)if(this.getName(t)===e)return t;return-1},F.indexOfRawIndex=function(e){if(!this._indices)return e;if(e>=this._rawCount||e<0)return-1;var t=this._indices,n=t[e];if(n!=null&&n<this._count&&n===e)return e;for(var i=0,o=this._count-1;i<=o;){var a=(i+o)/2|0;if(t[a]<e)i=a+1;else{if(!(t[a]>e))return a;o=a-1}}return-1},F.indicesOfNearest=function(e,t,n){var i=[];if(!this._storage[e])return i;n==null&&(n=1/0);for(var o=Number.MAX_VALUE,a=-1,r=0,s=this.count();r<s;r++){var l=t-this.get(e,r),u=Math.abs(l);l<=n&&u<=o&&((u<o||l>=0&&a<0)&&(o=u,a=l,i.length=0),i.push(r))}return i},F.getRawIndex=Ta,F.getRawDataItem=function(e){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(e));for(var t=[],n=0;n<this.dimensions.length;n++){var i=this.dimensions[n];t.push(this.get(i,e))}return t},F.getName=function(e){var t=this.getRawIndex(e);return this._nameList[t]||this._getNameFromStore(t)||""},F.getId=function(e){return Ih(this,this.getRawIndex(e))},F.each=function(e,t,n,i){if(this._count){typeof e=="function"&&(i=n,n=t,t=e,e=[]),n=n||i||this;for(var o=(e=P(Dh(e),this.getDimension,this)).length,a=0;a<this.count();a++)switch(o){case 0:t.call(n,a);break;case 1:t.call(n,this.get(e[0],a),a);break;case 2:t.call(n,this.get(e[0],a),this.get(e[1],a),a);break;default:for(var r=0,s=[];r<o;r++)s[r]=this.get(e[r],a);s[r]=a,t.apply(n,s)}}},F.filterSelf=function(e,t,n,i){if(this._count){typeof e=="function"&&(i=n,n=t,t=e,e=[]),n=n||i||this,e=P(Dh(e),this.getDimension,this);for(var o=this.count(),a=new(ns(this))(o),r=[],s=e.length,l=0,u=e[0],h=0;h<o;h++){var c,d=this.getRawIndex(h);if(s===0)c=t.call(n,h);else if(s===1){var f=this._getFast(u,d);c=t.call(n,f,h)}else{for(var p=0;p<s;p++)r[p]=this._getFast(u,d);r[p]=h,c=t.apply(n,r)}c&&(a[l++]=d)}return l<o&&(this._indices=a),this._count=l,this._extent={},this.getRawIndex=this._indices?Ca:Ta,this}},F.selectRange=function(e){if(this._count){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);var i=t.length;if(i){var o=this.count(),a=new(ns(this))(o),r=0,s=t[0],l=e[s][0],u=e[s][1],h=!1;if(!this._indices){var c=0;if(i===1){for(var d=this._storage[t[0]],f=0;f<this._chunkCount;f++)for(var p=d[f],g=Math.min(this._count-f*this._chunkSize,this._chunkSize),m=0;m<g;m++)(w=p[m])>=l&&w<=u&&(a[r++]=c),c++;h=!0}else if(i===2){for(var d=this._storage[s],v=this._storage[t[1]],y=e[t[1]][0],x=e[t[1]][1],f=0;f<this._chunkCount;f++)for(var p=d[f],_=v[f],g=Math.min(this._count-f*this._chunkSize,this._chunkSize),m=0;m<g;m++){var w=p[m],S=_[m];w>=l&&w<=u&&S>=y&&S<=x&&(a[r++]=c),c++}h=!0}}if(!h)if(i===1)for(m=0;m<o;m++)I=this.getRawIndex(m),(w=this._getFast(s,I))>=l&&w<=u&&(a[r++]=I);else for(m=0;m<o;m++){for(var M=!0,I=this.getRawIndex(m),f=0;f<i;f++){var D=t[f];((w=this._getFast(n,I))<e[D][0]||w>e[D][1])&&(M=!1)}M&&(a[r++]=this.getRawIndex(m))}return r<o&&(this._indices=a),this._count=r,this._extent={},this.getRawIndex=this._indices?Ca:Ta,this}}},F.mapArray=function(e,t,n,i){typeof e=="function"&&(i=n,n=t,t=e,e=[]),n=n||i||this;var o=[];return this.each(e,function(){o.push(t&&t.apply(this,arguments))},n),o},F.map=function(e,t,n,i){n=n||i||this;var o=Dm(this,e=P(Dh(e),this.getDimension,this));o._indices=this._indices,o.getRawIndex=o._indices?Ca:Ta;for(var a=o._storage,r=[],s=this._chunkSize,l=e.length,u=this.count(),h=[],c=o._rawExtent,d=0;d<u;d++){for(var f=0;f<l;f++)h[f]=this.get(e[f],d);h[l]=d;var p=t&&t.apply(n,h);if(p!=null){typeof p!="object"&&(r[0]=p,p=r);for(var g=this.getRawIndex(d),m=Math.floor(g/s),v=g%s,y=0;y<p.length;y++){var x=e[y],_=p[y],w=c[x],S=a[x];S&&(S[m][v]=_),_<w[0]&&(w[0]=_),_>w[1]&&(w[1]=_)}}}return o},F.downSample=function(e,t,n,i){for(var o=Dm(this,[e]),a=o._storage,r=[],s=Math.floor(1/t),l=a[e],u=this.count(),h=this._chunkSize,c=o._rawExtent[e],d=new(ns(this))(u),f=0,p=0;p<u;p+=s){s>u-p&&(s=u-p,r.length=s);for(var g=0;g<s;g++){var m=this.getRawIndex(p+g),v=Math.floor(m/h),y=m%h;r[g]=l[v][y]}var x=n(r),_=this.getRawIndex(Math.min(p+i(r,x)||0,u-1)),w=_%h;l[Math.floor(_/h)][w]=x,x<c[0]&&(c[0]=x),x>c[1]&&(c[1]=x),d[f++]=_}return o._count=f,o._indices=d,o.getRawIndex=Ca,o},F.getItemModel=function(e){var t=this.hostModel;return new re(this.getRawDataItem(e),t,t&&t.ecModel)},F.diff=function(e){var t=this;return new xn(e?e.getIndices():[],this.getIndices(),function(n){return Ih(e,n)},function(n){return Ih(t,n)})},F.getVisual=function(e){var t=this._visual;return t&&t[e]},F.setVisual=function(e,t){if(kl(e))for(var n in e)e.hasOwnProperty(n)&&this.setVisual(n,e[n]);else this._visual=this._visual||{},this._visual[e]=t},F.setLayout=function(e,t){if(kl(e))for(var n in e)e.hasOwnProperty(n)&&this.setLayout(n,e[n]);else this._layout[e]=t},F.getLayout=function(e){return this._layout[e]},F.getItemLayout=function(e){return this._itemLayouts[e]},F.setItemLayout=function(e,t,n){this._itemLayouts[e]=n?G(this._itemLayouts[e]||{},t):t},F.clearItemLayouts=function(){this._itemLayouts.length=0},F.getItemVisual=function(e,t,n){var i=this._itemVisuals[e],o=i&&i[t];return o!=null||n?o:this.getVisual(t)},F.setItemVisual=function(e,t,n){var i=this._itemVisuals[e]||{},o=this.hasItemVisual;if(this._itemVisuals[e]=i,kl(t))for(var a in t)t.hasOwnProperty(a)&&(i[a]=t[a],o[a]=!0);else i[t]=n,o[t]=!0},F.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var sC=function(e){e.seriesIndex=this.seriesIndex,e.dataIndex=this.dataIndex,e.dataType=this.dataType};F.setItemGraphicEl=function(e,t){var n=this.hostModel;t&&(t.dataIndex=e,t.dataType=this.dataType,t.seriesIndex=n&&n.seriesIndex,t.type==="group"&&t.traverse(sC,t)),this._graphicEls[e]=t},F.getItemGraphicEl=function(e){return this._graphicEls[e]},F.eachItemGraphicEl=function(e,t){b(this._graphicEls,function(n,i){n&&e&&e.call(t,n,i)})},F.cloneShallow=function(e){if(!e){var t=P(this.dimensions,this.getDimensionInfo,this);e=new Ee(t,this.hostModel)}if(e._storage=this._storage,Im(e,this),this._indices){var n=this._indices.constructor;e._indices=new n(this._indices)}else e._indices=null;return e.getRawIndex=e._indices?Ca:Ta,e._extent=Z(this._extent),e._approximateExtent=Z(this._approximateExtent),e},F.wrapMethod=function(e,t){var n=this[e];typeof n=="function"&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var i=n.apply(this,arguments);return t.apply(this,[i].concat(mu(arguments)))})},F.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],F.CHANGABLE_METHODS=["filterSelf","selectRange"];var Zo=function(e,t){return t=t||{},Am(t.coordDimensions||[],e,{dimsDef:t.dimensionsDefine||e.dimensionsDefine,encodeDef:t.encodeDefine||e.encodeDefine,dimCount:t.dimensionsCount,generateCoord:t.generateCoord,generateCoordCount:t.generateCoordCount})};Ce.prototype.parse=function(e){return e},Ce.prototype.getSetting=function(e){return this._setting[e]},Ce.prototype.contain=function(e){var t=this._extent;return e>=t[0]&&e<=t[1]},Ce.prototype.normalize=function(e){var t=this._extent;return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])},Ce.prototype.scale=function(e){var t=this._extent;return e*(t[1]-t[0])+t[0]},Ce.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},Ce.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},Ce.prototype.getExtent=function(){return this._extent.slice()},Ce.prototype.setExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(t)||(n[1]=t)},Ce.prototype.getTicksLabels=function(){for(var e=[],t=this.getTicks(),n=0;n<t.length;n++)e.push(this.getLabel(t[n]));return e},Ce.prototype.isBlank=function(){return this._isBlank},Ce.prototype.setBlank=function(e){this._isBlank=e},va(Ce),Fr(Ce,{registerWhenExtend:!0}),La.createByAxisModel=function(e){var t=e.option,n=t.data,i=n&&P(n,tM);return new La({categories:i,needCollect:!i,deduplication:t.dedplication!==!1})};var _x=La.prototype;_x.getOrdinal=function(e){return Lm(this).get(e)},_x.parseAndCollect=function(e){var t,n=this._needCollect;if(typeof e!="string"&&!n)return e;if(n&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,t;var i=Lm(this);return(t=i.get(e))==null&&(n?(t=this.categories.length,this.categories[t]=e,i.set(e,t)):t=NaN),t};var of=Ce.prototype,af=Ce.extend({type:"ordinal",init:function(e,t){e&&!O(e)||(e=new La({categories:e})),this._ordinalMeta=e,this._extent=t||[0,e.categories.length-1]},parse:function(e){return typeof e=="string"?this._ordinalMeta.getOrdinal(e):Math.round(e)},contain:function(e){return e=this.parse(e),of.contain.call(this,e)&&this._ordinalMeta.categories[e]!=null},normalize:function(e){return of.normalize.call(this,this.parse(e))},scale:function(e){return Math.round(of.scale.call(this,e))},getTicks:function(){for(var e=[],t=this._extent,n=t[0];n<=t[1];)e.push(n),n++;return e},getLabel:function(e){return this._ordinalMeta.categories[e]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(e,t){this.unionExtent(e.getApproximateExtent(t))},niceTicks:We,niceExtent:We});af.create=function(){return new af};var rf=nt,sf=nt,nn=Ce.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(e,t){var n=this._extent;isNaN(e)||(n[0]=parseFloat(e)),isNaN(t)||(n[1]=parseFloat(t))},unionExtent:function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1]),nn.prototype.setExtent.call(this,t[0],t[1])},getInterval:function(){return this._interval},setInterval:function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=km(e)},getTicks:function(){return iM(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getTicksLabels:function(){for(var e=[],t=this.getTicks(),n=0;n<t.length;n++)e.push(this.getLabel(t[n]));return e},getLabel:function(e,t){if(e==null)return"";var n=t&&t.precision;return n==null?n=Ur(e)||0:n==="auto"&&(n=this._intervalPrecision),e=sf(e,n,!0),yi(e)},niceTicks:function(e,t,n){e=e||5;var i=this._extent,o=i[1]-i[0];if(isFinite(o)){o<0&&(o=-o,i.reverse());var a=nM(i,e,t,n);this._intervalPrecision=a.intervalPrecision,this._interval=a.interval,this._niceExtent=a.niceTickExtent}},niceExtent:function(e){var t=this._extent;if(t[0]===t[1])if(t[0]!==0){var n=t[0];e.fixMax||(t[1]+=n/2),t[0]-=n/2}else t[1]=1;var i=t[1]-t[0];isFinite(i)||(t[0]=0,t[1]=1),this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var o=this._interval;e.fixMin||(t[0]=sf(Math.floor(t[0]/o)*o)),e.fixMax||(t[1]=sf(Math.ceil(t[1]/o)*o))}});nn.create=function(){return new nn};var lf="__ec_stack_",lC=nn.prototype,bx=Math.ceil,Sx=Math.floor,uC=function(e,t,n,i){for(;n<i;){var o=n+i>>>1;e[o][1]<t?n=o+1:i=o}return n},uf=nn.extend({type:"time",getLabel:function(e){var t=this._stepLvl,n=new Date(e);return sh(t[0],n,this.getSetting("useUTC"))},niceExtent:function(e){var t=this._extent;if(t[0]===t[1]&&(t[0]-=864e5,t[1]+=864e5),t[1]===-1/0&&t[0]===1/0){var n=new Date;t[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),t[0]=t[1]-864e5}this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var i=this._interval;e.fixMin||(t[0]=nt(Sx(t[0]/i)*i)),e.fixMax||(t[1]=nt(bx(t[1]/i)*i))},niceTicks:function(e,t,n){e=e||10;var i=this._extent,o=i[1]-i[0],a=o/e;t!=null&&a<t&&(a=t),n!=null&&a>n&&(a=n);var r=hf.length,s=uC(hf,a,0,r),l=hf[Math.min(s,r-1)],u=l[1];l[0]==="year"&&(u*=oh(o/u/e,!0));var h=this.getSetting("useUTC")?0:60*new Date(+i[0]||+i[1]).getTimezoneOffset()*1e3,c=[Math.round(bx((i[0]-h)/u)*u+h),Math.round(Sx((i[1]-h)/u)*u+h)];Om(c,i),this._stepLvl=l,this._interval=u,this._niceExtent=c},parse:function(e){return+wa(e)}});b(["contain","normalize"],function(e){uf.prototype[e]=function(t){return lC[e].call(this,this.parse(t))}});var hf=[["hh:mm:ss",1e3],["hh:mm:ss",5e3],["hh:mm:ss",1e4],["hh:mm:ss",15e3],["hh:mm:ss",3e4],[`hh:mm
MM-dd`,6e4],[`hh:mm
MM-dd`,3e5],[`hh:mm
MM-dd`,6e5],[`hh:mm
MM-dd`,9e5],[`hh:mm
MM-dd`,18e5],[`hh:mm
MM-dd`,36e5],[`hh:mm
MM-dd`,72e5],[`hh:mm
MM-dd`,216e5],[`hh:mm
MM-dd`,432e5],[`MM-dd
yyyy`,864e5],[`MM-dd
yyyy`,1728e5],[`MM-dd
yyyy`,2592e5],[`MM-dd
yyyy`,3456e5],[`MM-dd
yyyy`,432e6],[`MM-dd
yyyy`,5184e5],["week",6048e5],[`MM-dd
yyyy`,864e6],["week",12096e5],["week",18144e5],["month",26784e5],["week",36288e5],["month",53568e5],["week",36288e5],["quarter",8208e6],["month",107136e5],["month",13392e6],["half-year",16416e6],["month",214272e5],["month",26784e6],["year",32832e6]];uf.create=function(e){return new uf({useUTC:e.ecModel.get("useUTC")})};var Pl=Ce.prototype,Ol=nn.prototype,hC=Ur,cC=nt,dC=Math.floor,fC=Math.ceil,Nl=Math.pow,on=Math.log,cf=Ce.extend({type:"log",base:10,$constructor:function(){Ce.apply(this,arguments),this._originalScale=new nn},getTicks:function(){var e=this._originalScale,t=this._extent,n=e.getExtent();return P(Ol.getTicks.call(this),function(i){var o=nt(Nl(this.base,i));return o=i===t[0]&&e.__fixMin?is(o,n[0]):o,o=i===t[1]&&e.__fixMax?is(o,n[1]):o},this)},getLabel:Ol.getLabel,scale:function(e){return e=Pl.scale.call(this,e),Nl(this.base,e)},setExtent:function(e,t){var n=this.base;e=on(e)/on(n),t=on(t)/on(n),Ol.setExtent.call(this,e,t)},getExtent:function(){var e=this.base,t=Pl.getExtent.call(this);t[0]=Nl(e,t[0]),t[1]=Nl(e,t[1]);var n=this._originalScale,i=n.getExtent();return n.__fixMin&&(t[0]=is(t[0],i[0])),n.__fixMax&&(t[1]=is(t[1],i[1])),t},unionExtent:function(e){this._originalScale.unionExtent(e);var t=this.base;e[0]=on(e[0])/on(t),e[1]=on(e[1])/on(t),Pl.unionExtent.call(this,e)},unionExtentFromData:function(e,t){this.unionExtent(e.getApproximateExtent(t))},niceTicks:function(e){e=e||10;var t=this._extent,n=t[1]-t[0];if(!(n===1/0||n<=0)){var i=Wg(n);for(e/n*i<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0;)i*=10;var o=[nt(fC(t[0]/i)*i),nt(dC(t[1]/i)*i)];this._interval=i,this._niceExtent=o}},niceExtent:function(e){Ol.niceExtent.call(this,e);var t=this._originalScale;t.__fixMin=e.fixMin,t.__fixMax=e.fixMax}});b(["contain","normalize"],function(e){cf.prototype[e]=function(t){return t=on(t)/on(this.base),Pl[e].call(this,t)}}),cf.create=function(){return new cf};var Wi={getFormattedLabels:function(){return Ah(this.axis,this.get("axisLabel.formatter"))},getMin:function(e){var t=this.option,n=e||t.rangeStart==null?t.min:t.rangeStart;return this.axis&&n!=null&&n!=="dataMin"&&typeof n!="function"&&!sa(n)&&(n=this.axis.scale.parse(n)),n},getMax:function(e){var t=this.option,n=e||t.rangeEnd==null?t.max:t.rangeEnd;return this.axis&&n!=null&&n!=="dataMax"&&typeof n!="function"&&!sa(n)&&(n=this.axis.scale.parse(n)),n},getNeedCrossZero:function(){var e=this.option;return e.rangeStart==null&&e.rangeEnd==null&&!e.scale},getCoordSysModel:We,setRange:function(e,t){this.option.rangeStart=e,this.option.rangeEnd=t},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},pC=Ht({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,i=t.cy,o=t.width/2,a=t.height/2;e.moveTo(n,i-a),e.lineTo(n+o,i+a),e.lineTo(n-o,i+a),e.closePath()}}),gC=Ht({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,i=t.cy,o=t.width/2,a=t.height/2;e.moveTo(n,i-a),e.lineTo(n+o,i),e.lineTo(n,i+a),e.lineTo(n-o,i),e.closePath()}}),mC=Ht({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,i=t.y,o=t.width/5*3,a=Math.max(o,t.height),r=o/2,s=r*r/(a-r),l=i-a+r+s,u=Math.asin(s/r),h=Math.cos(u)*r,c=Math.sin(u),d=Math.cos(u),f=.6*r,p=.7*r;e.moveTo(n-h,l+s),e.arc(n,l,r,Math.PI-u,2*Math.PI+u),e.bezierCurveTo(n+h-c*f,l+s+d*f,n,i-p,n,i),e.bezierCurveTo(n,i-p,n-h+c*f,l+s+d*f,n-h,l+s),e.closePath()}}),vC=Ht({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.height,i=t.width,o=t.x,a=t.y,r=i/3*2;e.moveTo(o,a),e.lineTo(o+r,a+n),e.lineTo(o,a+n/4*3),e.lineTo(o-r,a+n),e.lineTo(o,a),e.closePath()}}),yC={line:function(e,t,n,i,o){o.x1=e,o.y1=t+i/2,o.x2=e+n,o.y2=t+i/2},rect:function(e,t,n,i,o){o.x=e,o.y=t,o.width=n,o.height=i},roundRect:function(e,t,n,i,o){o.x=e,o.y=t,o.width=n,o.height=i,o.r=Math.min(n,i)/4},square:function(e,t,n,i,o){var a=Math.min(n,i);o.x=e,o.y=t,o.width=a,o.height=a},circle:function(e,t,n,i,o){o.cx=e+n/2,o.cy=t+i/2,o.r=Math.min(n,i)/2},diamond:function(e,t,n,i,o){o.cx=e+n/2,o.cy=t+i/2,o.width=n,o.height=i},pin:function(e,t,n,i,o){o.x=e+n/2,o.y=t+i/2,o.width=n,o.height=i},arrow:function(e,t,n,i,o){o.x=e+n/2,o.y=t+i/2,o.width=n,o.height=i},triangle:function(e,t,n,i,o){o.cx=e+n/2,o.cy=t+i/2,o.width=n,o.height=i}},df={};b({line:Mt,rect:pe,roundRect:pe,square:pe,circle:Ei,diamond:gC,pin:mC,arrow:vC,triangle:pC},function(e,t){df[t]=new e});var xC=Ht({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var e=this.style;this.shape.symbolType==="pin"&&e.textPosition==="inside"&&(e.textPosition=["50%","40%"],e.textAlign="center",e.textVerticalAlign="middle")},buildPath:function(e,t,n){var i=t.symbolType,o=df[i];t.symbolType!=="none"&&(o||(o=df[i="rect"]),yC[i](t.x,t.y,t.width,t.height,o.shape),o.buildPath(e,o.shape,n))}}),_C={isDimensionStacked:_i,enableDataStack:Cm},wC=(Object.freeze||Object)({createList:function(e){return _n(e.getSource(),e)},getLayoutRect:Pe,dataStack:_C,createScale:function(e,t){var n=t;re.isInstance(t)||oe(n=new re(t),Wi);var i=yo(n);return i.setExtent(e[0],e[1]),wi(i,n),i},mixinAxisModelCommonMethods:function(e){oe(e,Wi)},completeDimensions:Am,createDimensions:Zo,createSymbol:ht}),bC=1e-8;os.prototype={constructor:os,properties:null,getBoundingRect:function(){var e=this._rect;if(e)return e;for(var t=Number.MAX_VALUE,n=[t,t],i=[-t,-t],o=[],a=[],r=this.geometries,s=0;s<r.length;s++)r[s].type==="polygon"&&(fg(r[s].exterior,o,a),fn(n,n,o),pn(i,i,a));return s===0&&(n[0]=n[1]=i[0]=i[1]=0),this._rect=new Q(n[0],n[1],i[0]-n[0],i[1]-n[1])},contain:function(e){var t=this.getBoundingRect(),n=this.geometries;if(!t.contain(e[0],e[1]))return!1;e:for(var i=0,o=n.length;i<o;i++)if(n[i].type==="polygon"){var a=n[i].exterior,r=n[i].interiors;if(bi(a,e[0],e[1])){for(var s=0;s<(r?r.length:0);s++)if(bi(r[s]))continue e;return!0}}return!1},transformTo:function(e,t,n,i){var o=this.getBoundingRect(),a=o.width/o.height;n?i||(i=n/a):n=a*i;for(var r=new Q(e,t,n,i),s=o.calculateTransform(r),l=this.geometries,u=0;u<l.length;u++)if(l[u].type==="polygon"){for(var h=l[u].exterior,c=l[u].interiors,d=0;d<h.length;d++)ge(h[d],h[d],s);for(var f=0;f<(c?c.length:0);f++)for(d=0;d<c[f].length;d++)ge(c[f][d],c[f][d],s)}(o=this._rect).copy(r),this.center=[o.x+o.width/2,o.y+o.height/2]}};var ff=function(e){return sM(e),P(ke(e.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var n=t.properties,i=t.geometry,o=i.coordinates,a=[];i.type==="Polygon"&&a.push({type:"polygon",exterior:o[0],interiors:o.slice(1)}),i.type==="MultiPolygon"&&b(o,function(s){s[0]&&a.push({type:"polygon",exterior:s[0],interiors:s.slice(1)})});var r=new os(n.name,a,n.cp);return r.properties=n,r})},Mx=Ie,Ix=[0,1],Le=function(e,t,n){this.dim=e,this.scale=t,this._extent=n||[0,0],this.inverse=!1,this.onBand=!1,this._labelInterval};Le.prototype={constructor:Le,contain:function(e){var t=this._extent,n=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return e>=n&&e<=i},containData:function(e){return this.contain(this.dataToCoord(e))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(e){return nh(e||this.scale.getExtent(),this._extent)},setExtent:function(e,t){var n=this._extent;n[0]=e,n[1]=t},dataToCoord:function(e,t){var n=this._extent,i=this.scale;return e=i.normalize(e),this.onBand&&i.type==="ordinal"&&Hm(n=n.slice(),i.count()),Mx(e,Ix,n,t)},coordToData:function(e,t){var n=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&Hm(n=n.slice(),i.count());var o=Mx(e,n,Ix,t);return this.scale.scale(o)},pointToData:function(e,t){},getTicksCoords:function(e){if(this.onBand&&!e){for(var t=this.getBands(),n=[],i=0;i<t.length;i++)n.push(t[i][0]);return t[i-1]&&n.push(t[i-1][1]),n}return P(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){return P(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){for(var e=this.getExtent(),t=[],n=this.scale.count(),i=e[0],o=e[1]-i,a=0;a<n;a++)t.push([o*a/n+i,o*(a+1)/n+i]);return t},getBandWidth:function(){var e=this._extent,t=this.scale.getExtent(),n=t[1]-t[0]+(this.onBand?1:0);n===0&&(n=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/n},isHorizontal:null,getRotate:null,getLabelInterval:function(){var e=this._labelInterval;if(!e){var t=this.model,n=t.getModel("axisLabel");e=n.get("interval"),this.type!=="category"||e!=null&&e!=="auto"||(e=Gm(P(this.scale.getTicks(),this.dataToCoord,this),t.getFormattedLabels(),n.getFont(),this.getRotate?this.getRotate():this.isHorizontal&&!this.isHorizontal()?90:0,n.get("rotate"))),this._labelInterval=e}return e}};var SC=ff,Dx={};b(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(e){Dx[e]=WA[e]}),it({type:"dataset",defaultOption:{seriesLayoutBy:J1,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){Qb(this)}}),Oe({type:"dataset"}),Ae.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(e,t){return _n(this.getSource(),this)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});var Rt=xo.prototype;Rt._createSymbol=function(e,t,n,i){this.removeAll();var o=ht(e,-1,-1,2,2,t.getItemVisual(n,"color"));o.attr({z2:100,culling:!0,scale:Ch(i)}),o.drift=uM,this._symbolType=e,this.add(o)},Rt.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(e)},Rt.getSymbolPath=function(){return this.childAt(0)},Rt.getScale=function(){return this.childAt(0).scale},Rt.highlight=function(){this.childAt(0).trigger("emphasis")},Rt.downplay=function(){this.childAt(0).trigger("normal")},Rt.setZ=function(e,t){var n=this.childAt(0);n.zlevel=e,n.z=t},Rt.setDraggable=function(e){var t=this.childAt(0);t.draggable=e,t.cursor=e?"move":"pointer"},Rt.updateData=function(e,t,n){this.silent=!1;var i=e.getItemVisual(t,"symbol")||"circle",o=e.hostModel,a=lM(e,t),r=i!==this._symbolType;if(r?this._createSymbol(i,e,t,a):((s=this.childAt(0)).silent=!1,J(s,{scale:Ch(a)},o,t)),this._updateCommon(e,t,a,n),r){var s=this.childAt(0),l=n&&n.fadeIn,u={scale:s.scale.slice()};l&&(u.style={opacity:s.style.opacity}),s.scale=[0,0],l&&(s.style.opacity=0),Je(s,u,o,t)}this._seriesModel=o};var MC=["itemStyle"],IC=["emphasis","itemStyle"],DC=["label"],AC=["emphasis","label"];Rt._updateCommon=function(e,t,n,i){var o=this.childAt(0),a=e.hostModel,r=e.getItemVisual(t,"color");o.type!=="image"&&o.useStyle({strokeNoScale:!0});var s=i&&i.itemStyle,l=i&&i.hoverItemStyle,u=i&&i.symbolRotate,h=i&&i.symbolOffset,c=i&&i.labelModel,d=i&&i.hoverLabelModel,f=i&&i.hoverAnimation,p=i&&i.cursorStyle;if(!i||e.hasItemOption){var g=i&&i.itemModel?i.itemModel:e.getItemModel(t);s=g.getModel(MC).getItemStyle(["color"]),l=g.getModel(IC).getItemStyle(),u=g.getShallow("symbolRotate"),h=g.getShallow("symbolOffset"),c=g.getModel(DC),d=g.getModel(AC),f=g.getShallow("hoverAnimation"),p=g.getShallow("cursor")}else l=G({},l);var m=o.style;o.attr("rotation",(u||0)*Math.PI/180||0),h&&o.attr("position",[E(h[0],n[0]),E(h[1],n[1])]),p&&o.attr("cursor",p),o.setColor(r,i&&i.symbolInnerColor),o.setStyle(s);var v=e.getItemVisual(t,"opacity");v!=null&&(m.opacity=v);var y=i&&i.useNameLabel;yt(m,l,c,d,{labelFetcher:a,labelDataIndex:t,defaultText:function(S,M){return y?e.getName(S):as(e,S)},isRectText:!0,autoColor:r}),o.off("mouseover").off("mouseout").off("emphasis").off("normal"),o.hoverStyle=l,ve(o);var x=Ch(n);if(f&&a.isAnimationEnabled()){var _=function(){if(!this.incremental){var S=x[1]/x[0];this.animateTo({scale:[Math.max(1.1*x[0],x[0]+3),Math.max(1.1*x[1],x[1]+3*S)]},400,"elasticOut")}},w=function(){this.incremental||this.animateTo({scale:x},400,"elasticOut")};o.on("mouseover",_).on("mouseout",w).on("emphasis",_).on("normal",w)}},Rt.fadeOut=function(e,t){var n=this.childAt(0);this.silent=n.silent=!0,!(t&&t.keepLabel)&&(n.style.text=null),J(n,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,e)},he(xo,V);var Uo=_o.prototype;Uo.updateData=function(e,t){t=Zm(t);var n=this.group,i=e.hostModel,o=this._data,a=this._symbolCtor,r=Um(e);o||n.removeAll(),e.diff(o).add(function(s){var l=e.getItemLayout(s);if(Lh(e,l,s,t)){var u=new a(e,s,r);u.attr("position",l),e.setItemGraphicEl(s,u),n.add(u)}}).update(function(s,l){var u=o.getItemGraphicEl(l),h=e.getItemLayout(s);Lh(e,h,s,t)?(u?(u.updateData(e,s,r),J(u,{position:h},i)):(u=new a(e,s)).attr("position",h),n.add(u),e.setItemGraphicEl(s,u)):n.remove(u)}).remove(function(s){var l=o.getItemGraphicEl(s);l&&l.fadeOut(function(){n.remove(l)})}).execute(),this._data=e},Uo.isPersistent=function(){return!0},Uo.updateLayout=function(){var e=this._data;e&&e.eachItemGraphicEl(function(t,n){var i=e.getItemLayout(n);t.attr("position",i)})},Uo.incrementalPrepareUpdate=function(e){this._seriesScope=Um(e),this._data=null,this.group.removeAll()},Uo.incrementalUpdate=function(e,t,n){n=Zm(n);for(var i=e.start;i<e.end;i++){var o=t.getItemLayout(i);if(Lh(t,o,i,n)){var a=new this._symbolCtor(t,i,this._seriesScope);a.traverse(function(r){r.isGroup||(r.incremental=r.useHoverLayer=!0)}),a.attr("position",o),this.group.add(a),t.setItemGraphicEl(i,a)}}},Uo.remove=function(e){var t=this.group,n=this._data;n&&e?n.eachItemGraphicEl(function(i){i.fadeOut(function(){t.remove(i)})}):t.removeAll()};var TC=function(e,t,n,i,o,a,r,s){for(var l=cM(e,t),u=[],h=[],c=[],d=[],f=[],p=[],g=[],m=kh(o,t,r),v=kh(a,e,s),y=0;y<l.length;y++){var x=l[y],_=!0;switch(x.cmd){case"=":var w=e.getItemLayout(x.idx),S=t.getItemLayout(x.idx1);(isNaN(w[0])||isNaN(w[1]))&&(w=S.slice()),u.push(w),h.push(S),c.push(n[x.idx]),d.push(i[x.idx1]),g.push(t.getRawIndex(x.idx1));break;case"+":M=x.idx,u.push(o.dataToPoint([t.get(m.dataDimsForPoint[0],M),t.get(m.dataDimsForPoint[1],M)])),h.push(t.getItemLayout(M).slice()),c.push(Ph(m,o,t,M)),d.push(i[M]),g.push(t.getRawIndex(M));break;case"-":var M=x.idx,I=e.getRawIndex(M);I!==M?(u.push(e.getItemLayout(M)),h.push(a.dataToPoint([e.get(v.dataDimsForPoint[0],M),e.get(v.dataDimsForPoint[1],M)])),c.push(n[M]),d.push(Ph(v,a,e,M)),g.push(I)):_=!1}_&&(f.push(x),p.push(p.length))}p.sort(function(C,N){return g[C]-g[N]});for(var D=[],T=[],A=[],L=[],k=[],y=0;y<p.length;y++)M=p[y],D[y]=u[M],T[y]=h[M],A[y]=c[M],L[y]=d[M],k[y]=f[M];return{current:D,next:T,stackedOnCurrent:A,stackedOnNext:L,status:k}},Ax=fn,Tx=pn,Cx=la,El=Fe,pf=[],It=[],Dt=[],CC=ae.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:Vd(ae.prototype.brush),buildPath:function(e,t){var n=t.points,i=0,o=n.length,a=zh(n,t.smoothConstraint);if(t.connectNulls){for(;o>0&&wn(n[o-1]);o--);for(;i<o&&wn(n[i]);i++);}for(;i<o;)i+=Oh(e,n,i,o,o,1,a.min,a.max,t.smooth,t.smoothMonotone,t.connectNulls)+1}}),Lx=ae.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:Vd(ae.prototype.brush),buildPath:function(e,t){var n=t.points,i=t.stackedOnPoints,o=0,a=n.length,r=t.smoothMonotone,s=zh(n,t.smoothConstraint),l=zh(i,t.smoothConstraint);if(t.connectNulls){for(;a>0&&wn(n[a-1]);a--);for(;o<a&&wn(n[o]);o++);}for(;o<a;){var u=Oh(e,n,o,a,a,1,s.min,s.max,t.smooth,r,t.connectNulls);Oh(e,i,o+u-1,u,a,-1,l.min,l.max,t.stackedOnSmooth,r,t.connectNulls),o+=u+1,e.closePath()}}});Ve.extend({type:"line",init:function(){var e=new V,t=new _o;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e},render:function(e,t,n){var i=e.coordinateSystem,o=this.group,a=e.getData(),r=e.getModel("lineStyle"),s=e.getModel("areaStyle"),l=a.mapArray(a.getItemLayout),u=i.type==="polar",h=this._coordSys,c=this._symbolDraw,d=this._polyline,f=this._polygon,p=this._lineGroup,g=e.get("animation"),m=!s.isEmpty(),v=s.get("origin"),y=dM(i,a,kh(i,a,v)),x=e.get("showSymbol"),_=x&&!u&&!e.get("showAllSymbol")&&this._getSymbolIgnoreFunc(a,i),w=this._data;w&&w.eachItemGraphicEl(function(L,k){L.__temp&&(o.remove(L),w.setItemGraphicEl(k,null))}),x||c.remove(),o.add(p);var S=!u&&e.get("step");if(d&&h.type===i.type&&S===this._step){m&&!f?f=this._newPolygon(l,y,i,g):f&&!m&&(p.remove(f),f=this._polygon=null);var M=Rh(i,!1,e);p.setClipPath(M),x&&c.updateData(a,{isIgnore:_,clipShape:M}),a.eachItemGraphicEl(function(L){L.stopAnimation(!0)}),Xm(this._stackedOnPoints,y)&&Xm(this._points,l)||(g?this._updateAnimation(a,y,i,n,S,v):(S&&(l=Gn(l,i,S),y=Gn(y,i,S)),d.setShape({points:l}),f&&f.setShape({points:l,stackedOnPoints:y})))}else x&&c.updateData(a,{isIgnore:_,clipShape:Rh(i,!1,e)}),S&&(l=Gn(l,i,S),y=Gn(y,i,S)),d=this._newPolyline(l,i,g),m&&(f=this._newPolygon(l,y,i,g)),p.setClipPath(Rh(i,!0,e));var I=gM(a,i)||a.getVisual("color");d.useStyle(W(r.getLineStyle(),{fill:"none",stroke:I,lineJoin:"bevel"}));var D=e.get("smooth");if(D=qm(e.get("smooth")),d.setShape({smooth:D,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")}),f){var T=a.getCalculationInfo("stackedOnSeries"),A=0;f.useStyle(W(s.getAreaStyle(),{fill:I,opacity:.7,lineJoin:"bevel"})),T&&(A=qm(T.get("smooth"))),f.setShape({smooth:D,stackedOnSmooth:A,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")})}this._data=a,this._coordSys=i,this._stackedOnPoints=y,this._points=l,this._step=S,this._valueOrigin=v},dispose:function(){},highlight:function(e,t,n,i){var o=e.getData(),a=Vr(o,i);if(!(a instanceof Array)&&a!=null&&a>=0){var r=o.getItemGraphicEl(a);if(!r){var s=o.getItemLayout(a);if(!s)return;(r=new xo(o,a)).position=s,r.setZ(e.get("zlevel"),e.get("z")),r.ignore=isNaN(s[0])||isNaN(s[1]),r.__temp=!0,o.setItemGraphicEl(a,r),r.stopSymbolAnimation(!0),this.group.add(r)}r.highlight()}else Ve.prototype.highlight.call(this,e,t,n,i)},downplay:function(e,t,n,i){var o=e.getData(),a=Vr(o,i);if(a!=null&&a>=0){var r=o.getItemGraphicEl(a);r&&(r.__temp?(o.setItemGraphicEl(a,null),this.group.remove(r)):r.downplay())}else Ve.prototype.downplay.call(this,e,t,n,i)},_newPolyline:function(e){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new CC({shape:{points:e},silent:!0,z2:10}),this._lineGroup.add(t),this._polyline=t,t},_newPolygon:function(e,t){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new Lx({shape:{points:e,stackedOnPoints:t},silent:!0}),this._lineGroup.add(n),this._polygon=n,n},_getSymbolIgnoreFunc:function(e,t){var n=t.getAxesByScale("ordinal")[0];if(n&&n.isLabelIgnored)return U(n.isLabelIgnored,n)},_updateAnimation:function(e,t,n,i,o,a){var r=this._polyline,s=this._polygon,l=e.hostModel,u=TC(this._data,e,this._stackedOnPoints,t,this._coordSys,n,this._valueOrigin,a),h=u.current,c=u.stackedOnCurrent,d=u.next,f=u.stackedOnNext;o&&(h=Gn(u.current,n,o),c=Gn(u.stackedOnCurrent,n,o),d=Gn(u.next,n,o),f=Gn(u.stackedOnNext,n,o)),r.shape.__points=u.current,r.shape.points=h,J(r,{shape:{points:d}},l),s&&(s.setShape({points:h,stackedOnPoints:c}),J(s,{shape:{points:d,stackedOnPoints:f}},l));for(var p=[],g=u.status,m=0;m<g.length;m++)if(g[m].cmd==="="){var v=e.getItemGraphicEl(g[m].idx1);v&&p.push({el:v,ptIdx:m})}r.animators&&r.animators.length&&r.animators[0].during(function(){for(var y=0;y<p.length;y++)p[y].el.attr("position",r.shape.__points[p[y].ptIdx])})},remove:function(e){var t=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(i,o){i.__temp&&(t.remove(i),n.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var Fi=function(e,t,n){return{seriesType:e,performRawSeries:!0,reset:function(i,o,a){var r=i.getData(),s=i.get("symbol")||t,l=i.get("symbolSize");if(r.setVisual({legendSymbol:n||s,symbol:s,symbolSize:l}),!o.isSeriesFiltered(i)){var u=typeof l=="function";return{dataEach:r.hasItemOption||u?function(h,c){if(typeof l=="function"){var d=i.getRawValue(c),f=i.getDataParams(c);h.setItemVisual(c,"symbolSize",l(d,f))}if(h.hasItemOption){var p=h.getItemModel(c),g=p.getShallow("symbol",!0),m=p.getShallow("symbolSize",!0);g!=null&&h.setItemVisual(c,"symbol",g),m!=null&&h.setItemVisual(c,"symbolSize",m)}}:null}}}}},lr=function(e){return{seriesType:e,plan:Kd(),reset:function(t){var n=t.getData(),i=t.coordinateSystem,o=t.pipelineContext.large;if(i){var a=P(i.dimensions,function(s){return n.mapDimension(s)}).slice(0,2),r=a.length;return _i(n,a[0],a[1])&&(a[0]=n.getCalculationInfo("stackResultDimension")),_i(n,a[1],a[0])&&(a[1]=n.getCalculationInfo("stackResultDimension")),r&&{progress:function(s,l){for(var u=s.end-s.start,h=o&&new Float32Array(u*r),c=s.start,d=0,f=[],p=[];c<s.end;c++){var g;if(r===1)m=l.get(a[0],c,!0),g=!isNaN(m)&&i.dataToPoint(m,null,p);else{var m=f[0]=l.get(a[0],c,!0),v=f[1]=l.get(a[1],c,!0);g=!isNaN(m)&&!isNaN(v)&&i.dataToPoint(f,null,p)}o?(h[d++]=g?g[0]:NaN,h[d++]=g?g[1]:NaN):l.setItemLayout(c,g&&g.slice()||[NaN,NaN])}o&&l.setLayout("symbolPoints",h)}}}}}},LC={average:function(e){for(var t=0,n=0,i=0;i<e.length;i++)isNaN(e[i])||(t+=e[i],n++);return n===0?NaN:t/n},sum:function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n]||0;return t},max:function(e){for(var t=-1/0,n=0;n<e.length;n++)e[n]>t&&(t=e[n]);return t},min:function(e){for(var t=1/0,n=0;n<e.length;n++)e[n]<t&&(t=e[n]);return t},nearest:function(e){return e[0]}},kC=function(e,t){return Math.round(e.length/2)},zl=function(e){this._axes={},this._dimList=[],this.name=e||""};zl.prototype={constructor:zl,type:"cartesian",getAxis:function(e){return this._axes[e]},getAxes:function(){return P(this._dimList,mM,this)},getAxesByScale:function(e){return e=e.toLowerCase(),ke(this.getAxes(),function(t){return t.scale.type===e})},addAxis:function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},dataToCoord:function(e){return this._dataCoordConvert(e,"dataToCoord")},coordToData:function(e){return this._dataCoordConvert(e,"coordToData")},_dataCoordConvert:function(e,t){for(var n=this._dimList,i=e instanceof Array?[]:{},o=0;o<n.length;o++){var a=n[o],r=this._axes[a];i[a]=r[t](e[a])}return i}},ka.prototype={constructor:ka,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(e){var t=this.getAxis("x"),n=this.getAxis("y");return t.contain(t.toLocalCoord(e[0]))&&n.contain(n.toLocalCoord(e[1]))},containData:function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},dataToPoint:function(e,t,n){var i=this.getAxis("x"),o=this.getAxis("y");return n=n||[],n[0]=i.toGlobalCoord(i.dataToCoord(e[0])),n[1]=o.toGlobalCoord(o.dataToCoord(e[1])),n},clampData:function(e,t){var n=this.getAxis("x").scale.getExtent(),i=this.getAxis("y").scale.getExtent();return t=t||[],t[0]=Math.min(Math.max(Math.min(n[0],n[1]),e[0]),Math.max(n[0],n[1])),t[1]=Math.min(Math.max(Math.min(i[0],i[1]),e[1]),Math.max(i[0],i[1])),t},pointToData:function(e,t){var n=this.getAxis("x"),i=this.getAxis("y");return t=t||[],t[0]=n.coordToData(n.toLocalCoord(e[0])),t[1]=i.coordToData(i.toLocalCoord(e[1])),t},getOtherAxis:function(e){return this.getAxis(e.dim==="x"?"y":"x")}},he(ka,zl);var Rl=function(e,t,n,i,o){Le.call(this,e,t,n),this.type=i||"value",this.position=o||"bottom"};Rl.prototype={constructor:Rl,index:0,onZero:!1,model:null,isHorizontal:function(){var e=this.position;return e==="top"||e==="bottom"},getGlobalExtent:function(e){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),e&&t[0]>t[1]&&t.reverse(),t},getOtherAxis:function(){this.grid.getOtherAxis()},isLabelIgnored:function(e){if(this.type==="category"){var t=this.getLabelInterval();return typeof t=="function"&&!t(e,this.scale.getLabel(e))||e%(t+1)}},pointToData:function(e,t){return this.coordToData(this.toLocalCoord(e[this.dim==="x"?0:1]),t)},toLocalCoord:null,toGlobalCoord:null},he(Rl,Le);var kx={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},ei={};ei.categoryAxis=q({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},kx),ei.valueAxis=q({boundaryGap:[0,0],splitNumber:5},kx),ei.timeAxis=W({scale:!0,min:"dataMin",max:"dataMax"},ei.valueAxis),ei.logAxis=W({scale:!0,logBase:10},ei.valueAxis);var PC=["value","category","time","log"],jo=function(e,t,n,i){b(PC,function(o){t.extend({type:e+"Axis."+o,mergeDefaultAndTheme:function(a,r){var s=this.layoutMode,l=s?go(a):{};q(a,r.getTheme().get(o+"Axis")),q(a,this.getDefaultOption()),a.type=n(e,a),s&&Vn(a,l,s)},optionUpdated:function(){this.option.type==="category"&&(this.__ordinalMeta=La.createByAxisModel(this))},getCategories:function(){if(this.option.type==="category")return this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:aa([{},ei[o+"Axis"],i],!0)})}),ie.registerSubTypeDefaulter(e+"Axis",j(n,e))},Xo=ie.extend({type:"cartesian2dAxis",axis:null,init:function(){Xo.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){Xo.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){Xo.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});q(Xo.prototype,Wi);var Px={offset:0};jo("x",Xo,$m,Px),jo("y",Xo,$m,Px),ie.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});var an=b,OC=function(e){var t=e.scale.getExtent(),n=t[0],i=t[1];return!(n>0&&i>0||n<0&&i<0)},Ox=wi,Ye=wo.prototype;Ye.type="grid",Ye.axisPointerEnabled=!0,Ye.getRect=function(){return this._rect},Ye.update=function(e,t){var n=this._axesMap;this._updateScale(e,this.model),an(n.x,function(i){Ox(i.scale,i.model)}),an(n.y,function(i){Ox(i.scale,i.model)}),an(n.x,function(i){Km(n,"y",i)}),an(n.y,function(i){Km(n,"x",i)}),this.resize(this.model,t)},Ye.resize=function(e,t,n){function i(){an(a,function(r){var s=r.isHorizontal(),l=s?[0,o.width]:[0,o.height],u=r.inverse?1:0;r.setExtent(l[u],l[1-u]),xM(r,s?o.x:o.y)})}var o=Pe(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});this._rect=o;var a=this._axesList;i(),!n&&e.get("containLabel")&&(an(a,function(r){if(!r.model.get("axisLabel.inside")){var s=yM(r);if(s){var l=r.isHorizontal()?"height":"width",u=r.model.get("axisLabel.margin");o[l]-=s[l]+u,r.position==="top"?o.y+=s.height+u:r.position==="left"&&(o.x+=s.width+u)}}}),i())},Ye.getAxis=function(e,t){var n=this._axesMap[e];if(n!=null){if(t==null){for(var i in n)if(n.hasOwnProperty(i))return n[i]}return n[t]}},Ye.getAxes=function(){return this._axesList.slice()},Ye.getCartesian=function(e,t){if(e!=null&&t!=null){var n="x"+e+"y"+t;return this._coordsMap[n]}Y(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,o=this._coordsList;i<o.length;i++)if(o[i].getAxis("x").index===e||o[i].getAxis("y").index===t)return o[i]},Ye.getCartesians=function(){return this._coordsList.slice()},Ye.convertToPixel=function(e,t,n){var i=this._findConvertTarget(e,t);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},Ye.convertFromPixel=function(e,t,n){var i=this._findConvertTarget(e,t);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},Ye._findConvertTarget=function(e,t){var n,i,o=t.seriesModel,a=t.xAxisModel||o&&o.getReferringComponents("xAxis")[0],r=t.yAxisModel||o&&o.getReferringComponents("yAxis")[0],s=t.gridModel,l=this._coordsList;return o?ne(l,n=o.coordinateSystem)<0&&(n=null):a&&r?n=this.getCartesian(a.componentIndex,r.componentIndex):a?i=this.getAxis("x",a.componentIndex):r?i=this.getAxis("y",r.componentIndex):s&&s.coordinateSystem===this&&(n=this._coordsList[0]),{cartesian:n,axis:i}},Ye.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},Ye._initCartesian=function(e,t,n){function i(s){return function(l,u){if(Bh(l,e,t)){var h=l.get("position");s==="x"?h!=="top"&&h!=="bottom"&&o[h="bottom"]&&(h=h==="top"?"bottom":"top"):h!=="left"&&h!=="right"&&o[h="left"]&&(h=h==="left"?"right":"left"),o[h]=!0;var c=new Rl(s,yo(l),[0,0],l.get("type"),h),d=c.type==="category";c.onBand=d&&l.get("boundaryGap"),c.inverse=l.get("inverse"),c.onZero=l.get("axisLine.onZero"),c.onZeroAxisIndex=l.get("axisLine.onZeroAxisIndex"),l.axis=c,c.model=l,c.grid=this,c.index=u,this._axesList.push(c),a[s][u]=c,r[s]++}}}var o={left:!1,right:!1,top:!1,bottom:!1},a={x:{},y:{}},r={x:0,y:0};if(t.eachComponent("xAxis",i("x"),this),t.eachComponent("yAxis",i("y"),this),!r.x||!r.y)return this._axesMap={},void(this._axesList=[]);this._axesMap=a,an(a.x,function(s,l){an(a.y,function(u,h){var c="x"+l+"y"+h,d=new ka(c);d.grid=this,d.model=e,this._coordsMap[c]=d,this._coordsList.push(d),d.addAxis(s),d.addAxis(u)},this)},this)},Ye._updateScale=function(e,t){function n(i,o,a){an(i.mapDimension(o.dim,!0),function(r){o.scale.unionExtentFromData(i,r)})}b(this._axesList,function(i){i.scale.setExtent(1/0,-1/0)}),e.eachSeries(function(i){if(ev(i)){var o=Qm(i),a=o[0],r=o[1];if(!Bh(a,t,e)||!Bh(r,t,e))return;var s=this.getCartesian(a.componentIndex,r.componentIndex),l=i.getData(),u=s.getAxis("x"),h=s.getAxis("y");l.type==="list"&&(n(l,u),n(l,h))}},this)},Ye.getTooltipAxes=function(e){var t=[],n=[];return an(this.getCartesians(),function(i){var o=e!=null&&e!=="auto"?i.getAxis(e):i.getBaseAxis(),a=i.getOtherAxis(o);ne(t,o)<0&&t.push(o),ne(n,a)<0&&n.push(a)}),{baseAxes:t,otherAxes:n}};var NC=["xAxis","yAxis"];wo.create=function(e,t){var n=[];return e.eachComponent("grid",function(i,o){var a=new wo(i,e,t);a.name="grid_"+o,a.resize(i,t,!0),i.coordinateSystem=a,n.push(a)}),e.eachSeries(function(i){if(ev(i)){var o=Qm(i),a=o[0],r=o[1],s=a.getCoordSysModel().coordinateSystem;i.coordinateSystem=s.getCartesian(a.componentIndex,r.componentIndex)}}),n},wo.dimensions=wo.prototype.dimensions=ka.prototype.dimensions,Xe.register("cartesian2d",wo);var ti=Math.PI,$e=function(e,t){this.opt=t,this.axisModel=e,W(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new V;var n=new V({position:t.position.slice(),rotation:t.rotation});n.updateTransform(),this._transform=n.transform,this._dumbGroup=n};$e.prototype={constructor:$e,hasBuilder:function(e){return!!Nx[e]},add:function(e){Nx[e].call(this)},getGroup:function(){return this.group}};var Nx={axisLine:function(){var e=this.opt,t=this.axisModel;if(t.get("axisLine.show")){var n=this.axisModel.axis.getExtent(),i=this._transform,o=[n[0],0],a=[n[1],0];i&&(ge(o,o,i),ge(a,a,i));var r=G({lineCap:"round"},t.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new Mt(gi({anid:"line",shape:{x1:o[0],y1:o[1],x2:a[0],y2:a[1]},style:r,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1})));var s=t.get("axisLine.symbol"),l=t.get("axisLine.symbolSize"),u=t.get("axisLine.symbolOffset")||0;if(typeof u=="number"&&(u=[u,u]),s!=null){typeof s=="string"&&(s=[s,s]),typeof l!="string"&&typeof l!="number"||(l=[l,l]);var h=l[0],c=l[1];b([{rotate:e.rotation+Math.PI/2,offset:u[0],r:0},{rotate:e.rotation-Math.PI/2,offset:u[1],r:Math.sqrt((o[0]-a[0])*(o[0]-a[0])+(o[1]-a[1])*(o[1]-a[1]))}],function(d,f){if(s[f]!=="none"&&s[f]!=null){var p=ht(s[f],-h/2,-c/2,h,c,r.stroke,!0),g=d.r+d.offset,m=[o[0]+g*Math.cos(e.rotation),o[1]-g*Math.sin(e.rotation)];p.attr({rotation:d.rotate,position:m,silent:!0}),this.group.add(p)}},this)}}},axisTickLabel:function(){var e=this.axisModel,t=this.opt,n=bM(this,e,t);wM(e,SM(this,e,t),n)},axisName:function(){var e=this.opt,t=this.axisModel,n=Re(e.axisName,t.get("name"));if(n){var i,o=t.get("nameLocation"),a=e.nameDirection,r=t.getModel("nameTextStyle"),s=t.get("nameGap")||0,l=this.axisModel.axis.getExtent(),u=l[0]>l[1]?-1:1,h=[o==="start"?l[0]-u*s:o==="end"?l[1]+u*s:(l[0]+l[1])/2,ov(o)?e.labelOffset+a*s:0],c=t.get("nameRotate");c!=null&&(c=c*ti/180);var d;ov(o)?i=Ex(e.rotation,c!=null?c:e.rotation,a):(i=_M(e,o,c||0,l),(d=e.axisNameAvailableWidth)!=null&&(d=Math.abs(d/Math.sin(i.rotation)),!isFinite(d)&&(d=null)));var f=r.getFont(),p=t.get("nameTruncate",!0)||{},g=p.ellipsis,m=Re(e.nameTruncateMaxWidth,p.maxWidth,d),v=g!=null&&m!=null?q1(n,m,f,g,{minChar:2,placeholder:p.placeholder}):n,y=t.get("tooltip",!0),x=t.mainType,_={componentType:x,name:n,$vars:["name"]};_[x+"Index"]=t.componentIndex;var w=new te({anid:"name",__fullText:n,__truncatedText:v,position:h,rotation:i.rotation,silent:nv(t),z2:1,tooltip:y&&y.show?G({content:n,formatter:function(){return n},formatterParams:_},y):null});Se(w.style,r,{text:v,textFont:f,textFill:r.getTextColor()||t.get("axisLine.lineStyle.color"),textAlign:i.textAlign,textVerticalAlign:i.textVerticalAlign}),t.get("triggerEvent")&&(w.eventData=tv(t),w.eventData.targetType="axisName",w.eventData.name=n),this._dumbGroup.add(w),w.updateTransform(),this.group.add(w),w.decomposeTransform()}}},Ex=$e.innerTextLayout=function(e,t,n){var i,o,a=ih(t-e);return _a(a)?(o=n>0?"top":"bottom",i="center"):_a(a-ti)?(o=n>0?"bottom":"top",i="center"):(o="middle",i=a>0&&a<ti?n>0?"right":"left":n>0?"left":"right"),{rotation:a,textAlign:i,textVerticalAlign:o}},zx=$e.ifIgnoreOnTick=function(e,t,n,i,o,a){if(t===0&&o||t===i-1&&a)return!1;var r,s=e.scale;return s.type==="ordinal"&&(typeof n=="function"?(r=s.getTicks()[t],!n(r,s.getLabel(r))):t%(n+1))},EC=$e.getInterval=function(e,t){var n=e.get("interval");return n!=null&&n!="auto"||(n=t),n},qo=b,gf=j,ft=Oe({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(e,t,n,i){this.axisPointerClass&&CM(e),ft.superApply(this,"render",arguments),av(this,e,0,n,0,!0)},updateAxisPointer:function(e,t,n,i,o){av(this,e,0,n,0,!1)},remove:function(e,t){var n=this._axisPointer;n&&n.remove(t),ft.superApply(this,"remove",arguments)},dispose:function(e,t){rv(this,t),ft.superApply(this,"dispose",arguments)}}),Rx=[];ft.registerAxisPointerClass=function(e,t){Rx[e]=t},ft.getAxisPointerClass=function(e){return e&&Rx[e]};var Bx=$e.ifIgnoreOnTick,Vx=$e.getInterval,zC=["axisLine","axisTickLabel","axisName"],RC=["splitArea","splitLine"],mf=ft.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(e,t,n,i){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new V,this.group.add(this._axisGroup),e.get("show")){var a=e.getCoordSysModel(),r=Fh(a,e),s=new $e(e,r);b(zC,s.add,s),this._axisGroup.add(s.getGroup()),b(RC,function(l){e.get(l+".show")&&this["_"+l](e,a,r.labelInterval)},this),eh(o,this._axisGroup,e),mf.superCall(this,"render",e,t,n,i)}},_splitLine:function(e,t,n){var i=e.axis;if(!i.scale.isBlank()){var o=e.getModel("splitLine"),a=o.getModel("lineStyle"),r=a.get("color"),s=Vx(o,n);r=O(r)?r:[r];for(var l=t.coordinateSystem.getRect(),u=i.isHorizontal(),h=0,c=i.getTicksCoords(),d=i.scale.getTicks(),f=e.get("axisLabel.showMinLabel"),p=e.get("axisLabel.showMaxLabel"),g=[],m=[],v=a.getLineStyle(),y=0;y<c.length;y++)if(!Bx(i,y,s,c.length,f,p)){var x=i.toGlobalCoord(c[y]);u?(g[0]=x,g[1]=l.y,m[0]=x,m[1]=l.y+l.height):(g[0]=l.x,g[1]=x,m[0]=l.x+l.width,m[1]=x);var _=h++%r.length;this._axisGroup.add(new Mt(gi({anid:"line_"+d[y],shape:{x1:g[0],y1:g[1],x2:m[0],y2:m[1]},style:W({stroke:r[_]},v),silent:!0})))}}},_splitArea:function(e,t,n){var i=e.axis;if(!i.scale.isBlank()){var o=e.getModel("splitArea"),a=o.getModel("areaStyle"),r=a.get("color"),s=t.coordinateSystem.getRect(),l=i.getTicksCoords(),u=i.scale.getTicks(),h=i.toGlobalCoord(l[0]),c=i.toGlobalCoord(l[0]),d=0,f=Vx(o,n),p=a.getAreaStyle();r=O(r)?r:[r];for(var g=e.get("axisLabel.showMinLabel"),m=e.get("axisLabel.showMaxLabel"),v=1;v<l.length;v++)if(!(Bx(i,v,f,l.length,g,m)&&v<l.length-1)){var y,x,_,w,S=i.toGlobalCoord(l[v]);i.isHorizontal()?(y=h,x=s.y,_=S-y,w=s.height):(y=s.x,x=c,_=s.width,w=S-x);var M=d++%r.length;this._axisGroup.add(new pe({anid:"area_"+u[v],shape:{x:y,y:x,width:_,height:w},style:W({fill:r[M]},p),silent:!0})),h=y+_,c=x+w}}}});mf.extend({type:"xAxis"}),mf.extend({type:"yAxis"}),Oe({type:"grid",render:function(e,t){this.group.removeAll(),e.get("show")&&this.group.add(new pe({shape:e.coordinateSystem.getRect(),style:W({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))}}),He(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})}),ye(Fi("line","circle","line")),be(lr("line")),ut(Ho.PROCESSOR.STATISTIC,function(e){return{seriesType:e,reset:function(t,n,i){var o=t.getData(),a=t.get("sampling"),r=t.coordinateSystem;if(r.type==="cartesian2d"&&a){var s=r.getBaseAxis(),l=r.getOtherAxis(s),u=s.getExtent(),h=u[1]-u[0],c=Math.round(o.count()/h);if(c>1){var d;typeof a=="string"?d=LC[a]:typeof a=="function"&&(d=a),d&&t.setData(o.downSample(l.dim,1/c,d,kC))}}}}}("line"));var Gx=Ae.extend({type:"series.__base_bar__",getInitialData:function(e,t){return _n(this.getSource(),this)},getMarkerPosition:function(e){var t=this.coordinateSystem;if(t){var n=t.dataToPoint(t.clampData(e)),i=this.getData(),o=i.getLayout("offset"),a=i.getLayout("size");return n[t.getBaseAxis().isHorizontal()?0:1]+=o+a/2,n}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,itemStyle:{},emphasis:{}}});Gx.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect"});var BC=Eo([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),VC={getBarItemStyle:function(e){var t=BC(this,e);if(this.getBorderLineDash){var n=this.getBorderLineDash();n&&(t.lineDash=n)}return t}},GC=["itemStyle","barBorderWidth"];G(re.prototype,VC),Qe({type:"bar",render:function(e,t,n){var i=e.get("coordinateSystem");return i!=="cartesian2d"&&i!=="polar"||this._render(e,t,n),this.group},dispose:We,_render:function(e,t,n){var i,o=this.group,a=e.getData(),r=this._data,s=e.coordinateSystem,l=s.getBaseAxis();s.type==="cartesian2d"?i=l.isHorizontal():s.type==="polar"&&(i=l.dim==="angle");var u=e.isAnimationEnabled()?e:null;a.diff(r).add(function(h){if(a.hasValue(h)){var c=a.getItemModel(h),d=Fx[s.type](a,h,c),f=Wx[s.type](a,h,c,d,i,u);a.setItemGraphicEl(h,f),o.add(f),cv(f,a,h,c,d,e,i,s.type==="polar")}}).update(function(h,c){var d=r.getItemGraphicEl(c);if(a.hasValue(h)){var f=a.getItemModel(h),p=Fx[s.type](a,h,f);d?J(d,{shape:p},u,h):d=Wx[s.type](a,h,f,p,i,u,!0),a.setItemGraphicEl(h,d),o.add(d),cv(d,a,h,f,p,e,i,s.type==="polar")}else o.remove(d)}).remove(function(h){var c=r.getItemGraphicEl(h);s.type==="cartesian2d"?c&&uv(h,u,c):c&&hv(h,u,c)}).execute(),this._data=a},remove:function(e,t){var n=this.group,i=this._data;e.get("animation")?i&&i.eachItemGraphicEl(function(o){o.type==="sector"?hv(o.dataIndex,e,o):uv(o.dataIndex,e,o)}):n.removeAll()}});var Wx={cartesian2d:function(e,t,n,i,o,a,r){var s=new pe({shape:G({},i)});if(a){var l=s.shape,u=o?"height":"width",h={};l[u]=0,h[u]=i[u],Nt[r?"updateProps":"initProps"](s,{shape:h},a,t)}return s},polar:function(e,t,n,i,o,a,r){var s=i.startAngle<i.endAngle,l=new In({shape:W({clockwise:s},i)});if(a){var u=l.shape,h=o?"r":"endAngle",c={};u[h]=o?0:i.startAngle,c[h]=i[h],Nt[r?"updateProps":"initProps"](l,{shape:c},a,t)}return l}},Fx={cartesian2d:function(e,t,n){var i=e.getItemLayout(t),o=kM(n,i),a=i.width>0?1:-1,r=i.height>0?1:-1;return{x:i.x+a*o/2,y:i.y+r*o/2,width:i.width-a*o,height:i.height-r*o}},polar:function(e,t,n){var i=e.getItemLayout(t);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle}}};be(j(Bm,"bar")),ye(function(e){e.eachSeriesByType("bar",function(t){t.getData().setVisual("legendSymbol","roundRect")})});var Yo=function(e,t,n){t=O(t)&&{coordDimensions:t}||G({},t);var i=e.getSource(),o=Zo(i,t),a=new Ee(o,e);return a.initData(i,n),a},vf={updateSelectedMap:function(e){this._targetList=O(e)?e.slice():[],this._selectTargetMap=ro(e||[],function(t,n){return t.set(n.name,n),t},K())},select:function(e,t){var n=t!=null?this._targetList[t]:this._selectTargetMap.get(e);this.get("selectedMode")==="single"&&this._selectTargetMap.each(function(i){i.selected=!1}),n&&(n.selected=!0)},unSelect:function(e,t){var n=t!=null?this._targetList[t]:this._selectTargetMap.get(e);n&&(n.selected=!1)},toggleSelected:function(e,t){var n=t!=null?this._targetList[t]:this._selectTargetMap.get(e);if(n!=null)return this[n.selected?"unSelect":"select"](e,t),n.selected},isSelected:function(e,t){var n=t!=null?this._targetList[t]:this._selectTargetMap.get(e);return n&&n.selected}},Bl=Aa({type:"series.pie",init:function(e){Bl.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(e)},mergeOption:function(e){Bl.superCall(this,"mergeOption",e),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(e,t){return Yo(this,["value"])},_createSelectableList:function(){for(var e=this.getRawData(),t=e.mapDimension("value"),n=[],i=0,o=e.count();i<o;i++)n.push({name:e.getName(i),value:e.get(t,i),selected:rm(e,i,"selected")});return n},getDataParams:function(e){var t=this.getData(),n=Bl.superCall(this,"getDataParams",e),i=[];return t.each(t.mapDimension("value"),function(o){i.push(o)}),n.percent=Gg(i,e,t.hostModel.get("percentPrecision")),n.$vars.push("percent"),n},_defaultLabelLine:function(e){pi(e,"labelLine",["show"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{rotate:!1,show:!0,position:"outer"},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationEasing:"cubicOut"}});oe(Bl,vf);var Hx=Hh.prototype;Hx.updateData=function(e,t,n){function i(){a.stopAnimation(!0),a.animateTo({shape:{r:l.r+r.get("hoverOffset")}},300,"elasticOut")}function o(){a.stopAnimation(!0),a.animateTo({shape:{r:l.r}},300,"elasticOut")}var a=this.childAt(0),r=e.hostModel,s=e.getItemModel(t),l=e.getItemLayout(t),u=G({},l);u.label=null,n?(a.setShape(u),r.getShallow("animationType")==="scale"?(a.shape.r=l.r0,Je(a,{shape:{r:l.r}},r,t)):(a.shape.endAngle=l.startAngle,J(a,{shape:{endAngle:l.endAngle}},r,t))):J(a,{shape:u},r,t);var h=e.getItemVisual(t,"color");a.useStyle(W({lineJoin:"bevel",fill:h},s.getModel("itemStyle").getItemStyle())),a.hoverStyle=s.getModel("emphasis.itemStyle").getItemStyle();var c=s.getShallow("cursor");c&&a.attr("cursor",c),dv(this,e.getItemLayout(t),r.isSelected(null,t),r.get("selectedOffset"),r.get("animation")),a.off("mouseover").off("mouseout").off("emphasis").off("normal"),s.get("hoverAnimation")&&r.isAnimationEnabled()&&a.on("mouseover",i).on("mouseout",o).on("emphasis",i).on("normal",o),this._updateLabel(e,t),ve(this)},Hx._updateLabel=function(e,t){var n=this.childAt(1),i=this.childAt(2),o=e.hostModel,a=e.getItemModel(t),r=e.getItemLayout(t).label,s=e.getItemVisual(t,"color");J(n,{shape:{points:r.linePoints||[[r.x,r.y],[r.x,r.y],[r.x,r.y]]}},o,t),J(i,{style:{x:r.x,y:r.y}},o,t),i.attr({rotation:r.rotation,origin:[r.x,r.y],z2:10});var l=a.getModel("label"),u=a.getModel("emphasis.label"),h=a.getModel("labelLine"),c=a.getModel("emphasis.labelLine"),s=e.getItemVisual(t,"color");yt(i.style,i.hoverStyle={},l,u,{labelFetcher:e.hostModel,labelDataIndex:t,defaultText:e.getName(t),autoColor:s,useInsideStyle:!!r.inside},{textAlign:r.textAlign,textVerticalAlign:r.verticalAlign,opacity:e.getItemVisual(t,"opacity")}),i.ignore=i.normalIgnore=!l.get("show"),i.hoverIgnore=!u.get("show"),n.ignore=n.normalIgnore=!h.get("show"),n.hoverIgnore=!c.get("show"),n.setStyle({stroke:s,opacity:e.getItemVisual(t,"opacity")}),n.setStyle(h.getModel("lineStyle").getLineStyle()),n.hoverStyle=c.getModel("lineStyle").getLineStyle();var d=h.get("smooth");d&&d===!0&&(d=.4),n.setShape({smooth:d})},he(Hh,V),Ve.extend({type:"pie",init:function(){var e=new V;this._sectorGroup=e},render:function(e,t,n,i){if(!i||i.from!==this.uid){var o=e.getData(),a=this._data,r=this.group,s=t.get("animation"),l=!a,u=e.get("animationType"),h=j(PM,this.uid,e,s,n),c=e.get("selectedMode");if(o.diff(a).add(function(g){var m=new Hh(o,g);l&&u!=="scale"&&m.eachChild(function(v){v.stopAnimation(!0)}),c&&m.on("click",h),o.setItemGraphicEl(g,m),r.add(m)}).update(function(g,m){var v=a.getItemGraphicEl(m);v.updateData(o,g),v.off("click"),c&&v.on("click",h),r.add(v),o.setItemGraphicEl(g,v)}).remove(function(g){var m=a.getItemGraphicEl(g);r.remove(m)}).execute(),s&&l&&o.count()>0&&u!=="scale"){var d=o.getItemLayout(0),f=Math.max(n.getWidth(),n.getHeight())/2,p=U(r.removeClipPath,r);r.setClipPath(this._createClipPath(d.cx,d.cy,f,d.startAngle,d.clockwise,p,e))}this._data=o}},dispose:function(){},_createClipPath:function(e,t,n,i,o,a,r){var s=new In({shape:{cx:e,cy:t,r0:0,r:n,startAngle:i,endAngle:i,clockwise:o}});return Je(s,{shape:{endAngle:i+(o?1:-1)*Math.PI*2}},r,a),s},containPoint:function(e,t){var n=t.getData().getItemLayout(0);if(n){var i=e[0]-n.cx,o=e[1]-n.cy,a=Math.sqrt(i*i+o*o);return a<=n.r&&a>=n.r0}}});var Zx=function(e,t){b(t,function(n){n.update="updateView",se(n,function(i,o){var a={};return o.eachComponent({mainType:"series",subType:e,query:i},function(r){r[n.method]&&r[n.method](i.name,i.dataIndex);var s=r.getData();s.each(function(l){var u=s.getName(l);a[u]=r.isSelected(u)||!1})}),{name:i.name,selected:a}})})},Vl=function(e){return{getTargetSeries:function(t){var n={},i=K();return t.eachSeriesByType(e,function(o){o.__paletteScope=n,i.set(o.uid,o)}),i},reset:function(t,n){var i=t.getRawData(),o={},a=t.getData();a.each(function(r){var s=a.getRawIndex(r);o[s]=r}),i.each(function(r){var s=o[r],l=s!=null&&a.getItemVisual(s,"color",!0);if(l)i.setItemVisual(r,"color",l);else{var u=i.getItemModel(r).get("itemStyle.color")||t.getColorFromPalette(i.getName(r)||r+"",t.__paletteScope,i.count());i.setItemVisual(r,"color",u),s!=null&&a.setItemVisual(s,"color",u)}})}}},WC=function(e,t,n,i){var o,a,r=e.getData(),s=[],l=!1;r.each(function(u){var h,c,d,f,p=r.getItemLayout(u),g=r.getItemModel(u),m=g.getModel("label"),v=m.get("position")||g.get("emphasis.label.position"),y=g.getModel("labelLine"),x=y.get("length"),_=y.get("length2"),w=(p.startAngle+p.endAngle)/2,S=Math.cos(w),M=Math.sin(w);o=p.cx,a=p.cy;var I=v==="inside"||v==="inner";if(v==="center")h=p.cx,c=p.cy,f="center";else{var D=(I?(p.r+p.r0)/2*S:p.r*S)+o,T=(I?(p.r+p.r0)/2*M:p.r*M)+a;if(h=D+3*S,c=T+3*M,!I){var A=D+S*(x+t-p.r),L=T+M*(x+t-p.r),k=A+(S<0?-1:1)*_,C=L;h=k+(S<0?-5:5),c=C,d=[[D,T],[A,L],[k,C]]}f=I?"center":S>0?"left":"right"}var N=m.getFont(),B=m.get("rotate")?S<0?-w+Math.PI:-w:0,R=mn(e.getFormattedLabel(u,"normal")||r.getName(u),N,f,"top");l=!!B,p.label={x:h,y:c,position:v,height:R.height,len:x,len2:_,linePoints:d,textAlign:f,verticalAlign:"middle",rotation:B,inside:I},I||s.push(p.label)}),!l&&e.get("avoidLabelOverlap")&&OM(s,o,a,t,n,i)},Gl=2*Math.PI,Ux=Math.PI/180,ur=function(e){return{seriesType:e,reset:function(t,n){var i=n.findComponents({mainType:"legend"});if(i&&i.length){var o=t.getData();o.filterSelf(function(a){for(var r=o.getName(a),s=0;s<i.length;s++)if(!i[s].isSelected(r))return!1;return!0})}}}};Zx("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),ye(Vl("pie")),be(j(function(e,t,n,i){t.eachSeriesByType(e,function(o){var a=o.getData(),r=a.mapDimension("value"),s=o.get("center"),l=o.get("radius");O(l)||(l=[0,l]),O(s)||(s=[s,s]);var u=n.getWidth(),h=n.getHeight(),c=Math.min(u,h),d=E(s[0],u),f=E(s[1],h),p=E(l[0],c/2),g=E(l[1],c/2),m=-o.get("startAngle")*Ux,v=o.get("minAngle")*Ux,y=0;a.each(r,function(C){!isNaN(C)&&y++});var x=a.getSum(r),_=Math.PI/(x||y)*2,w=o.get("clockwise"),S=o.get("roseType"),M=o.get("stillShowZeroSum"),I=a.getDataExtent(r);I[0]=0;var D=Gl,T=0,A=m,L=w?1:-1;if(a.each(r,function(C,N){var B;if(isNaN(C))a.setItemLayout(N,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:w,cx:d,cy:f,r0:p,r:S?NaN:g});else{(B=S!=="area"?x===0&&M?_:C*_:Gl/y)<v?(B=v,D-=v):T+=C;var R=A+L*B;a.setItemLayout(N,{angle:B,startAngle:A,endAngle:R,clockwise:w,cx:d,cy:f,r0:p,r:S?Ie(C,I,[p,g]):g}),A=R}}),D<Gl&&y)if(D<=.001){var k=Gl/y;a.each(r,function(C,N){if(!isNaN(C)){var B=a.getItemLayout(N);B.angle=k,B.startAngle=m+L*N*k,B.endAngle=m+L*(N+1)*k}})}else _=D/T,A=m,a.each(r,function(C,N){if(!isNaN(C)){var B=a.getItemLayout(N),R=B.angle===v?v:C*_;B.startAngle=A,B.endAngle=A+L*R,A+=L*R}});WC(o,g,u,h)})},"pie")),ut(ur("pie")),Ae.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(e,t){return _n(this.getSource(),this)},brushSelector:"point",getProgressive:function(){var e=this.option.progressive;return e==null?this.option.large?5e3:this.get("progressive"):e},getProgressiveThreshold:function(){var e=this.option.progressiveThreshold;return e==null?this.option.large?1e4:this.get("progressiveThreshold"):e},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},progressive:null}});var yf=Ht({shape:{points:null},symbolProxy:null,buildPath:function(e,t){var n=t.points,i=t.size,o=this.symbolProxy,a=o.shape;if(!((e.getContext?e.getContext():e)&&i[0]<4))for(var r=0;r<n.length;){var s=n[r++],l=n[r++];isNaN(s)||isNaN(l)||(a.x=s-i[0]/2,a.y=l-i[1]/2,a.width=i[0],a.height=i[1],o.buildPath(e,a,!0))}},afterBrush:function(e){var t=this.shape,n=t.points,i=t.size;if(i[0]<4){this.setTransform(e);for(var o=0;o<n.length;){var a=n[o++],r=n[o++];isNaN(a)||isNaN(r)||e.fillRect(a-i[0]/2,r-i[1]/2,i[0],i[1])}this.restoreTransform(e)}},findDataIndex:function(e,t){for(var n=this.shape,i=n.points,o=n.size,a=Math.max(o[0],4),r=Math.max(o[1],4),s=i.length/2-1;s>=0;s--){var l=2*s,u=i[l]-a/2,h=i[l+1]-r/2;if(e>=u&&t>=h&&e<=u+a&&t<=h+r)return s}return-1}}),ni=pv.prototype;ni.isPersistent=function(){return!this._incremental},ni.updateData=function(e){this.group.removeAll();var t=new yf({rectHover:!0,cursor:"default"});t.setShape({points:e.getLayout("symbolPoints")}),this._setCommon(t,e),this.group.add(t),this._incremental=null},ni.updateLayout=function(e){if(!this._incremental){var t=e.getLayout("symbolPoints");this.group.eachChild(function(n){if(n.startIndex!=null){var i=2*(n.endIndex-n.startIndex),o=4*n.startIndex*2;t=new Float32Array(t.buffer,o,i)}n.setShape("points",t)})}},ni.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clearIncremental(),e.count()>2e6?(this._incremental||(this._incremental=new lt({silent:!0})),this.group.add(this._incremental)):this._incremental=null},ni.incrementalUpdate=function(e,t){var n;this._incremental?(n=new yf,this._incremental.addDisplayable(n,!0)):((n=new yf({rectHover:!0,cursor:"default",startIndex:e.start,endIndex:e.end})).incremental=!0,this.group.add(n)),n.setShape({points:t.getLayout("symbolPoints")}),this._setCommon(n,t,!!this._incremental)},ni._setCommon=function(e,t,n){var i=t.hostModel,o=t.getVisual("symbolSize");e.setShape("size",o instanceof Array?o:[o,o]),e.symbolProxy=ht(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var a=e.shape.size[0]<4;e.useStyle(i.getModel("itemStyle").getItemStyle(a?["color","shadowBlur","shadowColor"]:["color"]));var r=t.getVisual("color");r&&e.setColor(r),n||(e.seriesIndex=i.seriesIndex,e.on("mousemove",function(s){e.dataIndex=null;var l=e.findDataIndex(s.offsetX,s.offsetY);l>=0&&(e.dataIndex=l+(e.startIndex||0))}))},ni.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},ni._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()},Qe({type:"scatter",render:function(e,t,n){var i=e.getData();this._updateSymbolDraw(i,e).updateData(i),this._finished=!0},incrementalPrepareRender:function(e,t,n){var i=e.getData();this._updateSymbolDraw(i,e).incrementalPrepareUpdate(i),this._finished=!1},incrementalRender:function(e,t,n){this._symbolDraw.incrementalUpdate(e,t.getData()),this._finished=e.end===t.getData().count()},updateTransform:function(e,t,n){var i=e.getData();if(this.group.dirty(),!this._finished||i.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var o=lr().reset(e);o.progress&&o.progress({start:0,end:i.count()},i),this._symbolDraw.updateLayout(i)},_updateSymbolDraw:function(e,t){var n=this._symbolDraw,i=t.pipelineContext.large;return n&&i===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=i?new pv:new _o,this._isLargeDraw=i,this.group.removeAll()),this.group.add(n.group),n},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}}),ye(Fi("scatter","circle")),be(lr("scatter")),he(gv,Le),jt.prototype.getIndicatorAxes=function(){return this._indicatorAxes},jt.prototype.dataToPoint=function(e,t){var n=this._indicatorAxes[t];return this.coordToPoint(n.dataToCoord(e),t)},jt.prototype.coordToPoint=function(e,t){var n=this._indicatorAxes[t].angle;return[this.cx+e*Math.cos(n),this.cy-e*Math.sin(n)]},jt.prototype.pointToData=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,i=Math.sqrt(t*t+n*n);t/=i,n/=i;for(var o,a=Math.atan2(-n,t),r=1/0,s=-1,l=0;l<this._indicatorAxes.length;l++){var u=this._indicatorAxes[l],h=Math.abs(a-u.angle);h<r&&(o=u,s=l,r=h)}return[s,+(o&&o.coodToData(i))]},jt.prototype.resize=function(e,t){var n=e.get("center"),i=t.getWidth(),o=t.getHeight(),a=Math.min(i,o)/2;this.cx=E(n[0],i),this.cy=E(n[1],o),this.startAngle=e.get("startAngle")*Math.PI/180,this.r=E(e.get("radius"),a),b(this._indicatorAxes,function(r,s){r.setExtent(0,this.r);var l=this.startAngle+s*Math.PI*2/this._indicatorAxes.length;l=Math.atan2(Math.sin(l),Math.cos(l)),r.angle=l},this)},jt.prototype.update=function(e,t){function n(r){var s=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),l=r/s;return l===2?l=5:l*=2,l*s}var i=this._indicatorAxes,o=this._model;b(i,function(r){r.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(r,s){if(r.get("coordinateSystem")==="radar"&&e.getComponent("radar",r.get("radarIndex"))===o){var l=r.getData();b(i,function(u){u.scale.unionExtentFromData(l,l.mapDimension(u.dim))})}},this);var a=o.get("splitNumber");b(i,function(r,s){var l=Vm(r.scale,r.model);wi(r.scale,r.model);var u=r.model,h=r.scale,c=u.getMin(),d=u.getMax(),f=h.getInterval();if(c!=null&&d!=null)h.setExtent(+c,+d),h.setInterval((d-c)/a);else if(c!=null){var p;do p=c+f*a,h.setExtent(+c,p),h.setInterval(f),f=n(f);while(p<l[1]&&isFinite(p)&&isFinite(l[1]))}else if(d!=null){var g;do g=d-f*a,h.setExtent(g,+d),h.setInterval(f),f=n(f);while(g>l[0]&&isFinite(g)&&isFinite(l[0]))}else{h.getTicks().length-1>a&&(f=n(f));var m=Math.round((l[0]+l[1])/2/f)*f,v=Math.round(a/2);h.setExtent(nt(m-v*f),nt(m+(a-v)*f)),h.setInterval(f)}})},jt.dimensions=[],jt.create=function(e,t){var n=[];return e.eachComponent("radar",function(i){var o=new jt(i,e,t);n.push(o),i.coordinateSystem=o}),e.eachSeriesByType("radar",function(i){i.get("coordinateSystem")==="radar"&&(i.coordinateSystem=n[i.get("radarIndex")||0])}),n},Xe.register("radar",jt);var hr=ei.valueAxis,FC=(it({type:"radar",optionUpdated:function(){var e=this.get("boundaryGap"),t=this.get("splitNumber"),n=this.get("scale"),i=this.get("axisLine"),o=this.get("axisTick"),a=this.get("axisLabel"),r=this.get("name"),s=this.get("name.show"),l=this.get("name.formatter"),u=this.get("nameGap"),h=this.get("triggerEvent"),c=P(this.get("indicator")||[],function(d){d.max!=null&&d.max>0&&!d.min?d.min=0:d.min!=null&&d.min<0&&!d.max&&(d.max=0);var f=r;if(d.color!=null&&(f=W({color:d.color},r)),d=q(Z(d),{boundaryGap:e,splitNumber:t,scale:n,axisLine:i,axisTick:o,axisLabel:a,name:d.text,nameLocation:"end",nameGap:u,nameTextStyle:f,triggerEvent:h},!1),s||(d.name=""),typeof l=="string"){var p=d.name;d.name=l.replace("{value}",p!=null?p:"")}else typeof l=="function"&&(d.name=l(d.name,d));var g=G(new re(d,null,this.ecModel),Wi);return g.mainType="radar",g.componentIndex=this.componentIndex,g},this);this.getIndicatorModels=function(){return c}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:q({lineStyle:{color:"#bbb"}},hr.axisLine),axisLabel:rs(hr.axisLabel,!1),axisTick:rs(hr.axisTick,!1),splitLine:rs(hr.splitLine,!0),splitArea:rs(hr.splitArea,!0),indicator:[]}}),["axisLine","axisTickLabel","axisName"]);Oe({type:"radar",render:function(e,t,n){this.group.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},_buildAxes:function(e){var t=e.coordinateSystem;b(P(t.getIndicatorAxes(),function(n){return new $e(n.model,{position:[t.cx,t.cy],rotation:n.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(n){b(FC,n.add,n),this.group.add(n.getGroup())},this)},_buildSplitLineAndArea:function(e){function t(A,L,k){var C=k%L.length;return A[C]=A[C]||[],C}var n=e.coordinateSystem,i=n.getIndicatorAxes();if(i.length){var o=e.get("shape"),a=e.getModel("splitLine"),r=e.getModel("splitArea"),s=a.getModel("lineStyle"),l=r.getModel("areaStyle"),u=a.get("show"),h=r.get("show"),c=s.get("color"),d=l.get("color");c=O(c)?c:[c],d=O(d)?d:[d];var f=[],p=[];if(o==="circle")for(var g=i[0].getTicksCoords(),m=n.cx,v=n.cy,y=0;y<g.length;y++)u&&f[I=t(f,c,y)].push(new Ei({shape:{cx:m,cy:v,r:g[y]}})),h&&y<g.length-1&&p[I=t(p,d,y)].push(new F1({shape:{cx:m,cy:v,r0:g[y],r:g[y+1]}}));else for(var x,_=P(i,function(L,k){var C=L.getTicksCoords();return x=x==null?C.length-1:Math.min(C.length-1,x),P(C,function(N){return n.coordToPoint(N,k)})}),w=[],y=0;y<=x;y++){for(var S=[],M=0;M<i.length;M++)S.push(_[M][y]);if(S[0]&&S.push(S[0].slice()),u&&f[I=t(f,c,y)].push(new Qt({shape:{points:S}})),h&&w){var I=t(p,d,y-1);p[I].push(new St({shape:{points:S.concat(w)}}))}w=S.slice().reverse()}var D=s.getLineStyle(),T=l.getAreaStyle();b(p,function(A,L){this.group.add(Dn(A,{style:W({stroke:"none",fill:d[L%d.length]},T),silent:!0}))},this),b(f,function(A,L){this.group.add(Dn(A,{style:W({fill:"none",stroke:c[L%c.length]},D),silent:!0}))},this)}}});var HC=Ae.extend({type:"series.radar",dependencies:["radar"],init:function(e){HC.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(e,t){return Yo(this,{generateCoord:"indicator_",generateCoordCount:1/0})},formatTooltip:function(e){var t=this.getData(),n=this.coordinateSystem.getIndicatorAxes(),i=this.getData().getName(e);return we(i===""?this.name:i)+"<br/>"+P(n,function(o,a){var r=t.get(t.mapDimension(o.dim),e);return we(o.name+" : "+r)}).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}});Qe({type:"radar",render:function(e,t,n){function i(h,c){var d=h.getItemVisual(c,"symbol")||"circle",f=h.getItemVisual(c,"color");if(d!=="none"){var p=NM(h.getItemVisual(c,"symbolSize")),g=ht(d,-1,-1,2,2,f);return g.attr({style:{strokeNoScale:!0},z2:100,scale:[p[0]/2,p[1]/2]}),g}}function o(h,c,d,f,p,g){d.removeAll();for(var m=0;m<c.length-1;m++){var v=i(f,p);v&&(v.__dimIdx=m,h[m]?(v.attr("position",h[m]),Nt[g?"initProps":"updateProps"](v,{position:c[m]},e,p)):v.attr("position",c[m]),d.add(v))}}function a(h){return P(h,function(c){return[r.cx,r.cy]})}var r=e.coordinateSystem,s=this.group,l=e.getData(),u=this._data;l.diff(u).add(function(h){var c=l.getItemLayout(h);if(c){var d=new St,f=new Qt,p={shape:{points:c}};d.shape.points=a(c),f.shape.points=a(c),Je(d,p,e,h),Je(f,p,e,h);var g=new V,m=new V;g.add(f),g.add(d),g.add(m),o(f.shape.points,c,m,l,h,!0),l.setItemGraphicEl(h,g)}}).update(function(h,c){var d=u.getItemGraphicEl(c),f=d.childAt(0),p=d.childAt(1),g=d.childAt(2),m={shape:{points:l.getItemLayout(h)}};m.shape.points&&(o(f.shape.points,m.shape.points,g,l,h,!1),J(f,m,e),J(p,m,e),l.setItemGraphicEl(h,d))}).remove(function(h){s.remove(u.getItemGraphicEl(h))}).execute(),l.eachItemGraphicEl(function(h,c){function d(){m.attr("ignore",S)}function f(){m.attr("ignore",w)}var p=l.getItemModel(c),g=h.childAt(0),m=h.childAt(1),v=h.childAt(2),y=l.getItemVisual(c,"color");s.add(h),g.useStyle(W(p.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:y})),g.hoverStyle=p.getModel("emphasis.lineStyle").getLineStyle();var x=p.getModel("areaStyle"),_=p.getModel("emphasis.areaStyle"),w=x.isEmpty()&&x.parentModel.isEmpty(),S=_.isEmpty()&&_.parentModel.isEmpty();S=S&&w,m.ignore=w,m.useStyle(W(x.getAreaStyle(),{fill:y,opacity:.7})),m.hoverStyle=_.getAreaStyle();var M=p.getModel("itemStyle").getItemStyle(["color"]),I=p.getModel("emphasis.itemStyle").getItemStyle(),D=p.getModel("label"),T=p.getModel("emphasis.label");v.eachChild(function(A){A.setStyle(M),A.hoverStyle=Z(I),yt(A.style,A.hoverStyle,D,T,{labelFetcher:l.hostModel,labelDataIndex:c,labelDimIndex:A.__dimIdx,defaultText:l.get(l.dimensions[A.__dimIdx],c),autoColor:y,isRectText:!0})}),h.off("mouseover").off("mouseout").off("normal").off("emphasis"),h.on("emphasis",d).on("mouseover",d).on("normal",f).on("mouseout",f),ve(h)}),this._data=l},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),ye(Vl("radar")),ye(Fi("radar","circle")),be(function(e){e.eachSeriesByType("radar",function(t){var n=t.getData(),i=[],o=t.coordinateSystem;if(o){for(var a=o.getIndicatorAxes(),r=0;r<o.getIndicatorAxes().length;r++)n.each(n.mapDimension(a[r].dim),function(s,l){i[l]=i[l]||[],i[l][r]=o.dataToPoint(s,r)});n.each(function(s){i[s][0]&&i[s].push(i[s][0].slice()),n.setItemLayout(s,i[s])})}})}),ut(ur("radar")),He(function(e){var t=e.polar;if(t){O(t)||(t=[t]);var n=[];b(t,function(i,o){i.indicator?(i.type&&!i.shape&&(i.shape=i.type),e.radar=e.radar||[],O(e.radar)||(e.radar=[e.radar]),e.radar.push(i)):n.push(i)}),e.polar=n}b(e.series,function(i){i&&i.type==="radar"&&i.polarIndex&&(i.radarIndex=i.polarIndex)})});var jx=ge;oe(Zh,Xt),Si.prototype={constructor:Si,type:"view",dimensions:["x","y"],setBoundingRect:function(e,t,n,i){return this._rect=new Q(e,t,n,i),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(e,t,n,i){this.transformTo(e,t,n,i),this._viewRect=new Q(e,t,n,i)},transformTo:function(e,t,n,i){var o=this.getBoundingRect(),a=this._rawTransformable;a.transform=o.calculateTransform(new Q(e,t,n,i)),a.decomposeTransform(),this._updateTransform()},setCenter:function(e){e&&(this._center=e,this._updateCenterAndZoom())},setZoom:function(e){e=e||1;var t=this.zoomLimit;t&&(t.max!=null&&(e=Math.min(t.max,e)),t.min!=null&&(e=Math.max(t.min,e))),this._zoom=e,this._updateCenterAndZoom()},getDefaultCenter:function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var e=this._rawTransformable.getLocalTransform(),t=this._roamTransformable,n=this.getDefaultCenter(),i=this.getCenter(),o=this.getZoom();i=ge([],i,e),n=ge([],n,e),t.origin=i,t.position=[n[0]-i[0],n[1]-i[1]],t.scale=[o,o],this._updateTransform()},_updateTransform:function(){var e=this._roamTransformable,t=this._rawTransformable;t.parent=e,e.updateTransform(),t.updateTransform(),Cr(this.transform||(this.transform=[]),t.transform||Ct()),this._rawTransform=t.getLocalTransform(),this.invTransform=this.invTransform||[],kr(this.invTransform,this.transform),this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},dataToPoint:function(e,t,n){var i=t?this._rawTransform:this.transform;return n=n||[],i?jx(n,e,i):Fe(n,e)},pointToData:function(e){var t=this.invTransform;return t?jx([],e,t):[e[0],e[1]]},convertToPixel:j(mv,"dataToPoint"),convertFromPixel:j(mv,"pointToData"),containPoint:function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])}},oe(Si,Xt);for(var xf=[126,25],Hi=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],Zi=0;Zi<Hi.length;Zi++)for(var $o=0;$o<Hi[Zi].length;$o++)Hi[Zi][$o][0]/=10.5,Hi[Zi][$o][1]/=-14,Hi[Zi][$o][0]+=xf[0],Hi[Zi][$o][1]+=xf[1];var ZC={\u5357\u6D77\u8BF8\u5C9B:[32,80],\u5E7F\u4E1C:[0,-10],\u9999\u6E2F:[10,5],\u6FB3\u95E8:[-10,10],\u5929\u6D25:[5,5]},UC={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]},jC=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],XC=[function(e){e.map==="china"&&e.regions.push(new os("\u5357\u6D77\u8BF8\u5C9B",P(Hi,function(t){return{type:"polygon",exterior:t}}),xf))},function(e){b(e.regions,function(t){var n=ZC[t.name];if(n){var i=t.center;i[0]+=n[0]/10.5,i[1]+=-n[1]/14}})},function(e){b(e.regions,function(t){var n=UC[t.name];if(n){var i=t.center;i[0]=n[0],i[1]=n[1]}})},function(e){if(e.map==="china")for(var t=0,n=e.regions.length;t<n;++t)e.regions[t].name==="\u53F0\u6E7E"&&e.regions[t].geometries.push({type:"polygon",exterior:jC[0]})}];bo.prototype={constructor:bo,type:"geo",dimensions:["lng","lat"],containCoord:function(e){for(var t=this.regions,n=0;n<t.length;n++)if(t[n].contain(e))return!0;return!1},loadGeoJson:function(e,t,n){try{this.regions=e?ff(e):[]}catch(l){throw`Invalid geoJson format
`+l.message}t=t||{},n=n||{};for(var i=this.regions,o=K(),a=0;a<i.length;a++){var r=i[a].name;r=n.hasOwnProperty(r)?n[r]:r,i[a].name=r,o.set(r,i[a]),this.addGeoCoord(r,i[a].center);var s=t[r];s&&i[a].transformTo(s.left,s.top,s.width,s.height)}this._regionsMap=o,this._rect=null,b(XC,function(l){l(this)},this)},transformTo:function(e,t,n,i){var o=this.getBoundingRect();(o=o.clone()).y=-o.y-o.height;var a=this._rawTransformable;a.transform=o.calculateTransform(new Q(e,t,n,i)),a.decomposeTransform();var r=a.scale;r[1]=-r[1],a.updateTransform(),this._updateTransform()},getRegion:function(e){return this._regionsMap.get(e)},getRegionByCoord:function(e){for(var t=this.regions,n=0;n<t.length;n++)if(t[n].contain(e))return t[n]},addGeoCoord:function(e,t){this._nameCoordMap.set(e,t)},getGeoCoord:function(e){return this._nameCoordMap.get(e)},getBoundingRect:function(){if(this._rect)return this._rect;for(var e,t=this.regions,n=0;n<t.length;n++){var i=t[n].getBoundingRect();(e=e||i.clone()).union(i)}return this._rect=e||new Q(0,0,0,0)},dataToPoint:function(e,t,n){if(typeof e=="string"&&(e=this.getGeoCoord(e)),e)return Si.prototype.dataToPoint.call(this,e,t,n)},convertToPixel:j(vv,"dataToPoint"),convertFromPixel:j(vv,"pointToData")},oe(bo,Si);var _f={dimensions:bo.prototype.dimensions,create:function(e,t){var n=[];e.eachComponent("geo",function(o,a){var r=o.get("map"),s=es(r),l=new bo(r+a,r,s&&s.geoJson,s&&s.specialAreas,o.get("nameMap"));l.zoomLimit=o.get("scaleLimit"),n.push(l),xv(l,o),o.coordinateSystem=l,l.model=o,l.resize=yv,l.resize(o,t)}),e.eachSeries(function(o){if(o.get("coordinateSystem")==="geo"){var a=o.get("geoIndex")||0;o.coordinateSystem=n[a]}});var i={};return e.eachSeriesByType("map",function(o){if(!o.getHostGeoModel()){var a=o.getMapType();i[a]=i[a]||[],i[a].push(o)}}),b(i,function(o,a){var r=es(a),s=P(o,function(u){return u.get("nameMap")}),l=new bo(a,a,r&&r.geoJson,r&&r.specialAreas,aa(s));l.zoomLimit=Re.apply(null,P(o,function(u){return u.get("scaleLimit")})),n.push(l),l.resize=yv,l.resize(o[0],t),b(o,function(u){u.coordinateSystem=l,xv(l,u)})}),n},getFilledRegions:function(e,t,n){var i=(e||[]).slice();n=n||{};var o=es(t),a=o&&o.geoJson;if(!a)return e;for(var r=K(),s=a.features,l=0;l<i.length;l++)r.set(i[l].name,i[l]);for(l=0;l<s.length;l++){var u=s[l].properties.name;r.get(u)||(n.hasOwnProperty(u)&&(u=n[u]),i.push({name:u}))}return i}};Sh("geo",_f);var wf=Ae.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],init:function(e){wf.superApply(this,"init",arguments),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(e){return Yo(this,["value"])},mergeOption:function(e){wf.superApply(this,"mergeOption",arguments),this.updateSelectedMap(this._createSelectableList())},_createSelectableList:function(){for(var e=this.getRawData(),t=e.mapDimension("value"),n=[],i=0,o=e.count();i<o;i++)n.push({name:e.getName(i),value:e.get(t,i),selected:rm(e,i,"selected")});return n=_f.getFilledRegions(n,this.getMapType(),this.option.nameMap)},getHostGeoModel:function(){var e=this.option.geoIndex;return e!=null?this.dependentModels.geo[e]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},_fillOption:function(e,t){},getRawValue:function(e){var t=this.getData();return t.get(t.mapDimension("value"),e)},getRegionModel:function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},formatTooltip:function(e){for(var t=this.getData(),n=yi(this.getRawValue(e)),i=t.getName(e),o=this.seriesGroup,a=[],r=0;r<o.length;r++){var s=o[r].originalData.indexOfName(i),l=t.mapDimension("value");isNaN(o[r].originalData.get(l,s))||a.push(we(o[r].name))}return a.join(", ")+"<br />"+we(i+" : "+n)},getTooltipPosition:function(e){if(e!=null){var t=this.getData().getName(e),n=this.coordinateSystem,i=n.getRegion(t);return i&&n.dataToPoint(i.center)}},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}}}});oe(wf,vf);var Xx="\0_ec_interaction_mutex";se({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),oe(Oa,Ne);var qC={axisPointer:1,tooltip:1,brush:1};ss.prototype={constructor:ss,draw:function(e,t,n,i,o){var a=e.mainType==="geo",r=e.getData&&e.getData();a&&t.eachComponent({mainType:"series",subType:"map"},function(m){r||m.getHostGeoModel()!==e||(r=m.getData())});var s=e.coordinateSystem,l=this.group,u=s.scale,h={position:s.position,scale:u};!l.childAt(0)||o?l.attr(h):J(l,h,e),l.removeAll();var c=["itemStyle"],d=["emphasis","itemStyle"],f=["label"],p=["emphasis","label"],g=K();b(s.regions,function(m){var v=g.get(m.name)||g.set(m.name,new V),y=new Z1({shape:{paths:[]}});v.add(y);var x,_=(H=e.getRegionModel(m.name)||e).getModel(c),w=H.getModel(d),S=Iv(_),M=Iv(w),I=H.getModel(f),D=H.getModel(p);if(r){x=r.indexOfName(m.name);var T=r.getItemVisual(x,"color",!0);T&&(S.fill=T)}b(m.geometries,function(z){if(z.type==="polygon"){y.shape.paths.push(new St({shape:{points:z.exterior}}));for(var de=0;de<(z.interiors?z.interiors.length:0);de++)y.shape.paths.push(new St({shape:{points:z.interiors[de]}}))}}),y.setStyle(S),y.style.strokeNoScale=!0,y.culling=!0;var A=I.get("show"),L=D.get("show"),k=r&&isNaN(r.get(r.mapDimension("value"),x)),C=r&&r.getItemLayout(x);if(a||k&&(A||L)||C&&C.showLabel){var N,B=a?m.name:x;(!r||x>=0)&&(N=e);var R=new te({position:m.center.slice(),scale:[1/u[0],1/u[1]],z2:10,silent:!0});yt(R.style,R.hoverStyle={},I,D,{labelFetcher:N,labelDataIndex:B,defaultText:m.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),v.add(R)}if(r)r.setItemGraphicEl(x,v);else{var H=e.getRegionModel(m.name);y.eventData={componentType:"geo",geoIndex:e.componentIndex,name:m.name,region:H&&H.option||{}}}(v.__regions||(v.__regions=[])).push(m),ve(v,M,{hoverSilentOnTouch:!!e.get("selectedMode")}),l.add(v)}),this._updateController(e,t,n),FM(this,e,l,n,i),Dv(e,l)},remove:function(){this.group.removeAll(),this._controller.dispose(),this._controllerHost={}},_updateController:function(e,t,n){function i(){var l={type:"geoRoam",componentType:s};return l[s+"Id"]=e.id,l}var o=e.coordinateSystem,a=this._controller,r=this._controllerHost;r.zoomLimit=e.get("scaleLimit"),r.zoom=o.getZoom(),a.enable(e.get("roam")||!1);var s=e.mainType;a.off("pan").on("pan",function(l,u){this._mouseDownFlag=!1,Sv(r,l,u),n.dispatchAction(G(i(),{dx:l,dy:u}))},this),a.off("zoom").on("zoom",function(l,u,h){if(this._mouseDownFlag=!1,Mv(r,l,u,h),n.dispatchAction(G(i(),{zoom:l,originX:u,originY:h})),this._updateGroup){var c=this.group,d=c.scale;c.traverse(function(f){f.type==="text"&&f.attr("scale",[1/d[0],1/d[1]])})}},this),a.setPointerChecker(function(l,u,h){return o.getViewRectAfterRoam().contain(u,h)&&!jh(l,n,e)})}},Qe({type:"map",render:function(e,t,n,i){if(!i||i.type!=="mapToggleSelect"||i.from!==this.uid){var o=this.group;if(o.removeAll(),!e.getHostGeoModel()){if(i&&i.type==="geoRoam"&&i.componentType==="series"&&i.seriesId===e.id)(a=this._mapDraw)&&o.add(a.group);else if(e.needsDrawMap){var a=this._mapDraw||new ss(n,!0);o.add(a.group),a.draw(e,t,n,this,i),this._mapDraw=a}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,n)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(e,t,n){var i=e.originalData,o=this.group;i.each(i.mapDimension("value"),function(a,r){if(!isNaN(a)){var s=i.getItemLayout(r);if(s&&s.point){var l=s.point,u=s.offset,h=new Ei({style:{fill:e.getData().getVisual("color")},shape:{cx:l[0]+9*u,cy:l[1],r:3},silent:!0,z2:u?8:10});if(!u){var c=e.mainSeries.getData(),d=i.getName(r),f=c.indexOfName(d),p=i.getItemModel(r),g=p.getModel("label"),m=p.getModel("emphasis.label"),v=c.getItemGraphicEl(f),y=Be(e.getFormattedLabel(r,"normal"),d),x=Be(e.getFormattedLabel(r,"emphasis"),y),_=function(){var S=Se({},m,{text:m.get("show")?x:null},{isRectText:!0,useInsideStyle:!1},!0);h.style.extendFrom(S),h.__mapOriginalZ2=h.z2,h.z2+=1},w=function(){Se(h.style,g,{text:g.get("show")?y:null,textPosition:g.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),h.__mapOriginalZ2!=null&&(h.z2=h.__mapOriginalZ2,h.__mapOriginalZ2=null)};v.on("mouseover",_).on("mouseout",w).on("emphasis",_).on("normal",w),w()}o.add(h)}}})}}),se({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,t){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},function(i){var o=i.coordinateSystem;if(o.type==="geo"){var a=Av(o,e,i.get("scaleLimit"));i.setCenter&&i.setCenter(a.center),i.setZoom&&i.setZoom(a.zoom),n==="series"&&b(i.seriesGroup,function(r){r.setCenter(a.center),r.setZoom(a.zoom)})}})}),be(function(e){var t={};e.eachSeriesByType("map",function(n){var i=n.getMapType();if(!n.getHostGeoModel()&&!t[i]){var o={};b(n.seriesGroup,function(r){var s=r.coordinateSystem,l=r.originalData;r.get("showLegendSymbol")&&e.getComponent("legend")&&l.each(l.mapDimension("value"),function(u,h){var c=l.getName(h),d=s.getRegion(c);if(d&&!isNaN(u)){var f=o[c]||0,p=s.dataToPoint(d.center);o[c]=f+1,l.setItemLayout(h,{point:p,offset:f})}})});var a=n.getData();a.each(function(r){var s=a.getName(r),l=a.getItemLayout(r)||{};l.showLabel=!o[s],a.setItemLayout(r,l)}),t[i]=!0}})}),ye(function(e){e.eachSeriesByType("map",function(t){var n=t.get("color"),i=t.getModel("itemStyle"),o=i.get("areaColor"),a=i.get("color")||n[t.seriesIndex%n.length];t.getData().setVisual({areaColor:o,color:a})})}),ut(Ho.PROCESSOR.STATISTIC,function(e){var t={};e.eachSeriesByType("map",function(n){var i=n.getHostGeoModel(),o=i?"o"+i.id:"i"+n.getMapType();(t[o]=t[o]||[]).push(n)}),b(t,function(n,i){for(var o=HM(P(n,function(r){return r.getData()}),n[0].get("mapValueCalculation")),a=0;a<n.length;a++)n[a].originalData=n[a].getData();for(a=0;a<n.length;a++)n[a].seriesGroup=n,n[a].needsDrawMap=a===0&&!n[a].getHostGeoModel(),n[a].setData(o.cloneShallow()),n[a].mainSeries=n[0]})}),He(function(e){var t=[];b(e.series,function(n){n&&n.type==="map"&&(t.push(n),n.map=n.map||n.mapType,W(n,n.mapLocation))})}),Zx("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]);var cr=b,dr="\0__link_datas",Wl="\0__link_mainData",bf=function(e,t){this.name=e||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=t};bf.prototype={constructor:bf,isRemoved:function(){return this.dataIndex<0},eachNode:function(e,t,n){typeof e=="function"&&(n=t,t=e,e=null),xe(e=e||{})&&(e={order:e});var i,o=e.order||"preorder",a=this[e.attr||"children"];o==="preorder"&&(i=t.call(n,this));for(var r=0;!i&&r<a.length;r++)a[r].eachNode(e,t,n);o==="postorder"&&t.call(n,this)},updateDepthAndHeight:function(e){var t=0;this.depth=e;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(e+1),i.height>t&&(t=i.height)}this.height=t+1},getNodeById:function(e){if(this.getId()===e)return this;for(var t=0,n=this.children,i=n.length;t<i;t++){var o=n[t].getNodeById(e);if(o)return o}},contains:function(e){if(e===this)return!0;for(var t=0,n=this.children,i=n.length;t<i;t++){var o=n[t].contains(e);if(o)return o}},getAncestors:function(e){for(var t=[],n=e?this:this.parentNode;n;)t.push(n),n=n.parentNode;return t.reverse(),t},getValue:function(e){var t=this.hostTree.data;return t.get(t.getDimension(e||"value"),this.dataIndex)},setLayout:function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(e){if(!(this.dataIndex<0)){var t,n=this.hostTree,i=n.data.getItemModel(this.dataIndex),o=this.getLevelModel();return o||this.children.length!==0&&(this.children.length===0||this.isExpand!==!1)||(t=this.getLeavesModel()),i.getModel(e,(o||t||n.hostModel).getModel(e))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},getVisual:function(e,t){return this.hostTree.data.getItemVisual(this.dataIndex,e,t)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},isDescendantOf:function(e){return e!==this&&e.isAncestorOf(this)}},Mi.prototype={constructor:Mi,type:"tree",eachNode:function(e,t,n){this.root.eachNode(e,t,n)},getNodeByDataIndex:function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},getNodeByName:function(e){return this.root.getNodeByName(e)},update:function(){for(var e=this.data,t=this._nodes,n=0,i=t.length;n<i;n++)t[n].dataIndex=-1;for(var n=0,i=e.count();n<i;n++)t[e.getRawIndex(n)].dataIndex=n},clearLayouts:function(){this.data.clearItemLayouts()}},Mi.createTree=function(e,t,n){function i(u,h){var c=u.value;r=Math.max(r,O(c)?c.length:1),a.push(u);var d=new bf(u.name,o);h?YM(d,h):o.root=d,o._nodes.push(d);var f=u.children;if(f)for(var p=0;p<f.length;p++)i(f[p],d)}var o=new Mi(t,n.levels,n.leaves),a=[],r=1;i(e),o.root.updateDepthAndHeight(0);var s=Zo(a,{coordDimensions:["value"],dimensionsCount:r}),l=new Ee(s,t);return l.initData(a),Tv({mainData:l,struct:o,structAttr:"tree"}),o.update(),o},Ae.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(e){var t={name:e.name,children:e.data},n=e.leaves||{},i={};i.leaves=n;var o=Mi.createTree(t,this,i),a=0;o.eachNode("preorder",function(s){s.depth>a&&(a=s.depth)});var r=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:a;return o.root.eachNode("preorder",function(s){var l=s.hostTree.data.getRawDataItem(s.dataIndex);s.isExpand=l&&l.collapsed!=null?!l.collapsed:s.depth<=r}),o.data},formatTooltip:function(e){for(var t=this.getData().tree,n=t.root.children[0],i=t.getNodeByDataIndex(e),o=i.getValue(),a=i.name;i&&i!==n;)a=i.parentNode.name+"."+a,i=i.parentNode;return we(a+(isNaN(o)||o==null?"":" : "+o))},defaultOption:{zlevel:0,z:2,left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",orient:"horizontal",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}}),Qe({type:"tree",init:function(e,t){this._oldTree,this._mainGroup=new V,this.group.add(this._mainGroup)},render:function(e,t,n,i){var o=e.getData(),a=e.layoutInfo,r=this._mainGroup,s=e.get("layout");s==="radial"?r.attr("position",[a.x+a.width/2,a.y+a.height/2]):r.attr("position",[a.x,a.y]);var l=this._data,u={expandAndCollapse:e.get("expandAndCollapse"),layout:s,orient:e.get("orient"),curvature:e.get("lineStyle.curveness"),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverAnimation:e.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};o.diff(l).add(function(h){kv(o,h)&&Ov(o,h,null,r,e,u)}).update(function(h,c){var d=l.getItemGraphicEl(c);kv(o,h)?Ov(o,h,d,r,e,u):d&&Nv(o,h,d,r,e,u)}).remove(function(h){var c=l.getItemGraphicEl(h);Nv(o,h,c,r,e,u)}).execute(),u.expandAndCollapse===!0&&o.eachItemGraphicEl(function(h,c){h.off("click").on("click",function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:c})})}),this._data=o},dispose:function(){},remove:function(){this._mainGroup.removeAll(),this._data=null}}),se({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(n){var i=e.dataIndex,o=n.getData().tree.getNodeByDataIndex(i);o.isExpand=!o.isExpand})});var qx=function(e,t){var n=QM(e,t);e.layoutInfo=n;var i=e.get("layout"),o=0,a=0,r=null;i==="radial"?(o=2*Math.PI,a=Math.min(n.height,n.width)/2,r=Lv(function(y,x){return(y.parentNode===x.parentNode?1:2)/y.depth})):(o=n.width,a=n.height,r=Lv());var s=e.getData().tree.root,l=s.children[0];$M(s),aI(l,KM,r),s.hierNode.modifier=-l.hierNode.prelim,Ea(l,JM);var u=l,h=l,c=l;Ea(l,function(y){var x=y.getLayout().x;x<u.getLayout().x&&(u=y),x>h.getLayout().x&&(h=y),y.depth>c.depth&&(c=y)});var d=u===h?1:r(u,h)/2,f=d-u.getLayout().x,p=0,g=0,m=0,v=0;i==="radial"?(p=o/(h.getLayout().x+d+f),g=a/(c.depth-1||1),Ea(l,function(y){m=(y.getLayout().x+f)*p,v=(y.depth-1)*g;var x=Na(m,v);y.setLayout({x:x.x,y:x.y,rawX:m,rawY:v},!0)})):e.get("orient")==="horizontal"?(g=a/(h.getLayout().x+d+f),p=o/(c.depth-1||1),Ea(l,function(y){v=(y.getLayout().x+f)*g,m=(y.depth-1)*p,y.setLayout({x:m,y:v},!0)})):(p=o/(h.getLayout().x+d+f),g=a/(c.depth-1||1),Ea(l,function(y){m=(y.getLayout().x+f)*p,v=(y.depth-1)*g,y.setLayout({x:m,y:v},!0)}))};ye(Fi("tree","circle")),be(function(e,t){e.eachSeriesByType("tree",function(n){qx(n,t)})}),be(function(e,t){e.eachSeriesByType("tree",function(n){qx(n,t)})}),Ae.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:1/0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25B6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(e,t){var n={name:e.name,children:e.data};zv(n);var i=e.levels||[];i=e.levels=rI(i,t);var o={};return o.levels=i,Mi.createTree(n,this,o).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(e){var t=this.getData(),n=this.getRawValue(e),i=yi(O(n)?n[0]:n);return we(t.getName(e)+": "+i)},getDataParams:function(e){var t=Ae.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(e);return t.treePathInfo=Jh(n,this),t},setLayoutInfo:function(e){this.layoutInfo=this.layoutInfo||{},G(this.layoutInfo,e)},mapIdToIndex:function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=K(),this._idIndexMapCount=0);var n=t.get(e);return n==null&&t.set(e,n=this._idIndexMapCount++),n},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)}});var Sf=5;Qh.prototype={constructor:Qh,render:function(e,t,n,i){var o=e.getModel("breadcrumb"),a=this.group;if(a.removeAll(),o.get("show")&&n){var r=o.getModel("itemStyle"),s=r.getModel("textStyle"),l={pos:{left:o.get("left"),right:o.get("right"),top:o.get("top"),bottom:o.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:o.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,l,s),this._renderContent(e,l,r,s,i),qr(a,l.pos,l.box)}},_prepare:function(e,t,n){for(var i=e;i;i=i.parentNode){var o=i.getModel().get("name"),a=n.getTextRect(o),r=Math.max(a.width+16,t.emptyItemWidth);t.totalWidth+=r+8,t.renderList.push({node:i,text:o,width:r})}},_renderContent:function(e,t,n,i,o){for(var a=0,r=t.emptyItemWidth,s=e.get("breadcrumb.height"),l=$b(t.pos,t.box),u=t.totalWidth,h=t.renderList,c=h.length-1;c>=0;c--){var d=h[c],f=d.node,p=d.width,g=d.text;u>l.width&&(u-=p-r,p=r,g=null);var m=new St({shape:{points:sI(a,0,p,s,c===h.length-1,c===0)},style:W(n.getItemStyle(),{lineJoin:"bevel",text:g,textFill:i.getTextColor(),textFont:i.getFont()}),z:10,onclick:j(o,f)});this.group.add(m),lI(m,e,f),a+=p+8}},remove:function(){this.group.removeAll()}};var Fl=U,Yx=V,$x=pe,rn=b,YC=["label"],$C=["emphasis","label"],KC=["upperLabel"],JC=["emphasis","upperLabel"],QC=10,eL=1,tL=2,Mf=Eo([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),Kx=function(e){var t=Mf(e);return t.stroke=t.fill=t.lineWidth=null,t};Qe({type:"treemap",init:function(e,t){this._containerGroup,this._storage={nodeGroup:[],background:[],content:[]},this._oldTree,this._breadcrumb,this._controller,this._state="ready"},render:function(e,t,n,i){if(!(ne(t.findComponents({mainType:"series",subType:"treemap",query:i}),e)<0)){this.seriesModel=e,this.api=n,this.ecModel=t;var o=za(i,["treemapZoomToNode","treemapRootToNode"],e),a=i&&i.type,r=e.layoutInfo,s=!this._oldTree,l=this._storage,u=a==="treemapRootToNode"&&o&&l?{rootNodeGroup:l.nodeGroup[o.node.getRawIndex()],direction:i.direction}:null,h=this._giveContainerGroup(r),c=this._doRender(h,e,u);s||a&&a!=="treemapZoomToNode"&&a!=="treemapRootToNode"?c.renderFinally():this._doAnimation(h,c,e,u),this._resetController(n),this._renderBreadcrumb(e,n,o)}},_giveContainerGroup:function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new Yx,this._initEvents(t),this.group.add(t)),t.attr("position",[e.x,e.y]),t},_doRender:function(e,t,n){function i(d,f,p,g,m){function v(x){return x.getId()}function y(x,_){var w=x!=null?d[x]:null,S=_!=null?f[_]:null,M=h(w,S,p,m);M&&i(w&&w.viewChildren||[],S&&S.viewChildren||[],M,g,m+1)}g?(f=d,rn(d,function(x,_){!x.isRemoved()&&y(_,_)})):new xn(f,d,v,v).add(y).update(y).remove(j(y,null)).execute()}var o=t.getData().tree,a=this._oldTree,r={nodeGroup:[],background:[],content:[]},s={nodeGroup:[],background:[],content:[]},l=this._storage,u=[],h=j(hI,t,s,l,n,r,u);i(o.root?[o.root]:[],a&&a.root?[a.root]:[],e,o===a||!a,0);var c=function(d){var f={nodeGroup:[],background:[],content:[]};return d&&rn(d,function(p,g){var m=f[g];rn(p,function(v){v&&(m.push(v),v.__tmWillDelete=1)})}),f}(l);return this._oldTree=o,this._storage=s,{lastsForAnimation:r,willDeleteEls:c,renderFinally:function(){rn(c,function(d){rn(d,function(f){f.parent&&f.parent.remove(f)})}),rn(u,function(d){d.invisible=!0,d.dirty()})}}},_doAnimation:function(e,t,n,i){if(n.get("animation")){var o=n.get("animationDurationUpdate"),a=n.get("animationEasing"),r=uI();rn(t.willDeleteEls,function(s,l){rn(s,function(u,h){if(!u.invisible){var c,d=u.parent;if(i&&i.direction==="drillDown")c=d===i.rootNodeGroup?{shape:{x:0,y:0,width:d.__tmNodeWidth,height:d.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var f=0,p=0;d.__tmWillDelete||(f=d.__tmNodeWidth/2,p=d.__tmNodeHeight/2),c=l==="nodeGroup"?{position:[f,p],style:{opacity:0}}:{shape:{x:f,y:p,width:0,height:0},style:{opacity:0}}}c&&r.add(u,c,o,a)}})}),rn(this._storage,function(s,l){rn(s,function(u,h){var c=t.lastsForAnimation[l][h],d={};c&&(l==="nodeGroup"?c.old&&(d.position=u.position.slice(),u.attr("position",c.old)):(c.old&&(d.shape=G({},u.shape),u.setShape(c.old)),c.fadein?(u.setStyle("opacity",0),d.style={opacity:1}):u.style.opacity!==1&&(d.style={opacity:1})),r.add(u,d,o,a))})},this),this._state="animating",r.done(Fl(function(){this._state="ready",t.renderFinally()},this)).start()}},_resetController:function(e){var t=this._controller;t||((t=this._controller=new Oa(e.getZr())).enable(this.seriesModel.get("roam")),t.on("pan",Fl(this._onPan,this)),t.on("zoom",Fl(this._onZoom,this)));var n=new Q(0,0,e.getWidth(),e.getHeight());t.setPointerChecker(function(i,o,a){return n.contain(o,a)})},_clearController:function(){var e=this._controller;e&&(e.dispose(),e=null)},_onPan:function(e,t){if(this._state!=="animating"&&(Math.abs(e)>3||Math.abs(t)>3)){var n=this.seriesModel.getData().tree.root;if(!n)return;var i=n.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+e,y:i.y+t,width:i.width,height:i.height}})}},_onZoom:function(e,t,n){if(this._state!=="animating"){var i=this.seriesModel.getData().tree.root;if(!i)return;var o=i.getLayout();if(!o)return;var a=new Q(o.x,o.y,o.width,o.height),r=this.seriesModel.layoutInfo;t-=r.x,n-=r.y;var s=Ct();Vt(s,s,[-t,-n]),Lr(s,s,[e,e]),Vt(s,s,[t,n]),a.applyTransform(s),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:a.x,y:a.y,width:a.width,height:a.height}})}},_initEvents:function(e){e.on("click",function(t){if(this._state==="ready"){var n=this.seriesModel.get("nodeClick",!0);if(n){var i=this.findTarget(t.offsetX,t.offsetY);if(i){var o=i.node;if(o.getLayout().isLeafRoot)this._rootToNode(i);else if(n==="zoomToNode")this._zoomToNode(i);else if(n==="link"){var a=o.hostTree.data.getItemModel(o.dataIndex),r=a.get("link",!0),s=a.get("target",!0)||"blank";r&&window.open(r,s)}}}}},this)},_renderBreadcrumb:function(e,t,n){n||(n=e.get("leafDepth",!0)!=null?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2))||(n={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new Qh(this.group))).render(e,t,n.node,Fl(function(i){this._state!=="animating"&&(Kh(e.getViewRoot(),i)?this._rootToNode({node:i}):this._zoomToNode({node:i}))},this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},_rootToNode:function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},findTarget:function(e,t){var n;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(i){var o=this._storage.background[i.getRawIndex()];if(o){var a=o.transformCoordToLocal(e,t),r=o.shape;if(!(r.x<=a[0]&&a[0]<=r.x+r.width&&r.y<=a[1]&&a[1]<=r.y+r.height))return!1;n={node:i,offsetX:a[0],offsetY:a[1]}}},this),n}});for(var Jx=["treemapZoomToNode","treemapRender","treemapMove"],If=0;If<Jx.length;If++)se({type:Jx[If],update:"updateView"},function(){});se({type:"treemapRootToNode",update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"treemap",query:e},function(n,i){var o=za(e,["treemapZoomToNode","treemapRootToNode"],n);if(o){var a=n.getViewRoot();a&&(e.direction=Kh(a,o.node)?"rollUp":"drillDown"),n.resetViewRoot(o.node)}})});var fr=b,Qx=Y,Hl=-1,ce=function(e){var t=e.mappingMethod,n=e.type,i=this.option=Z(e);this.type=n,this.mappingMethod=t,this._normalizeData=nL[t];var o=pr[n];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._doMap=o._doMap[t],t==="piecewise"?(ec(i),dI(i)):t==="category"?i.categories?fI(i):ec(i,!0):(Pn(t!=="linear"||i.dataExtent),ec(i))};ce.prototype={constructor:ce,mapValueToVisual:function(e){var t=this._normalizeData(e);return this._doMap(t,e)},getNormalizer:function(){return U(this._normalizeData,this)}};var pr=ce.visualHandlers={color:{applyVisual:tc("color"),getColorMapper:function(){var e=this.option;return U(e.mappingMethod==="category"?function(t,n){return!n&&(t=this._normalizeData(t)),us.call(this,t)}:function(t,n,i){var o=!!i;return!n&&(t=this._normalizeData(t)),i=da(t,e.parsedVisual,i),o?i:gn(i,"rgba")},this)},_doMap:{linear:function(e){return gn(da(e,this.option.parsedVisual),"rgba")},category:us,piecewise:function(e,t){var n=oc.call(this,t);return n==null&&(n=gn(da(e,this.option.parsedVisual),"rgba")),n},fixed:nc}},colorHue:ls(function(e,t){return fo(e,t)}),colorSaturation:ls(function(e,t){return fo(e,null,t)}),colorLightness:ls(function(e,t){return fo(e,null,null,t)}),colorAlpha:ls(function(e,t){return Or(e,t)}),opacity:{applyVisual:tc("opacity"),_doMap:ic([0,1])},symbol:{applyVisual:function(e,t,n){var i=this.mapValueToVisual(e);if(xe(i))n("symbol",i);else if(Qx(i))for(var o in i)i.hasOwnProperty(o)&&n(o,i[o])},_doMap:{linear:Rv,category:us,piecewise:function(e,t){var n=oc.call(this,t);return n==null&&(n=Rv.call(this,e)),n},fixed:nc}},symbolSize:{applyVisual:tc("symbolSize"),_doMap:ic([0,1])}},nL={linear:function(e){return Ie(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,n=ce.findPieceIndex(e,t,!0);if(n!=null)return Ie(n,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return t==null?Hl:t},fixed:We};ce.listVisualTypes=function(){var e=[];return b(pr,function(t,n){e.push(n)}),e},ce.addVisualHandler=function(e,t){pr[e]=t},ce.isValidType=function(e){return pr.hasOwnProperty(e)},ce.eachVisual=function(e,t,n){Y(e)?b(e,t,n):t.call(n,e)},ce.mapVisual=function(e,t,n){var i,o=O(e)?[]:Y(e)?{}:(i=!0,null);return ce.eachVisual(e,function(a,r){var s=t.call(n,a,r);i?o=s:o[r]=s}),o},ce.retrieveVisuals=function(e){var t,n={};return e&&fr(pr,function(i,o){e.hasOwnProperty(o)&&(n[o]=e[o],t=!0)}),t?n:null},ce.prepareVisualTypes=function(e){if(Qx(e)){var t=[];fr(e,function(n,i){t.push(i)}),e=t}else{if(!O(e))return[];e=e.slice()}return e.sort(function(n,i){return i==="color"&&n!=="color"&&n.indexOf("color")===0?1:-1}),e},ce.dependsOn=function(e,t){return t==="color"?!(!e||e.indexOf(t)!==0):e===t},ce.findPieceIndex=function(e,t,n){function i(d,f){var p=Math.abs(d-e);p<a&&(a=p,o=f)}for(var o,a=1/0,r=0,s=t.length;r<s;r++){var l=t[r].value;if(l!=null){if(l===e||typeof l=="string"&&l===e+"")return r;n&&i(l,r)}}for(var r=0,s=t.length;r<s;r++){var u=t[r],h=u.interval,c=u.close;if(h){if(h[0]===-1/0){if(hs(c[1],e,h[1]))return r}else if(h[1]===1/0){if(hs(c[0],h[0],e))return r}else if(hs(c[0],h[0],e)&&hs(c[1],e,h[1]))return r;n&&i(h[0],r),n&&i(h[1],r)}}if(n)return e===1/0?t.length-1:e===-1/0?0:o};var iL=O,Df="itemStyle",oL={seriesType:"treemap",reset:function(e,t,n,i){var o=e.getData().tree,a=o.root,r=e.getModel(Df);a.isRemoved()||Vv(a,{},P(o.levelModels,function(s){return s?s.get(Df):null}),r,e.getViewRoot().getAncestors(),e)}},gr=Math.max,Zl=Math.min,e_=Re,Af=b,t_=["itemStyle","borderWidth"],aL=["itemStyle","gapWidth"],rL=["upperLabel","show"],sL=["upperLabel","height"],lL={seriesType:"treemap",reset:function(e,t,n,i){var o=n.getWidth(),a=n.getHeight(),r=e.option,s=Pe(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),l=r.size||[],u=E(e_(s.width,l[0]),o),h=E(e_(s.height,l[1]),a),c=i&&i.type,d=za(i,["treemapZoomToNode","treemapRootToNode"],e),f=c==="treemapRender"||c==="treemapMove"?i.rootRect:null,p=e.getViewRoot(),g=Ev(p);if(c!=="treemapMove"){var m=c==="treemapZoomToNode"?SI(e,d,p,u,h):f?[f.width,f.height]:[u,h],v=r.sort;v&&v!=="asc"&&v!=="desc"&&(v="desc");var y={squareRatio:r.squareRatio,sort:v,leafDepth:r.leafDepth};p.hostTree.clearLayouts(),x={x:0,y:0,width:m[0],height:m[1],area:m[0]*m[1]},p.setLayout(x),Wv(p,y,!1,0);var x=p.getLayout();Af(g,function(w,S){var M=(g[S+1]||p).getValue();w.setLayout(G({dataExtent:[M,M],borderWidth:0,upperHeight:0},x))})}var _=e.getData().tree.root;_.setLayout(MI(s,f,d),!0),e.setLayoutInfo(s),Hv(_,new Q(-s.x,-s.y,o,a),g,p,0)}};ye(oL),be(lL);var mr=function(e){this._directed=e||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},pt=mr.prototype;pt.type="graph",pt.isDirected=function(){return this._directed},pt.addNode=function(e,t){e=e||""+t;var n=this._nodesMap;if(!n[So(e)]){var i=new Pt(e,t);return i.hostGraph=this,this.nodes.push(i),n[So(e)]=i,i}},pt.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},pt.getNodeById=function(e){return this._nodesMap[So(e)]},pt.addEdge=function(e,t,n){var i=this._nodesMap,o=this._edgesMap;if(typeof e=="number"&&(e=this.nodes[e]),typeof t=="number"&&(t=this.nodes[t]),Pt.isInstance(e)||(e=i[So(e)]),Pt.isInstance(t)||(t=i[So(t)]),e&&t){var a=e.id+"-"+t.id;if(!o[a]){var r=new Ra(e,t,n);return r.hostGraph=this,this._directed&&(e.outEdges.push(r),t.inEdges.push(r)),e.edges.push(r),e!==t&&t.edges.push(r),this.edges.push(r),o[a]=r,r}}},pt.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},pt.getEdge=function(e,t){Pt.isInstance(e)&&(e=e.id),Pt.isInstance(t)&&(t=t.id);var n=this._edgesMap;return this._directed?n[e+"-"+t]:n[e+"-"+t]||n[t+"-"+e]},pt.eachNode=function(e,t){for(var n=this.nodes,i=n.length,o=0;o<i;o++)n[o].dataIndex>=0&&e.call(t,n[o],o)},pt.eachEdge=function(e,t){for(var n=this.edges,i=n.length,o=0;o<i;o++)n[o].dataIndex>=0&&n[o].node1.dataIndex>=0&&n[o].node2.dataIndex>=0&&e.call(t,n[o],o)},pt.breadthFirstTraverse=function(e,t,n,i){if(Pt.isInstance(t)||(t=this._nodesMap[So(t)]),t){for(var o=n==="out"?"outEdges":n==="in"?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!e.call(i,t,null))for(var r=[t];r.length;)for(var s=r.shift(),l=s[o],a=0;a<l.length;a++){var u=l[a],h=u.node1===s?u.node2:u.node1;if(!h.__visited){if(e.call(i,h,s))return;r.push(h),h.__visited=!0}}}},pt.update=function(){for(var e=this.data,t=this.edgeData,n=this.nodes,i=this.edges,o=0,a=n.length;o<a;o++)n[o].dataIndex=-1;for(var o=0,a=e.count();o<a;o++)n[e.getRawIndex(o)].dataIndex=o;t.filterSelf(function(r){var s=i[t.getRawIndex(r)];return s.node1.dataIndex>=0&&s.node2.dataIndex>=0});for(var o=0,a=i.length;o<a;o++)i[o].dataIndex=-1;for(var o=0,a=t.count();o<a;o++)i[t.getRawIndex(o)].dataIndex=o},pt.clone=function(){for(var e=new mr(this._directed),t=this.nodes,n=this.edges,i=0;i<t.length;i++)e.addNode(t[i].id,t[i].dataIndex);for(i=0;i<n.length;i++){var o=n[i];e.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return e},Pt.prototype={constructor:Pt,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(e){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(e)}},Ra.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(e)};var n_=function(e,t){return{getValue:function(n){var i=this[e][t];return i.get(i.getDimension(n||"value"),this.dataIndex)},setVisual:function(n,i){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,n,i)},getVisual:function(n,i){return this[e][t].getItemVisual(this.dataIndex,n,i)},setLayout:function(n,i){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,n,i)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}};oe(Pt,n_("hostGraph","data")),oe(Ra,n_("hostGraph","edgeData")),mr.Node=Pt,mr.Edge=Ra,Wr(Pt),Wr(Ra);var i_=function(e,t,n,i,o){for(var a=new mr(i),r=0;r<e.length;r++)a.addNode(Re(e[r].id,e[r].name,r),r);for(var s=[],l=[],u=0,r=0;r<t.length;r++){var h=t[r],c=h.source,d=h.target;a.addEdge(c,d,u)&&(l.push(h),s.push(Re(h.id,c+" > "+d)),u++)}var f,p=n.get("coordinateSystem");if(p==="cartesian2d"||p==="polar")f=_n(e,n);else{var g=Xe.get(p),m=Zo(e,{coordDimensions:(g&&g.type!=="view"?g.dimensions||[]:[]).concat(["value"])});(f=new Ee(m,n)).initData(e)}var v=new Ee(["value"],n);return v.initData(l,s),o&&o(f,v),Tv({mainData:f,struct:a,structAttr:"graph",datas:{node:f,edge:v},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a},vr=Aa({type:"series.graph",init:function(e){vr.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},mergeOption:function(e){vr.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(e){vr.superApply(this,"mergeDefaultAndTheme",arguments),pi(e,["edgeLabel"],["show"])},getInitialData:function(e,t){var n=e.edges||e.links||[],i=e.data||e.nodes||[],o=this;if(i&&n)return i_(i,n,this,!0,function(a,r){function s(h){return(h=this.parsePath(h))&&h[0]==="label"?u:this.parentModel}a.wrapMethod("getItemModel",function(h){var c=o._categoriesModels[h.getShallow("category")];return c&&(c.parentModel=h.parentModel,h.parentModel=c),h});var l=o.getModel("edgeLabel"),u=new re({label:l.option},l.parentModel,t);r.wrapMethod("getItemModel",function(h){return h.customizeGetParent(s),h})}).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(e,t,n){if(n==="edge"){var i=this.getData(),o=this.getDataParams(e,n),a=i.graph.getEdgeByIndex(e),r=i.getName(a.node1.dataIndex),s=i.getName(a.node2.dataIndex),l=[];return r!=null&&l.push(r),s!=null&&l.push(s),l=we(l.join(" > ")),o.value&&(l+=" : "+we(o.value)),l}return vr.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var e=P(this.option.categories||[],function(n){return n.value!=null?n:G({value:0},n)}),t=new Ee(["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray(function(n){return t.getItemModel(n,!0)})},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},isAnimationEnabled:function(){return vr.superCall(this,"isAnimationEnabled")&&!(this.get("layout")==="force"&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle"},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{label:{show:!0}}}}),o_=Mt.prototype,Tf=Gd.prototype,uL=Ht({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(e,t){(sc(t)?o_:Tf).buildPath(e,t)},pointAt:function(e){return sc(this.shape)?o_.pointAt.call(this,e):Tf.pointAt.call(this,e)},tangentAt:function(e){var t=this.shape,n=sc(t)?[t.x2-t.x1,t.y2-t.y1]:Tf.tangentAt.call(this,e);return lo(n,n)}}),Cf=["fromSymbol","toSymbol"],ii=Ba.prototype;ii.beforeUpdate=function(){var e=this,t=e.childOfName("fromSymbol"),n=e.childOfName("toSymbol"),i=e.childOfName("label");if(t||n||!i.ignore){for(var o=1,a=this.parent;a;)a.scale&&(o/=a.scale[0]),a=a.parent;var r=e.childOfName("line");if(this.__dirty||r.__dirty){var s=r.shape.percent,l=r.pointAt(0),u=r.pointAt(s),h=dn([],u,l);if(lo(h,h),t&&(t.attr("position",l),c=r.tangentAt(0),t.attr("rotation",Math.PI/2-Math.atan2(c[1],c[0])),t.attr("scale",[o*s,o*s])),n){n.attr("position",u);var c=r.tangentAt(1);n.attr("rotation",-Math.PI/2-Math.atan2(c[1],c[0])),n.attr("scale",[o*s,o*s])}if(!i.ignore){i.attr("position",u);var d,f,p,g=5*o;if(i.__position==="end")d=[h[0]*g+u[0],h[1]*g+u[1]],f=h[0]>.8?"left":h[0]<-.8?"right":"center",p=h[1]>.8?"top":h[1]<-.8?"bottom":"middle";else if(i.__position==="middle"){var m=s/2,v=[(c=r.tangentAt(m))[1],-c[0]],y=r.pointAt(m);v[1]>0&&(v[0]=-v[0],v[1]=-v[1]),d=[y[0]+v[0]*g,y[1]+v[1]*g],f="center",p="bottom";var x=-Math.atan2(c[1],c[0]);u[0]<l[0]&&(x=Math.PI+x),i.attr("rotation",x)}else d=[-h[0]*g+l[0],-h[1]*g+l[1]],f=h[0]>.8?"right":h[0]<-.8?"left":"center",p=h[1]>.8?"bottom":h[1]<-.8?"top":"middle";i.attr({style:{textVerticalAlign:i.__verticalAlign||p,textAlign:i.__textAlign||f},position:d,scale:[o,o]})}}}},ii._createLine=function(e,t,n){var i=e.hostModel,o=II(e.getItemLayout(t));o.shape.percent=0,Je(o,{shape:{percent:1}},i,t),this.add(o);var a=new te({name:"label"});this.add(a),b(Cf,function(r){var s=jv(r,e,t);this.add(s),this[Uv(r)]=e.getItemVisual(t,r)},this),this._updateCommonStl(e,t,n)},ii.updateData=function(e,t,n){var i=e.hostModel,o=this.childOfName("line"),a=e.getItemLayout(t),r={shape:{}};lc(r.shape,a),J(o,r,i,t),b(Cf,function(s){var l=e.getItemVisual(t,s),u=Uv(s);if(this[u]!==l){this.remove(this.childOfName(s));var h=jv(s,e,t);this.add(h)}this[u]=l},this),this._updateCommonStl(e,t,n)},ii._updateCommonStl=function(e,t,n){var i=e.hostModel,o=this.childOfName("line"),a=n&&n.lineStyle,r=n&&n.hoverLineStyle,s=n&&n.labelModel,l=n&&n.hoverLabelModel;if(!n||e.hasItemOption){var u=e.getItemModel(t);a=u.getModel("lineStyle").getLineStyle(),r=u.getModel("emphasis.lineStyle").getLineStyle(),s=u.getModel("label"),l=u.getModel("emphasis.label")}var h=e.getItemVisual(t,"color"),c=ui(e.getItemVisual(t,"opacity"),a.opacity,1);o.useStyle(W({strokeNoScale:!0,fill:"none",stroke:h,opacity:c},a)),o.hoverStyle=r,b(Cf,function(_){var w=this.childOfName(_);w&&(w.setColor(h),w.setStyle({opacity:c}))},this);var d,f,p,g=s.getShallow("show"),m=l.getShallow("show"),v=this.childOfName("label");if(g||m){if(d=h||"#000",(f=i.getFormattedLabel(t,"normal",e.dataType))==null){var y=i.getRawValue(t);f=y==null?e.getName(t):isFinite(y)?nt(y):y}p=Be(i.getFormattedLabel(t,"emphasis",e.dataType),f)}if(g){var x=Se(v.style,s,{text:f},{autoColor:d});v.__textAlign=x.textAlign,v.__verticalAlign=x.textVerticalAlign,v.__position=s.get("position")||"middle"}else v.setStyle("text",null);v.hoverStyle=m?{text:p,textFill:l.getTextColor(!0),fontStyle:l.getShallow("fontStyle"),fontWeight:l.getShallow("fontWeight"),fontSize:l.getShallow("fontSize"),fontFamily:l.getShallow("fontFamily")}:{text:null},v.ignore=!g&&!m,ve(this)},ii.highlight=function(){this.trigger("emphasis")},ii.downplay=function(){this.trigger("normal")},ii.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))},ii.setLinePoints=function(e){var t=this.childOfName("line");lc(t.shape,e),t.dirty()},he(Ba,V);var Ui=cs.prototype;Ui.isPersistent=function(){return!0},Ui.updateData=function(e){var t=this,n=t.group,i=t._lineData;t._lineData=e,i||n.removeAll();var o=Xv(e);e.diff(i).add(function(a){DI(t,e,a,o)}).update(function(a,r){AI(t,i,e,r,a,o)}).remove(function(a){n.remove(i.getItemGraphicEl(a))}).execute()},Ui.updateLayout=function(){var e=this._lineData;e.eachItemGraphicEl(function(t,n){t.updateLayout(e,n)},this)},Ui.incrementalPrepareUpdate=function(e){this._seriesScope=Xv(e),this._lineData=null,this.group.removeAll()},Ui.incrementalUpdate=function(e,t){for(var n=e.start;n<e.end;n++)if(uc(t.getItemLayout(n))){var i=new this._ctor(t,n,this._seriesScope);i.traverse(function(o){o.isGroup||(o.incremental=o.useHoverLayer=!0)}),this.group.add(i)}},Ui.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},Ui._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()};var Lf=[],kf=[],Pf=[],Ko=je,Of=Fn,a_=Math.abs,Nf=function(e,t){function n(l){var u=l.getVisual("symbolSize");return u instanceof Array&&(u=(u[0]+u[1])/2),u}var i=[],o=$u,a=[[],[],[]],r=[[],[]],s=[];t/=2,e.eachEdge(function(l,u){var h=l.getLayout(),c=l.getVisual("fromSymbol"),d=l.getVisual("toSymbol");h.__original||(h.__original=[Tt(h[0]),Tt(h[1])],h[2]&&h.__original.push(Tt(h[2])));var f=h.__original;if(h[2]!=null){if(Fe(a[0],f[0]),Fe(a[1],f[2]),Fe(a[2],f[1]),c&&c!="none"){var p=n(l.node1),g=Yv(a,f[0],p*t);o(a[0][0],a[1][0],a[2][0],g,i),a[0][0]=i[3],a[1][0]=i[4],o(a[0][1],a[1][1],a[2][1],g,i),a[0][1]=i[3],a[1][1]=i[4]}if(d&&d!="none"){var p=n(l.node2),g=Yv(a,f[1],p*t);o(a[0][0],a[1][0],a[2][0],g,i),a[1][0]=i[1],a[2][0]=i[2],o(a[0][1],a[1][1],a[2][1],g,i),a[1][1]=i[1],a[2][1]=i[2]}Fe(h[0],a[0]),Fe(h[1],a[2]),Fe(h[2],a[1])}else Fe(r[0],f[0]),Fe(r[1],f[1]),dn(s,r[1],r[0]),lo(s,s),c&&c!="none"&&(p=n(l.node1),la(r[0],r[0],s,p*t)),d&&d!="none"&&(p=n(l.node2),la(r[1],r[1],s,-p*t)),Fe(h[0],r[0]),Fe(h[1],r[1])})},ji=["itemStyle","opacity"],Ul=["lineStyle","opacity"];Qe({type:"graph",init:function(e,t){var n=new _o,i=new cs,o=this.group;this._controller=new Oa(t.getZr()),this._controllerHost={target:o},o.add(n.group),o.add(i.group),this._symbolDraw=n,this._lineDraw=i,this._firstRender=!0},render:function(e,t,n){var i=e.coordinateSystem;this._model=e,this._nodeScaleRatio=e.get("nodeScaleRatio");var o=this._symbolDraw,a=this._lineDraw,r=this.group;if(i.type==="view"){var s={position:i.position,scale:i.scale};this._firstRender?r.attr(s):J(r,s,e)}Nf(e.getGraph(),this._getNodeGlobalScale(e));var l=e.getData();o.updateData(l);var u=e.getEdgeData();a.updateData(u),this._updateNodeAndLinkScale(),this._updateController(e,t,n),clearTimeout(this._layoutTimeout);var h=e.forceLayout,c=e.get("force.layoutAnimation");h&&this._startForceLayoutIteration(h,c),l.eachItemGraphicEl(function(g,m){var v=l.getItemModel(m);g.off("drag").off("dragend");var y=l.getItemModel(m).get("draggable");y&&g.on("drag",function(){h&&(h.warmUp(),!this._layouting&&this._startForceLayoutIteration(h,c),h.setFixed(m),l.setItemLayout(m,g.position))},this).on("dragend",function(){h&&h.setUnfixed(m)},this),g.setDraggable(y&&h),g.off("mouseover",g.__focusNodeAdjacency),g.off("mouseout",g.__unfocusNodeAdjacency),v.get("focusNodeAdjacency")&&(g.on("mouseover",g.__focusNodeAdjacency=function(){n.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,dataIndex:g.dataIndex})}),g.on("mouseout",g.__unfocusNodeAdjacency=function(){n.dispatchAction({type:"unfocusNodeAdjacency",seriesId:e.id})}))},this),l.graph.eachEdge(function(g){var m=g.getGraphicEl();m.off("mouseover",m.__focusNodeAdjacency),m.off("mouseout",m.__unfocusNodeAdjacency),g.getModel().get("focusNodeAdjacency")&&(m.on("mouseover",m.__focusNodeAdjacency=function(){n.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,edgeDataIndex:g.dataIndex})}),m.on("mouseout",m.__unfocusNodeAdjacency=function(){n.dispatchAction({type:"unfocusNodeAdjacency",seriesId:e.id})}))});var d=e.get("layout")==="circular"&&e.get("circular.rotateLabel"),f=l.getLayout("cx"),p=l.getLayout("cy");l.eachItemGraphicEl(function(g,m){var v=g.getSymbolPath();if(d){var y=l.getItemLayout(m),x=Math.atan2(y[1]-p,y[0]-f);x<0&&(x=2*Math.PI+x);var _=y[0]<f;_&&(x-=Math.PI);var w=_?"left":"right";v.setStyle({textRotation:-x,textPosition:w,textOrigin:"center"}),v.hoverStyle&&(v.hoverStyle.textPosition=w)}else v.setStyle({textRotation:0})}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},focusNodeAdjacency:function(e,t,n,i){var o=this._model.getData().graph,a=i.dataIndex,r=i.edgeDataIndex,s=o.getNodeByIndex(a),l=o.getEdgeByIndex(r);(s||l)&&(o.eachNode(function(u){ds(u,ji,.1)}),o.eachEdge(function(u){ds(u,Ul,.1)}),s&&(Ii(s,ji),b(s.edges,function(u){u.dataIndex<0||(Ii(u,Ul),Ii(u.node1,ji),Ii(u.node2,ji))})),l&&(Ii(l,Ul),Ii(l.node1,ji),Ii(l.node2,ji)))},unfocusNodeAdjacency:function(e,t,n,i){var o=this._model.getData().graph;o.eachNode(function(a){ds(a,ji)}),o.eachEdge(function(a){ds(a,Ul)})},_startForceLayoutIteration:function(e,t){var n=this;(function i(){e.step(function(o){n.updateLayout(n._model),(n._layouting=!o)&&(t?n._layoutTimeout=setTimeout(i,16):i())})})()},_updateController:function(e,t,n){var i=this._controller,o=this._controllerHost,a=this.group;i.setPointerChecker(function(r,s,l){var u=a.getBoundingRect();return u.applyTransform(a.transform),u.contain(s,l)&&!jh(r,n,e)}),e.coordinateSystem.type==="view"?(i.enable(e.get("roam")),o.zoomLimit=e.get("scaleLimit"),o.zoom=e.coordinateSystem.getZoom(),i.off("pan").off("zoom").on("pan",function(r,s){Sv(o,r,s),n.dispatchAction({seriesId:e.id,type:"graphRoam",dx:r,dy:s})}).on("zoom",function(r,s,l){Mv(o,r,s,l),n.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:r,originX:s,originY:l}),this._updateNodeAndLinkScale(),Nf(e.getGraph(),this._getNodeGlobalScale(e)),this._lineDraw.updateLayout()},this)):i.disable()},_updateNodeAndLinkScale:function(){var e=this._model,t=e.getData(),n=this._getNodeGlobalScale(e),i=[n,n];t.eachItemGraphicEl(function(o,a){o.attr("scale",i)})},_getNodeGlobalScale:function(e){var t=e.coordinateSystem;if(t.type!=="view")return 1;var n=this._nodeScaleRatio,i=t.scale,o=i&&i[0]||1;return((t.getZoom()-1)*n+1)/o},updateLayout:function(e){Nf(e.getGraph(),this._getNodeGlobalScale(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}}),se({type:"graphRoam",event:"graphRoam",update:"none"},function(e,t){t.eachComponent({mainType:"series",query:e},function(n){var i=Av(n.coordinateSystem,e);n.setCenter&&n.setCenter(i.center),n.setZoom&&n.setZoom(i.zoom)})}),se({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series.graph:focusNodeAdjacency"},function(){}),se({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series.graph:unfocusNodeAdjacency"},function(){});var Jo=la;ut(function(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.eachSeriesByType("graph",function(n){var i=n.getCategoriesData(),o=n.getGraph().data,a=i.mapArray(i.getName);o.filterSelf(function(r){var s=o.getItemModel(r).getShallow("category");if(s!=null){typeof s=="number"&&(s=a[s]);for(var l=0;l<t.length;l++)if(!t[l].isSelected(s))return!1}return!0})},this)}),ye(Fi("graph","circle",null)),ye(function(e){var t={};e.eachSeriesByType("graph",function(n){var i=n.getCategoriesData(),o=n.getData(),a={};i.each(function(r){var s=i.getName(r);a["ec-"+s]=r;var l=i.getItemModel(r).get("itemStyle.color")||n.getColorFromPalette(s,t);i.setItemVisual(r,"color",l)}),i.count()&&o.each(function(r){var s=o.getItemModel(r).getShallow("category");s!=null&&(typeof s=="string"&&(s=a["ec-"+s]),o.getItemVisual(r,"color",!0)||o.setItemVisual(r,"color",i.getItemVisual(s,"color")))})})}),ye(function(e){e.eachSeriesByType("graph",function(t){var n=t.getGraph(),i=t.getEdgeData(),o=fs(t.get("edgeSymbol")),a=fs(t.get("edgeSymbolSize")),r="lineStyle.color".split("."),s="lineStyle.opacity".split(".");i.setVisual("fromSymbol",o&&o[0]),i.setVisual("toSymbol",o&&o[1]),i.setVisual("fromSymbolSize",a&&a[0]),i.setVisual("toSymbolSize",a&&a[1]),i.setVisual("color",t.get(r)),i.setVisual("opacity",t.get(s)),i.each(function(l){var u=i.getItemModel(l),h=n.getEdgeByIndex(l),c=fs(u.getShallow("symbol",!0)),d=fs(u.getShallow("symbolSize",!0)),f=u.get(r),p=u.get(s);switch(f){case"source":f=h.node1.getVisual("color");break;case"target":f=h.node2.getVisual("color")}c[0]&&h.setVisual("fromSymbol",c[0]),c[1]&&h.setVisual("toSymbol",c[1]),d[0]&&h.setVisual("fromSymbolSize",d[0]),d[1]&&h.setVisual("toSymbolSize",d[1]),h.setVisual("color",f),h.setVisual("opacity",p)})})}),be(function(e,t){e.eachSeriesByType("graph",function(n){var i=n.get("layout"),o=n.coordinateSystem;if(o&&o.type!=="view"){var a=n.getData(),r=[];b(o.dimensions,function(d){r=r.concat(a.mapDimension(d,!0))});for(var s=0;s<a.count();s++){for(var l=[],u=!1,h=0;h<r.length;h++){var c=a.get(r[h],s);isNaN(c)||(u=!0),l.push(c)}u?a.setItemLayout(s,o.dataToPoint(l)):a.setItemLayout(s,[NaN,NaN])}Jv(a.graph)}else i&&i!=="none"||Kv(n)})}),be(function(e){e.eachSeriesByType("graph",function(t){t.get("layout")==="circular"&&Qv(t)})}),be(function(e){e.eachSeriesByType("graph",function(t){var n=t.coordinateSystem;if(!n||n.type==="view")if(t.get("layout")==="force"){var i=t.preservedPoints||{},o=t.getGraph(),a=o.data,r=o.edgeData,s=t.getModel("force"),l=s.get("initLayout");t.preservedPoints?a.each(function(y){var x=a.getId(y);a.setItemLayout(y,i[x]||[NaN,NaN])}):l&&l!=="none"?l==="circular"&&Qv(t):Kv(t);var u=a.getDataExtent("value"),h=r.getDataExtent("value"),c=s.get("repulsion"),d=s.get("edgeLength");O(c)||(c=[c,c]),O(d)||(d=[d,d]),d=[d[1],d[0]];var f=a.mapArray("value",function(y,x){var _=a.getItemLayout(x),w=Ie(y,u,c);return isNaN(w)&&(w=(c[0]+c[1])/2),{w,rep:w,fixed:a.getItemModel(x).get("fixed"),p:!_||isNaN(_[0])||isNaN(_[1])?null:_}}),p=r.mapArray("value",function(y,x){var _=o.getEdgeByIndex(x),w=Ie(y,h,d);return isNaN(w)&&(w=(d[0]+d[1])/2),{n1:f[_.node1.dataIndex],n2:f[_.node2.dataIndex],d:w,curveness:_.getModel().get("lineStyle.curveness")||0}}),g=(n=t.coordinateSystem).getBoundingRect(),m=TI(f,p,{rect:g,gravity:s.get("gravity")}),v=m.step;m.step=function(y){for(var x=0,_=f.length;x<_;x++)f[x].fixed&&Fe(f[x].p,o.getNodeByIndex(x).getLayout());v(function(w,S,M){for(var I=0,D=w.length;I<D;I++)w[I].fixed||o.getNodeByIndex(I).setLayout(w[I].p),i[a.getId(I)]=w[I].p;for(var I=0,D=S.length;I<D;I++){var T=S[I],A=o.getEdgeByIndex(I),L=T.n1.p,k=T.n2.p,C=A.getLayout();(C=C?C.slice():[])[0]=C[0]||[],C[1]=C[1]||[],Fe(C[0],L),Fe(C[1],k),+T.curveness&&(C[2]=[(L[0]+k[0])/2-(L[1]-k[1])*T.curveness,(L[1]+k[1])/2-(k[0]-L[0])*T.curveness]),A.setLayout(C)}y&&y(M)})},t.forceLayout=m,t.preservedPoints=i,m.step()}else t.forceLayout=null})}),Sh("graphView",{create:function(e,t){var n=[];return e.eachSeriesByType("graph",function(i){var o=i.get("coordinateSystem");if(!o||o==="view"){var a=i.getData(),r=[],s=[];fg(a.mapArray(function(g){var m=a.getItemModel(g);return[+m.get("x"),+m.get("y")]}),r,s),s[0]-r[0]==0&&(s[0]+=1,r[0]-=1),s[1]-r[1]==0&&(s[1]+=1,r[1]-=1);var l=(s[0]-r[0])/(s[1]-r[1]),u=CI(i,t,l);isNaN(l)&&(r=[u.x,u.y],s=[u.x+u.width,u.y+u.height]);var h=s[0]-r[0],c=s[1]-r[1],d=u.width,f=u.height,p=i.coordinateSystem=new Si;p.zoomLimit=i.get("scaleLimit"),p.setBoundingRect(r[0],r[1],h,c),p.setViewRect(u.x,u.y,d,f),p.setCenter(i.get("center")),p.setZoom(i.get("zoom")),n.push(p)}}),n}}),Ae.extend({type:"series.gauge",getInitialData:function(e,t){var n=e.data||[];return O(n)||(n=[n]),e.data=n,Yo(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}});var hL=ae.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(e,t){var n=Math.cos,i=Math.sin,o=t.r,a=t.width,r=t.angle,s=t.x-n(r)*a*(a>=o/3?1:2),l=t.y-i(r)*a*(a>=o/3?1:2);r=t.angle-Math.PI/2,e.moveTo(s,l),e.lineTo(t.x+n(r)*a,t.y+i(r)*a),e.lineTo(t.x+n(t.angle)*o,t.y+i(t.angle)*o),e.lineTo(t.x-n(r)*a,t.y-i(r)*a),e.lineTo(s,l)}}),cL=2*Math.PI,r_=(Ve.extend({type:"gauge",render:function(e,t,n){this.group.removeAll();var i=e.get("axisLine.lineStyle.color"),o=LI(e,n);this._renderMain(e,t,n,i,o)},dispose:function(){},_renderMain:function(e,t,n,i,o){for(var a=this.group,r=e.getModel("axisLine").getModel("lineStyle"),s=e.get("clockwise"),l=-e.get("startAngle")/180*Math.PI,u=-e.get("endAngle")/180*Math.PI,h=(u-l)%cL,c=l,d=r.get("width"),f=0;f<i.length;f++){var p=Math.min(Math.max(i[f][0],0),1),g=new In({shape:{startAngle:c,endAngle:u=l+h*p,cx:o.cx,cy:o.cy,clockwise:s,r0:o.r-d,r:o.r},silent:!0});g.setStyle({fill:i[f][1]}),g.setStyle(r.getLineStyle(["color","borderWidth","borderColor"])),a.add(g),c=u}var m=function(y){if(y<=0)return i[0][1];for(var x=0;x<i.length;x++)if(i[x][0]>=y&&(x===0?0:i[x-1][0])<y)return i[x][1];return i[x-1][1]};if(!s){var v=l;l=u,u=v}this._renderTicks(e,t,n,m,o,l,u,s),this._renderPointer(e,t,n,m,o,l,u,s),this._renderTitle(e,t,n,m,o),this._renderDetail(e,t,n,m,o)},_renderTicks:function(e,t,n,i,o,a,r,s){for(var l=this.group,u=o.cx,h=o.cy,c=o.r,d=+e.get("min"),f=+e.get("max"),p=e.getModel("splitLine"),g=e.getModel("axisTick"),m=e.getModel("axisLabel"),v=e.get("splitNumber"),y=g.get("splitNumber"),x=E(p.get("length"),c),_=E(g.get("length"),c),w=a,S=(r-a)/v,M=S/y,I=p.getModel("lineStyle").getLineStyle(),D=g.getModel("lineStyle").getLineStyle(),T=0;T<=v;T++){var A=Math.cos(w),L=Math.sin(w);if(p.get("show")){var k=new Mt({shape:{x1:A*c+u,y1:L*c+h,x2:A*(c-x)+u,y2:L*(c-x)+h},style:I,silent:!0});I.stroke==="auto"&&k.setStyle({stroke:i(T/v)}),l.add(k)}if(m.get("show")){var C=e0(nt(T/v*(f-d)+d),m.get("formatter")),N=m.get("distance"),B=i(T/v);l.add(new te({style:Se({},m,{text:C,x:A*(c-x-N)+u,y:L*(c-x-N)+h,textVerticalAlign:L<-.4?"top":L>.4?"bottom":"middle",textAlign:A<-.4?"left":A>.4?"right":"center"},{autoColor:B}),silent:!0}))}if(g.get("show")&&T!==v){for(var R=0;R<=y;R++){var A=Math.cos(w),L=Math.sin(w),H=new Mt({shape:{x1:A*c+u,y1:L*c+h,x2:A*(c-_)+u,y2:L*(c-_)+h},silent:!0,style:D});D.stroke==="auto"&&H.setStyle({stroke:i((T+R/y)/v)}),l.add(H),w+=M}w-=M}else w+=S}},_renderPointer:function(e,t,n,i,o,a,r,s){var l=this.group,u=this._data;if(e.get("pointer.show")){var h=[+e.get("min"),+e.get("max")],c=[a,r],d=e.getData(),f=d.mapDimension("value");d.diff(u).add(function(p){var g=new hL({shape:{angle:a}});Je(g,{shape:{angle:Ie(d.get(f,p),h,c,!0)}},e),l.add(g),d.setItemGraphicEl(p,g)}).update(function(p,g){var m=u.getItemGraphicEl(g);J(m,{shape:{angle:Ie(d.get(f,p),h,c,!0)}},e),l.add(m),d.setItemGraphicEl(p,m)}).remove(function(p){var g=u.getItemGraphicEl(p);l.remove(g)}).execute(),d.eachItemGraphicEl(function(p,g){var m=d.getItemModel(g),v=m.getModel("pointer");p.setShape({x:o.cx,y:o.cy,width:E(v.get("width"),o.r),r:E(v.get("length"),o.r)}),p.useStyle(m.getModel("itemStyle").getItemStyle()),p.style.fill==="auto"&&p.setStyle("fill",i(Ie(d.get(f,g),h,[0,1],!0))),ve(p,m.getModel("emphasis.itemStyle").getItemStyle())}),this._data=d}else u&&u.eachItemGraphicEl(function(p){l.remove(p)})},_renderTitle:function(e,t,n,i,o){var a=e.getData(),r=a.mapDimension("value"),s=e.getModel("title");if(s.get("show")){var l=s.get("offsetCenter"),u=o.cx+E(l[0],o.r),h=o.cy+E(l[1],o.r),c=+e.get("min"),d=+e.get("max"),f=i(Ie(e.getData().get(r,0),[c,d],[0,1],!0));this.group.add(new te({silent:!0,style:Se({},s,{x:u,y:h,text:a.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:f,forceRich:!0})}))}},_renderDetail:function(e,t,n,i,o){var a=e.getModel("detail"),r=+e.get("min"),s=+e.get("max");if(a.get("show")){var l=a.get("offsetCenter"),u=o.cx+E(l[0],o.r),h=o.cy+E(l[1],o.r),c=E(a.get("width"),o.r),d=E(a.get("height"),o.r),f=e.getData(),p=f.get(f.mapDimension("value"),0),g=i(Ie(p,[r,s],[0,1],!0));this.group.add(new te({silent:!0,style:Se({},a,{x:u,y:h,text:e0(p,a.get("formatter")),textWidth:isNaN(c)?null:c,textHeight:isNaN(d)?null:d,textAlign:"center",textVerticalAlign:"middle"},{autoColor:g,forceRich:!0})}))}}}),Aa({type:"series.funnel",init:function(e){r_.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this._defaultLabelLine(e)},getInitialData:function(e,t){return Yo(this,["value"])},_defaultLabelLine:function(e){pi(e,"labelLine",["show"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},getDataParams:function(e){var t=this.getData(),n=r_.superCall(this,"getDataParams",e),i=t.mapDimension("value"),o=t.getSum(i);return n.percent=o?+(t.get(i,e)/o*100).toFixed(2):0,n.$vars.push("percent"),n},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}})),s_=hc.prototype,dL=["itemStyle","opacity"];s_.updateData=function(e,t,n){var i=this.childAt(0),o=e.hostModel,a=e.getItemModel(t),r=e.getItemLayout(t),s=e.getItemModel(t).get(dL);s=s==null?1:s,i.useStyle({}),n?(i.setShape({points:r.points}),i.setStyle({opacity:0}),Je(i,{style:{opacity:s}},o,t)):J(i,{style:{opacity:s},shape:{points:r.points}},o,t);var l=a.getModel("itemStyle"),u=e.getItemVisual(t,"color");i.setStyle(W({lineJoin:"round",fill:u},l.getItemStyle(["opacity"]))),i.hoverStyle=l.getModel("emphasis").getItemStyle(),this._updateLabel(e,t),ve(this)},s_._updateLabel=function(e,t){var n=this.childAt(1),i=this.childAt(2),o=e.hostModel,a=e.getItemModel(t),r=e.getItemLayout(t).label,s=e.getItemVisual(t,"color");J(n,{shape:{points:r.linePoints||r.linePoints}},o,t),J(i,{style:{x:r.x,y:r.y}},o,t),i.attr({rotation:r.rotation,origin:[r.x,r.y],z2:10});var l=a.getModel("label"),u=a.getModel("emphasis.label"),h=a.getModel("labelLine"),c=a.getModel("emphasis.labelLine"),s=e.getItemVisual(t,"color");yt(i.style,i.hoverStyle={},l,u,{labelFetcher:e.hostModel,labelDataIndex:t,defaultText:e.getName(t),autoColor:s,useInsideStyle:!!r.inside},{textAlign:r.textAlign,textVerticalAlign:r.verticalAlign}),i.ignore=i.normalIgnore=!l.get("show"),i.hoverIgnore=!u.get("show"),n.ignore=n.normalIgnore=!h.get("show"),n.hoverIgnore=!c.get("show"),n.setStyle({stroke:s}),n.setStyle(h.getModel("lineStyle").getLineStyle()),n.hoverStyle=c.getModel("lineStyle").getLineStyle()},he(hc,V),Ve.extend({type:"funnel",render:function(e,t,n){var i=e.getData(),o=this._data,a=this.group;i.diff(o).add(function(r){var s=new hc(i,r);i.setItemGraphicEl(r,s),a.add(s)}).update(function(r,s){var l=o.getItemGraphicEl(s);l.updateData(i,r),a.add(l),i.setItemGraphicEl(r,l)}).remove(function(r){var s=o.getItemGraphicEl(r);a.remove(s)}).execute(),this._data=i},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),ye(Vl("funnel")),be(function(e,t,n){e.eachSeriesByType("funnel",function(i){var o=i.getData(),a=o.mapDimension("value"),r=i.get("sort"),s=kI(i,t),l=PI(o,r),u=[E(i.get("minSize"),s.width),E(i.get("maxSize"),s.width)],h=o.getDataExtent(a),c=i.get("min"),d=i.get("max");c==null&&(c=Math.min(h[0],0)),d==null&&(d=h[1]);var f=i.get("funnelAlign"),p=i.get("gap"),g=(s.height-p*(o.count()-1))/o.count(),m=s.y,v=function(I,D){var T,A=Ie(o.get(a,I)||0,[c,d],u,!0);switch(f){case"left":T=s.x;break;case"center":T=s.x+(s.width-A)/2;break;case"right":T=s.x+s.width-A}return[[T,D],[T+A,D]]};r==="ascending"&&(g=-g,p=-p,m+=s.height,l=l.reverse());for(var y=0;y<l.length;y++){var x=l[y],_=l[y+1],w=o.getItemModel(x).get("itemStyle.height");w==null?w=g:(w=E(w,s.height),r==="ascending"&&(w=-w));var S=v(x,m),M=v(_,m+w);m+=w+p,o.setItemLayout(x,{points:S.concat(M.slice().reverse())})}OI(o)})}),ut(ur("funnel"));var jl=function(e,t,n,i,o){Le.call(this,e,t,n),this.type=i||"value",this.axisIndex=o};jl.prototype={constructor:jl,model:null,isHorizontal:function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"}},he(jl,Le);var Qo=function(e,t,n,i,o,a){t[0]=ps(t[0],n),t[1]=ps(t[1],n),e=e||0;var r=n[1]-n[0];o!=null&&(o=ps(o,[0,r])),a!=null&&(a=Math.max(a,o!=null?o:0)),i==="all"&&(o=a=Math.abs(t[1]-t[0]),i=0);var s=cc(t,i);t[i]+=e;var l=o||0,u=n.slice();s.sign<0?u[0]+=l:u[1]-=l,t[i]=ps(t[i],u),h=cc(t,i),o!=null&&(h.sign!==s.sign||h.span<o)&&(t[1-i]=t[i]+s.sign*o);var h=cc(t,i);return a!=null&&h.span>a&&(t[1-i]=t[i]+h.sign*a),t},Ef=b,l_=Math.min,u_=Math.max,h_=Math.floor,fL=Math.ceil,c_=nt,pL=Math.PI;dc.prototype={type:"parallel",constructor:dc,_init:function(e,t,n){var i=e.dimensions,o=e.parallelAxisIndex;Ef(i,function(a,r){var s=o[r],l=t.getComponent("parallelAxis",s),u=this._axesMap.set(a,new jl(a,yo(l),[0,0],l.get("type"),s)),h=u.type==="category";u.onBand=h&&l.get("boundaryGap"),u.inverse=l.get("inverse"),l.axis=u,u.model=l,u.coordinateSystem=l.coordinateSystem=this},this)},update:function(e,t){this._updateAxesFromSeries(this._model,e)},containPoint:function(e){var t=this._makeLayoutInfo(),n=t.axisBase,i=t.layoutBase,o=t.pixelDimIndex,a=e[1-o],r=e[o];return a>=n&&a<=n+t.axisLength&&r>=i&&r<=i+t.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(e,t){t.eachSeries(function(n){if(e.contains(n,t)){var i=n.getData();Ef(this.dimensions,function(o){var a=this._axesMap.get(o);a.scale.unionExtentFromData(i,i.mapDimension(o)),wi(a.scale,a.model)},this)}},this)},resize:function(e,t){this._rect=Pe(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var e,t=this._model,n=this._rect,i=["x","y"],o=["width","height"],a=t.get("layout"),r=a==="horizontal"?0:1,s=n[o[r]],l=[0,s],u=this.dimensions.length,h=gs(t.get("axisExpandWidth"),l),c=gs(t.get("axisExpandCount")||0,[0,u]),d=t.get("axisExpandable")&&u>3&&u>c&&c>1&&h>0&&s>0,f=t.get("axisExpandWindow");f?(e=gs(f[1]-f[0],l),f[1]=f[0]+e):(e=gs(h*(c-1),l),(f=[h*(t.get("axisExpandCenter")||h_(u/2))-e/2])[1]=f[0]+e);var p=(s-e)/(u-c);p<3&&(p=0);var g=[h_(c_(f[0]/h,1))+1,fL(c_(f[1]/h,1))-1],m=p/h*f[0];return{layout:a,pixelDimIndex:r,layoutBase:n[i[r]],layoutLength:s,axisBase:n[i[1-r]],axisLength:n[o[1-r]],axisExpandable:d,axisExpandWidth:h,axisCollapseWidth:p,axisExpandWindow:f,axisCount:u,winInnerIndices:g,axisExpandWindow0Pos:m}},_layoutAxes:function(){var e=this._rect,t=this._axesMap,n=this.dimensions,i=this._makeLayoutInfo(),o=i.layout;t.each(function(a){var r=[0,i.axisLength],s=a.inverse?1:0;a.setExtent(r[s],r[1-s])}),Ef(n,function(a,r){var s=(i.axisExpandable?RI:zI)(r,i),l={horizontal:{x:s.position,y:i.axisLength},vertical:{x:0,y:s.position}},u={horizontal:pL/2,vertical:0},h=[l[o].x+e.x,l[o].y+e.y],c=u[o],d=Ct();ci(d,d,c),Vt(d,d,h),this._axesLayout[a]={position:h,rotation:c,transform:d,axisNameAvailableWidth:s.axisNameAvailableWidth,axisLabelShow:s.axisLabelShow,nameTruncateMaxWidth:s.nameTruncateMaxWidth,tickDirection:1,labelDirection:1,labelInterval:t.get(a).getLabelInterval()}},this)},getAxis:function(e){return this._axesMap.get(e)},dataToPoint:function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},eachActiveState:function(e,t,n){for(var i=this.dimensions,o=P(i,function(p){return e.mapDimension(p)}),a=this._axesMap,r=this.hasAxisBrushed(),s=0,l=e.count();s<l;s++){var u,h=e.getValues(o,s);if(r){u="active";for(var c=0,d=i.length;c<d;c++){var f=i[c];if(a.get(f).model.getActiveState(h[c],c)==="inactive"){u="inactive";break}}}else u="normal";t.call(n,u,s)}},hasAxisBrushed:function(){for(var e=this.dimensions,t=this._axesMap,n=!1,i=0,o=e.length;i<o;i++)t.get(e[i]).model.getActiveState()!=="normal"&&(n=!0);return n},axisCoordToPoint:function(e,t){return Ut([e,0],this._axesLayout[t].transform)},getAxisLayout:function(e){return Z(this._axesLayout[e])},getSlidedAxisExpandWindow:function(e){var t=this._makeLayoutInfo(),n=t.pixelDimIndex,i=t.axisExpandWindow.slice(),o=i[1]-i[0],a=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:i};var r,s=e[n]-t.layoutBase-t.axisExpandWindow0Pos,l="slide",u=t.axisCollapseWidth,h=this._model.get("axisExpandSlideTriggerArea"),c=h[0]!=null;return u?(c&&u&&s<o*h[0]?(l="jump",r=s-o*h[2]):c&&u&&s>o*(1-h[0])?(l="jump",r=s-o*(1-h[2])):(r=s-o*h[1])>=0&&(r=s-o*(1-h[1]))<=0&&(r=0),(r*=t.axisExpandWidth/u)?Qo(r,i,a,"all"):l="none"):(o=i[1]-i[0],(i=[u_(0,a[1]*s/o-o/2)])[1]=l_(a[1],i[0]+o),i[0]=i[1]-o),{axisExpandWindow:i,behavior:l}}},Xe.register("parallel",{create:function(e,t){var n=[];return e.eachComponent("parallel",function(i,o){var a=new dc(i,e,t);a.name="parallel_"+o,a.resize(i,t),i.coordinateSystem=a,a.model=i,n.push(a)}),e.eachSeries(function(i){if(i.get("coordinateSystem")==="parallel"){var o=e.queryComponents({mainType:"parallel",index:i.get("parallelIndex"),id:i.get("parallelId")})[0];i.coordinateSystem=o.coordinateSystem}}),n}});var d_=ie.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return Eo([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(e){var t=this.activeIntervals=Z(e);if(t)for(var n=t.length-1;n>=0;n--)vi(t[n])},getActiveState:function(e){var t=this.activeIntervals;if(!t.length)return"normal";if(e==null)return"inactive";for(var n=0,i=t.length;n<i;n++)if(t[n][0]<=e&&e<=t[n][1])return"active";return"inactive"}}),gL={type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};q(d_.prototype,Wi),jo("parallel",d_,function(e,t){return t.type||(t.data?"category":"value")},gL),ie.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){ie.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(e){var t=this.option;e&&q(t,e,!0),this._initDimensions()},contains:function(e,t){var n=e.get("parallelIndex");return n!=null&&t.getComponent("parallel",n)===this},setAxisExpand:function(e){b(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(t){e.hasOwnProperty(t)&&(this.option[t]=e[t])},this)},_initDimensions:function(){var e=this.dimensions=[],t=this.parallelAxisIndex=[];b(ke(this.dependentModels.parallelAxis,function(n){return(n.get("parallelIndex")||0)===this.componentIndex},this),function(n){e.push("dim"+n.get("dim")),t.push(n.componentIndex)})}}),se({type:"axisAreaSelect",event:"axisAreaSelected"},function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},function(n){n.axis.model.setActiveIntervals(e.intervals)})}),se("parallelAxisExpand",function(e,t){t.eachComponent({mainType:"parallel",query:e},function(n){n.setAxisExpand(e)})});var oi=j,sn=b,mL=P,yr=Math.min,ea=Math.max,vL=Math.pow,yL=1e4,xL=6,_L=6,f_="globalPan",wL={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},bL={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},p_={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},SL=0;Mo.prototype={constructor:Mo,enableBrush:function(e){return this._brushType&&VI(this),e.brushType&&BI(this,e),this},setPanels:function(e){if(e&&e.length){var t=this._panels={};b(e,function(n){t[n.panelId]=Z(n)})}else this._panels=null;return this},mount:function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var t=this.group;return this._zr.add(t),t.attr({position:e.position||[0,0],rotation:e.rotation||0,scale:e.scale||[1,1]}),this._transform=t.getLocalTransform(),this},eachCover:function(e,t){sn(this._covers,e,t)},updateCovers:function(e){function t(l,u){return(l.id!=null?l.id:i+u)+"-"+l.brushType}function n(l,u){var h=e[l];if(u!=null&&o[u]===s)a[l]=o[u];else{var c=a[l]=u!=null?(o[u].__brushOption=h,o[u]):n0(r,t0(r,h));fc(r,c)}}e=P(e,function(l){return q(Z(p_),l,!0)});var i="\0-brush-index-",o=this._covers,a=this._covers=[],r=this,s=this._creatingCover;return new xn(o,e,function(l,u){return t(l.__brushOption,u)},t).add(n).update(n).remove(function(l){o[l]!==s&&r.group.remove(o[l])}).execute(),this},unmount:function(){return this.enableBrush(!1),mc(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},oe(Mo,Ne);var ML={mousedown:function(e){if(this._dragging)p0.call(this,e);else if(!e.target||!e.target.draggable){wc(e);var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null,(this._creatingPanel=gc(this,e,t))&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(e){var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);if(ZI(this,e,t),this._dragging){wc(e);var n=d0(this,e,t,!1);n&&Di(this,n)}},mouseup:p0},Xl={lineX:g0(0),lineY:g0(1),rect:{createCover:function(e,t){return s0(oi(h0,function(n){return n},function(n){return n}),e,t,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(e){var t=r0(e);return u0(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,n,i){l0(e,t,n,i)},updateCommon:vc,contain:bc},polygon:{createCover:function(e,t){var n=new V;return n.add(new Qt({name:"main",style:yc(t),silent:!0})),n},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0)),t.add(new St({name:"main",draggable:!0,drift:oi(FI,e,t),ondragend:oi(Di,e,{isEnd:!0})}))},updateCoverShape:function(e,t,n,i){t.childAt(0).setShape({points:_c(e,t,n)})},updateCommon:vc,contain:bc}},IL=["axisLine","axisTickLabel","axisName"],DL=Oe({type:"parallelAxis",init:function(e,t){DL.superApply(this,"init",arguments),(this._brushController=new Mo(t.getZr())).on("brush",U(this._onBrush,this))},render:function(e,t,n,i){if(!UI(e,t,i)){this.axisModel=e,this.api=n,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new V,this.group.add(this._axisGroup),e.get("show")){var a=XI(e,t),r=a.coordinateSystem,s=e.getAreaSelectStyle(),l=s.width,u=e.axis.dim,h=G({strokeContainThreshold:l},r.getAxisLayout(u)),c=new $e(e,h);b(IL,c.add,c),this._axisGroup.add(c.getGroup()),this._refreshBrushController(h,s,e,a,l,n);var d=i&&i.animation===!1?null:e;eh(o,this._axisGroup,d)}}},_refreshBrushController:function(e,t,n,i,o,a){var r=n.axis.getExtent(),s=r[1]-r[0],l=Math.min(30,.1*Math.abs(s)),u=Q.create({x:r[0],y:-o/2,width:s,height:o});u.x-=l,u.width+=2*l,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,position:e.position}).setPanels([{panelId:"pl",clipPath:m0(u),isTargetByCursor:y0(u,a,i),getLinearBrushOtherExtent:v0(u,0)}]).enableBrush({brushType:"lineX",brushStyle:t,removeOnClick:!0}).updateCovers(jI(n))},_onBrush:function(e,t){var n=this.axisModel,i=n.axis,o=P(e,function(a){return[i.coordToData(a.range[0],!0),i.coordToData(a.range[1],!0)]});(!n.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:o})},dispose:function(){this._brushController.dispose()}});Oe({type:"parallel",render:function(e,t,n){this._model=e,this._api=n,this._handlers||(this._handlers={},b(AL,function(i,o){n.getZr().on(o,this._handlers[o]=U(i,this))},this)),Sa(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},dispose:function(e,t){b(this._handlers,function(n,i){t.getZr().off(i,n)}),this._handlers=null},_throttledDispatchExpand:function(e){this._dispatchExpand(e)},_dispatchExpand:function(e){e&&this._api.dispatchAction(G({type:"parallelAxisExpand"},e))}});var AL={mousedown:function(e){Mc(this,"click")&&(this._mouseDownPoint=[e.offsetX,e.offsetY])},mouseup:function(e){var t=this._mouseDownPoint;if(Mc(this,"click")&&t){var n=[e.offsetX,e.offsetY];if(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2)>5)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);i.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(e){if(!this._mouseDownPoint&&Mc(this,"mousemove")){var t=this._model,n=t.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]),i=n.behavior;i==="jump"&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand(i==="none"?null:{axisExpandWindow:n.axisExpandWindow,animation:i==="jump"&&null})}}};He(function(e){NI(e),EI(e)}),Ae.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(e,t){this.option.progressive&&(this.option.animation=!1);var n=this.getSource();return qI(n,this),_n(n,this)},getRawIndicesByActiveState:function(e){var t=this.coordinateSystem,n=this.getData(),i=[];return t.eachActiveState(n,function(o,a){e===o&&i.push(n.getRawIndex(a))}),i},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:!1,smooth:!1,animationEasing:"linear"}}),Ve.extend({type:"parallel",init:function(){this._dataGroup=new V,this.group.add(this._dataGroup),this._data},render:function(e,t,n,i){this._renderForNormal(e,i)},dispose:function(){},_renderForNormal:function(e,t){var n=this._dataGroup,i=e.getData(),o=this._data,a=e.coordinateSystem,r=a.dimensions,s=e.option.smooth?.3:null;if(i.diff(o).add(function(u){KI(i,n,u,r,a)}).update(function(u,h){var c=o.getItemGraphicEl(h),d=x0(i,u,r,a);i.setItemGraphicEl(u,c),J(c,{shape:{points:d}},t&&t.animation===!1?null:e,u)}).remove(function(u){var h=o.getItemGraphicEl(u);n.remove(h)}).execute(),JI(i,s),!this._data){var l=$I(a,e,function(){setTimeout(function(){n.removeClipPath()})});n.setClipPath(l)}this._data=i},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});var TL=["lineStyle","normal","opacity"];ye(function(e){e.eachSeriesByType("parallel",function(t){var n=t.getModel("itemStyle"),i=t.getModel("lineStyle"),o=e.get("color"),a=i.get("color")||n.get("color")||o[t.seriesIndex%o.length],r=t.get("inactiveOpacity"),s=t.get("activeOpacity"),l=t.getModel("lineStyle").getLineStyle(),u=t.coordinateSystem,h=t.getData(),c={normal:l.opacity,active:s,inactive:r};u.eachActiveState(h,function(d,f){var p=h.getItemModel(f),g=c[d];if(d==="normal"){var m=p.get(TL,!0);m!=null&&(g=m)}h.setItemVisual(f,"opacity",g)}),h.setVisual("color",a)})});var CL=Ae.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(e){var t=e.edges||e.links,n=e.data||e.nodes;if(n&&t)return i_(n,t,this,!0).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(e,t,n){if(n==="edge"){var i=this.getDataParams(e,n),o=i.data,a=o.source+" -- "+o.target;return i.value&&(a+=" : "+i.value),we(a)}return CL.superCall(this,"formatTooltip",e,t)},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{show:!0,position:"right",color:"#000",fontSize:12},itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.6}},animationEasing:"linear",animationDuration:1e3}}),LL=Ht({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(e,t){var n=t.extent/2;e.moveTo(t.x1,t.y1-n),e.bezierCurveTo(t.cpx1,t.cpy1-n,t.cpx2,t.cpy2-n,t.x2,t.y2-n),e.lineTo(t.x2,t.y2+n),e.bezierCurveTo(t.cpx2,t.cpy2+n,t.cpx1,t.cpy1+n,t.x1,t.y1+n),e.closePath()}});Qe({type:"sankey",_model:null,render:function(e,t,n){var i=e.getGraph(),o=this.group,a=e.layoutInfo,r=e.getData(),s=e.getData("edge");this._model=e,o.removeAll(),o.attr("position",[a.x,a.y]),i.eachEdge(function(l){var u=new LL;u.dataIndex=l.dataIndex,u.seriesIndex=e.seriesIndex,u.dataType="edge";var h=l.getModel("lineStyle"),c=h.get("curveness"),d=l.node1.getLayout(),f=l.node2.getLayout(),p=l.getLayout();u.shape.extent=Math.max(1,p.dy);var g=d.x+d.dx,m=d.y+p.sy+p.dy/2,v=f.x,y=f.y+p.ty+p.dy/2,x=g*(1-c)+v*c,_=m,w=g*c+v*(1-c),S=y;switch(u.setShape({x1:g,y1:m,x2:v,y2:y,cpx1:x,cpy1:_,cpx2:w,cpy2:S}),u.setStyle(h.getItemStyle()),u.style.fill){case"source":u.style.fill=l.node1.getVisual("color");break;case"target":u.style.fill=l.node2.getVisual("color")}ve(u,l.getModel("emphasis.lineStyle").getItemStyle()),o.add(u),s.setItemGraphicEl(l.dataIndex,u)}),i.eachNode(function(l){var u=l.getLayout(),h=l.getModel(),c=h.getModel("label"),d=h.getModel("emphasis.label"),f=new pe({shape:{x:u.x,y:u.y,width:l.getLayout().dx,height:l.getLayout().dy},style:h.getModel("itemStyle").getItemStyle()}),p=l.getModel("emphasis.itemStyle").getItemStyle();yt(f.style,p,c,d,{labelFetcher:e,labelDataIndex:l.dataIndex,defaultText:l.id,isRectText:!0}),f.setStyle("fill",l.getVisual("color")),ve(f,p),o.add(f),r.setItemGraphicEl(l.dataIndex,f),f.dataType="node"}),!this._data&&e.get("animation")&&o.setClipPath(e2(o.getBoundingRect(),e,function(){o.removeClipPath()})),this._data=e.getData()},dispose:function(){}}),be(function(e,t,n){e.eachSeriesByType("sankey",function(i){var o=i.get("nodeWidth"),a=i.get("nodeGap"),r=t2(i,t);i.layoutInfo=r;var s=r.width,l=r.height,u=i.getGraph(),h=u.nodes,c=u.edges;i2(h),n2(h,c,o,a,s,l,ke(h,function(d){return d.getLayout().value===0}).length!==0?0:i.get("layoutIterations"))})}),ye(function(e,t){e.eachSeriesByType("sankey",function(n){var i=n.getGraph().nodes;i.sort(function(r,s){return r.getLayout().value-s.getLayout().value});var o=i[0].getLayout().value,a=i[i.length-1].getLayout().value;b(i,function(r){var s=new ce({type:"color",mappingMethod:"linear",dataExtent:[o,a],visual:n.get("color")}).mapValueToVisual(r.getLayout().value);r.setVisual("color",s);var l=r.getModel().get("itemStyle.color");l!=null&&r.setVisual("color",l)})})});var kL=ae.extend({type:"whiskerInBox",shape:{},buildPath:function(e,t){for(var n in t)if(t.hasOwnProperty(n)&&n.indexOf("ends")===0){var i=t[n];e.moveTo(i[0][0],i[0][1]),e.lineTo(i[1][0],i[1][1])}}}),g_=Va.prototype;g_._createContent=function(e,t,n){var i=e.getItemLayout(t),o=i.chartLayout==="horizontal"?1:0,a=0;this.add(new St({shape:{points:n?_0(i.bodyEnds,o,i):i.bodyEnds},style:{strokeNoScale:!0},z2:100})),this.bodyIndex=a++;var r=P(i.whiskerEnds,function(s){return n?_0(s,o,i):s});this.add(new kL({shape:w0(r),style:{strokeNoScale:!0},z2:100})),this.whiskerIndex=a++},g_.updateData=function(e,t,n){var i=this._seriesModel=e.hostModel,o=e.getItemLayout(t),a=Nt[n?"initProps":"updateProps"];a(this.childAt(this.bodyIndex),{shape:{points:o.bodyEnds}},i,t),a(this.childAt(this.whiskerIndex),{shape:w0(o.whiskerEnds)},i,t),this.styleUpdater.call(null,this,e,t)},he(Va,V);var ql=b0.prototype;ql.updateData=function(e){var t=this.group,n=this._data,i=this.styleUpdater;this._data||t.removeAll(),e.diff(n).add(function(o){if(e.hasValue(o)){var a=new Va(e,o,i,!0);e.setItemGraphicEl(o,a),t.add(a)}}).update(function(o,a){var r=n.getItemGraphicEl(a);e.hasValue(o)?(r?r.updateData(e,o):r=new Va(e,o,i),t.add(r),e.setItemGraphicEl(o,r)):t.remove(r)}).remove(function(o){var a=n.getItemGraphicEl(o);a&&t.remove(a)}).execute(),this._data=e},ql.incrementalPrepareUpdate=function(e,t,n){this.group.removeAll(),this._data=null},ql.incrementalUpdate=function(e,t,n,i){for(var o=t.getData(),a=e.start;a<e.end;a++){var r=new Va(o,a,this.styleUpdater,!0);r.incremental=!0,this.group.add(r)}},ql.remove=function(){var e=this.group,t=this._data;this._data=null,t&&t.eachItemGraphicEl(function(n){n&&e.remove(n)})};var m_={_baseAxisDim:null,getInitialData:function(e,t){var n,i,o=t.getComponent("xAxis",this.get("xAxisIndex")),a=t.getComponent("yAxis",this.get("yAxisIndex")),r=o.get("type"),s=a.get("type");r==="category"?(e.layout="horizontal",n=o.getOrdinalMeta(),i=!0):s==="category"?(e.layout="vertical",n=a.getOrdinalMeta(),i=!0):e.layout=e.layout||"horizontal";var l=["x","y"],u=e.layout==="horizontal"?0:1,h=this._baseAxisDim=l[u],c=l[1-u],d=[o,a],f=d[u].get("type"),p=d[1-u].get("type"),g=e.data;if(g&&i){var m=[];b(g,function(y,x){var _;y.value&&O(y.value)?(_=y.value.slice(),y.value.unshift(x)):O(y)?(_=y.slice(),y.unshift(x)):_=y,m.push(_)}),e.data=m}var v=this.defaultValueDimensions;return Yo(this,{coordDimensions:[{name:h,type:ts(f),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:c,type:ts(p),dimsDef:v.slice()}],dimensionsCount:v.length+1})},getBaseAxis:function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis}},v_={init:function(){var e=this._whiskerBoxDraw=new b0(this.getStyleUpdater());this.group.add(e.group)},render:function(e,t,n){this._whiskerBoxDraw.updateData(e.getData())},incrementalPrepareRender:function(e,t,n){this._whiskerBoxDraw.incrementalPrepareUpdate(e,t,n)},incrementalRender:function(e,t,n,i){this._whiskerBoxDraw.incrementalUpdate(e,t,n,i)},remove:function(e){this._whiskerBoxDraw.remove()}};oe(Ae.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:["min","Q1","median","Q3","max"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}}),m_,!0),oe(Ve.extend({type:"boxplot",getStyleUpdater:function(){return y2},dispose:We}),v_,!0);var PL=["itemStyle"],OL=["emphasis","itemStyle"],y_=["itemStyle","borderColor"],xr=b;ye(function(e,t){var n=e.get("color");e.eachRawSeriesByType("boxplot",function(i){var o=n[i.seriesIndex%n.length],a=i.getData();a.setVisual({legendSymbol:"roundRect",color:i.get(y_)||o}),e.isSeriesFiltered(i)||a.each(function(r){var s=a.getItemModel(r);a.setItemVisual(r,{color:s.get(y_,!0)})})})}),be(function(e){var t=x2(e);xr(t,function(n){var i=n.seriesModels;i.length&&(_2(n),xr(i,function(o,a){w2(o,n.boxOffsetList[a],n.boxWidthList[a])}))})}),oe(Ae.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:["open","close","lowest","highest"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(e,t,n){var i=t.getItemLayout(e);return n.rect(i.brushRect)}}),m_,!0),oe(Ve.extend({type:"candlestick",getStyleUpdater:function(){return b2},dispose:We}),v_,!0);var NL=["itemStyle"],EL=["emphasis","itemStyle"],zL=["itemStyle","borderColor"],RL=["itemStyle","borderColor0"],BL=["itemStyle","color"],VL=["itemStyle","color0"],x_=Be;He(function(e){e&&O(e.series)&&b(e.series,function(t){Y(t)&&t.type==="k"&&(t.type="candlestick")})}),ye(function(e,t){e.eachRawSeriesByType("candlestick",function(n){var i=n.getData();i.setVisual({legendSymbol:"roundRect"}),e.isSeriesFiltered(n)||i.each(function(o){var a=i.getItemModel(o),r=i.getItemLayout(o).sign;i.setItemVisual(o,{color:a.get(r>0?BL:VL),borderColor:a.get(r>0?zL:RL)})})})}),be(function(e){e.eachSeriesByType("candlestick",function(t){var n,i=t.coordinateSystem,o=t.getData(),a=S2(t,o),r=t.get("layout"),s=r==="horizontal"?0:1,l=1-s,u=["x","y"],h=[];if(b(o.dimensions,function(d){var f=o.getDimensionInfo(d).coordDim;f===u[l]?h.push(d):f===u[s]&&(n=d)}),!(n==null||h.length<4)){var c=0;o.each([n].concat(h),function(){function d(C){var N=[];return N[s]=m,N[l]=C,isNaN(m)||isNaN(C)?[NaN,NaN]:i.dataToPoint(N)}function f(C,N){var B=C.slice(),R=C.slice();B[s]=Zt(B[s]+a/2,1,!1),R[s]=Zt(R[s]-a/2,1,!0),N?L.push(B,R):L.push(R,B)}function p(C){return C[s]=Zt(C[s],1),C}var g=arguments,m=g[0],v=g[h.length+1],y=g[1],x=g[2],_=g[3],w=g[4],S=Math.min(y,x),M=Math.max(y,x),I=d(S),D=d(M),T=d(_),A=[[p(d(w)),p(D)],[p(T),p(I)]],L=[];f(D,0),f(I,1);var k;k=y>x?-1:y<x?1:c>0?o.getItemModel(c-1).get()[2]<=x?1:-1:1,o.setItemLayout(v,{chartLayout:r,sign:k,initBaseline:y>x?D[l]:I[l],bodyEnds:L,whiskerEnds:A,brushRect:function(){var C=d(Math.min(y,x,_,w)),N=d(Math.max(y,x,_,w));return C[s]-=a/2,N[s]-=a/2,{x:C[0],y:C[1],width:l?a:N[0]-C[0],height:l?N[1]-C[1]:a}}()}),++c})}})}),Ae.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(e,t){return _n(this.getSource(),this)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});var Xi=Ac.prototype;Xi.stopEffectAnimation=function(){this.childAt(1).removeAll()},Xi.startEffectAnimation=function(e){for(var t=e.symbolType,n=e.color,i=this.childAt(1),o=0;o<3;o++){var a=ht(t,-1,-1,2,2,n);a.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var r=-o/3*e.period+e.effectOffset;a.animate("",!0).when(e.period,{scale:[e.rippleScale/2,e.rippleScale/2]}).delay(r).start(),a.animateStyle(!0).when(e.period,{opacity:0}).delay(r).start(),i.add(a)}S0(i,e)},Xi.updateEffectAnimation=function(e){for(var t=this._effectCfg,n=this.childAt(1),i=["symbolType","period","rippleScale"],o=0;o<i.length;o++){var a=i[o];if(t[a]!==e[a])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}S0(n,e)},Xi.highlight=function(){this.trigger("emphasis")},Xi.downplay=function(){this.trigger("normal")},Xi.updateData=function(e,t){var n=e.hostModel;this.childAt(0).updateData(e,t);var i=this.childAt(1),o=e.getItemModel(t),a=e.getItemVisual(t,"symbol"),r=M2(e.getItemVisual(t,"symbolSize")),s=e.getItemVisual(t,"color");i.attr("scale",r),i.traverse(function(p){p.attr({fill:s})});var l=o.getShallow("symbolOffset");if(l){var u=i.position;u[0]=E(l[0],r[0]),u[1]=E(l[1],r[1])}i.rotation=(o.getShallow("symbolRotate")||0)*Math.PI/180||0;var h={};if(h.showEffectOn=n.get("showEffectOn"),h.rippleScale=o.get("rippleEffect.scale"),h.brushType=o.get("rippleEffect.brushType"),h.period=1e3*o.get("rippleEffect.period"),h.effectOffset=t/e.count(),h.z=o.getShallow("z")||0,h.zlevel=o.getShallow("zlevel")||0,h.symbolType=a,h.color=s,this.off("mouseover").off("mouseout").off("emphasis").off("normal"),h.showEffectOn==="render")this._effectCfg?this.updateEffectAnimation(h):this.startEffectAnimation(h),this._effectCfg=h;else{this._effectCfg=null,this.stopEffectAnimation();var c=this.childAt(0),d=function(){c.highlight(),h.showEffectOn!=="render"&&this.startEffectAnimation(h)},f=function(){c.downplay(),h.showEffectOn!=="render"&&this.stopEffectAnimation()};this.on("mouseover",d,this).on("mouseout",f,this).on("emphasis",d,this).on("normal",f,this)}this._effectCfg=h},Xi.fadeOut=function(e){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),e&&e()},he(Ac,V),Qe({type:"effectScatter",init:function(){this._symbolDraw=new _o(Ac)},render:function(e,t,n){var i=e.getData(),o=this._symbolDraw;o.updateData(i),this.group.add(o.group)},updateTransform:function(e,t,n){var i=e.getData();this.group.dirty();var o=lr().reset(e);o.progress&&o.progress({start:0,end:i.count()},i),this._symbolDraw.updateLayout(i)},_updateGroupTransform:function(e){var t=e.coordinateSystem;t&&t.getRoamTransform&&(this.group.transform=Ap(t.getRoamTransform()),this.group.decomposeTransform())},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(t)},dispose:function(){}}),ye(Fi("effectScatter","circle")),be(lr("effectScatter"));var __=typeof window=="undefined"?global:window,GL=__.Uint32Array||Array,WL=__.Float64Array||Array,w_=Ae.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(e){M0(e);var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(e.data=new Float32Array(t.count)),w_.superApply(this,"init",arguments)},mergeOption:function(e){if(M0(e),e.data){var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(e.data=new Float32Array(t.count))}w_.superApply(this,"mergeOption",arguments)},appendData:function(e){var t=this._processFlatCoordsArray(e.data);t.flatCoords&&(this._flatCoords?(this._flatCoords=_u(this._flatCoords,t.flatCoords),this._flatCoordsOffset=_u(this._flatCoordsOffset,t.flatCoordsOffset)):(this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset),e.data=new Float32Array(t.count)),this.getRawData().appendData(e.data)},_getCoordsFromItemModel:function(e){var t=this.getData().getItemModel(e);return t.option instanceof Array?t.option:t.getShallow("coords")},getLineCoordsCount:function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},getLineCoords:function(e,t){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*e],i=this._flatCoordsOffset[2*e+1],o=0;o<i;o++)t[o]=t[o]||[],t[o][0]=this._flatCoords[n+2*o],t[o][1]=this._flatCoords[n+2*o+1];return i}for(var a=this._getCoordsFromItemModel(e),o=0;o<a.length;o++)t[o]=t[o]||[],t[o][0]=a[o][0],t[o][1]=a[o][1];return a.length},_processFlatCoordsArray:function(e){var t=0;if(this._flatCoords&&(t=this._flatCoords.length),typeof e[0]=="number"){for(var n=e.length,i=new GL(n),o=new WL(n),a=0,r=0,s=0,l=0;l<n;){s++;var u=e[l++];i[r++]=a+t,i[r++]=u;for(var h=0;h<u;h++){var c=e[l++],d=e[l++];o[a++]=c,o[a++]=d}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,r),flatCoords:o,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},getInitialData:function(e,t){var n=new Ee(["value"],this);return n.hasItemOption=!1,n.initData(e.data,[],function(i,o,a,r){if(i instanceof Array)return NaN;n.hasItemOption=!0;var s=i.value;return s!=null?s instanceof Array?s[r]:s:void 0}),n},formatTooltip:function(e){var t=this.getData().getItemModel(e),n=t.get("name");if(n)return n;var i=t.get("fromName"),o=t.get("toName"),a=[];return i!=null&&a.push(i),o!=null&&a.push(o),we(a.join(" > "))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){var e=this.option.progressive;return e==null?this.option.large?1e4:this.get("progressive"):e},getProgressiveThreshold:function(){var e=this.option.progressiveThreshold;return e==null?this.option.large?2e4:this.get("progressiveThreshold"):e},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}}),ai=Ga.prototype;ai.createLine=function(e,t,n){return new Ba(e,t,n)},ai._updateEffectSymbol=function(e,t){var n=e.getItemModel(t).getModel("effect"),i=n.get("symbolSize"),o=n.get("symbol");O(i)||(i=[i,i]);var a=n.get("color")||e.getItemVisual(t,"color"),r=this.childAt(1);this._symbolType!==o&&(this.remove(r),(r=ht(o,-.5,-.5,1,1,a)).z2=100,r.culling=!0,this.add(r)),r&&(r.setStyle("shadowColor",a),r.setStyle(n.getItemStyle(["color"])),r.attr("scale",i),r.setColor(a),r.attr("scale",i),this._symbolType=o,this._updateEffectAnimation(e,n,t))},ai._updateEffectAnimation=function(e,t,n){var i=this.childAt(1);if(i){var o=this,a=e.getItemLayout(n),r=1e3*t.get("period"),s=t.get("loop"),l=t.get("constantSpeed"),u=Re(t.get("delay"),function(f){return f/e.count()*r/3}),h=typeof u=="function";if(i.ignore=!0,this.updateAnimationPoints(i,a),l>0&&(r=this.getLineLength(i)/l*1e3),r!==this._period||s!==this._loop){i.stopAnimation();var c=u;h&&(c=u(n)),i.__t>0&&(c=-r*i.__t),i.__t=0;var d=i.animate("",s).when(r,{__t:1}).delay(c).during(function(){o.updateSymbolPosition(i)});s||d.done(function(){o.remove(i)}),d.start()}this._period=r,this._loop=s}},ai.getLineLength=function(e){return Li(e.__p1,e.__cp1)+Li(e.__cp1,e.__p2)},ai.updateAnimationPoints=function(e,t){e.__p1=t[0],e.__p2=t[1],e.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},ai.updateData=function(e,t,n){this.childAt(0).updateData(e,t,n),this._updateEffectSymbol(e,t)},ai.updateSymbolPosition=function(e){var t=e.__p1,n=e.__p2,i=e.__cp1,o=e.__t,a=e.position,r=je,s=Yu;a[0]=r(t[0],i[0],n[0],o),a[1]=r(t[1],i[1],n[1],o);var l=s(t[0],i[0],n[0],o),u=s(t[1],i[1],n[1],o);e.rotation=-Math.atan2(u,l)-Math.PI/2,e.ignore=!1},ai.updateLayout=function(e,t){this.childAt(0).updateLayout(e,t);var n=e.getItemModel(t).getModel("effect");this._updateEffectAnimation(e,n,t)},he(Ga,V);var Yl=ys.prototype;Yl._createPolyline=function(e,t,n){var i=e.getItemLayout(t),o=new Qt({shape:{points:i}});this.add(o),this._updateCommonStl(e,t,n)},Yl.updateData=function(e,t,n){var i=e.hostModel;J(this.childAt(0),{shape:{points:e.getItemLayout(t)}},i,t),this._updateCommonStl(e,t,n)},Yl._updateCommonStl=function(e,t,n){var i=this.childAt(0),o=e.getItemModel(t),a=e.getItemVisual(t,"color"),r=n&&n.lineStyle,s=n&&n.hoverLineStyle;n&&!e.hasItemOption||(r=o.getModel("lineStyle").getLineStyle(),s=o.getModel("emphasis.lineStyle").getLineStyle()),i.useStyle(W({strokeNoScale:!0,fill:"none",stroke:a},r)),i.hoverStyle=s,ve(this)},Yl.updateLayout=function(e,t){this.childAt(0).setShape("points",e.getItemLayout(t))},he(ys,V);var $l=Tc.prototype;$l.createLine=function(e,t,n){return new ys(e,t,n)},$l.updateAnimationPoints=function(e,t){this._points=t;for(var n=[0],i=0,o=1;o<t.length;o++){var a=t[o-1],r=t[o];i+=Li(a,r),n.push(i)}if(i!==0){for(o=0;o<n.length;o++)n[o]/=i;this._offsets=n,this._length=i}},$l.getLineLength=function(e){return this._length},$l.updateSymbolPosition=function(e){var t=e.__t,n=this._points,i=this._offsets,o=n.length;if(i){var a=this._lastFrame;if(t<this._lastFramePercent){for(r=Math.min(a+1,o-1);r>=0&&!(i[r]<=t);r--);r=Math.min(r,o-2)}else{for(var r=a;r<o&&!(i[r]>t);r++);r=Math.min(r-1,o-2)}Ip(e.position,n[r],n[r+1],(t-i[r])/(i[r+1]-i[r]));var s=n[r+1][0]-n[r][0],l=n[r+1][1]-n[r][1];e.rotation=-Math.atan2(l,s)-Math.PI/2,this._lastFrame=r,this._lastFramePercent=t,e.ignore=!1}},he(Tc,Ga);var b_=Ht({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(e,t){var n=t.segs,i=t.curveness;if(t.polyline)for(r=0;r<n.length;){var o=n[r++];if(o>0){e.moveTo(n[r++],n[r++]);for(var a=1;a<o;a++)e.lineTo(n[r++],n[r++])}}else for(var r=0;r<n.length;){var s=n[r++],l=n[r++],u=n[r++],h=n[r++];if(e.moveTo(s,l),i>0){var c=(s+u)/2-(l-h)*i,d=(l+h)/2-(u-s)*i;e.quadraticCurveTo(c,d,u,h)}else e.lineTo(u,h)}},findDataIndex:function(e,t){var n=this.shape,i=n.segs,o=n.curveness;if(n.polyline)for(var a=0,r=0;r<i.length;){var s=i[r++];if(s>0){for(var l=i[r++],u=i[r++],h=1;h<s;h++)if(Rn(l,u,c=i[r++],d=i[r++]))return a}a++}else for(var a=0,r=0;r<i.length;){var l=i[r++],u=i[r++],c=i[r++],d=i[r++];if(o>0){if(gg(l,u,(l+c)/2-(u-d)*o,(u+d)/2-(c-l)*o,c,d))return a}else if(Rn(l,u,c,d))return a;a++}return-1}}),qi=I0.prototype;qi.isPersistent=function(){return!this._incremental},qi.updateData=function(e){this.group.removeAll();var t=new b_({rectHover:!0,cursor:"default"});t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e),this.group.add(t),this._incremental=null},qi.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clearIncremental(),e.count()>5e5?(this._incremental||(this._incremental=new lt({silent:!0})),this.group.add(this._incremental)):this._incremental=null},qi.incrementalUpdate=function(e,t){var n=new b_;n.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(n,t,!!this._incremental),this._incremental?this._incremental.addDisplayable(n,!0):(n.rectHover=!0,n.cursor="default",n.__startIndex=e.start,this.group.add(n))},qi.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},qi._setCommon=function(e,t,n){var i=t.hostModel;e.setShape({polyline:i.get("polyline"),curveness:i.get("lineStyle.curveness")}),e.useStyle(i.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var o=t.getVisual("color");o&&e.setStyle("stroke",o),e.setStyle("fill"),n||(e.seriesIndex=i.seriesIndex,e.on("mousemove",function(a){e.dataIndex=null;var r=e.findDataIndex(a.offsetX,a.offsetY);r>0&&(e.dataIndex=r+e.__startIndex)}))},qi._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()};var S_={seriesType:"lines",plan:Kd(),reset:function(e){var t=e.coordinateSystem,n=e.get("polyline"),i=e.pipelineContext.large;return{progress:function(o,a){var r=[];if(i){var s,l=o.end-o.start;if(n){for(var u=0,h=o.start;h<o.end;h++)u+=e.getLineCoordsCount(h);s=new Float32Array(l+2*u)}else s=new Float32Array(2*l);for(var c=0,d=[],h=o.start;h<o.end;h++){g=e.getLineCoords(h,r),n&&(s[c++]=g);for(var f=0;f<g;f++)d=t.dataToPoint(r[f],!1,d),s[c++]=d[0],s[c++]=d[1]}a.setLayout("linesPoints",s)}else for(h=o.start;h<o.end;h++){var p=a.getItemModel(h),g=e.getLineCoords(h,r),m=[];if(n)for(var v=0;v<g;v++)m.push(t.dataToPoint(r[v]));else{m[0]=t.dataToPoint(r[0]),m[1]=t.dataToPoint(r[1]);var y=p.get("lineStyle.curveness");+y&&(m[2]=[(m[0][0]+m[1][0])/2-(m[0][1]-m[1][1])*y,(m[0][1]+m[1][1])/2-(m[1][0]-m[0][0])*y])}a.setItemLayout(h,m)}}}}};Qe({type:"lines",init:function(){},render:function(e,t,n){var i=e.getData(),o=this._updateLineDraw(i,e),a=e.get("zlevel"),r=e.get("effect.trailLength"),s=n.getZr(),l=s.painter.getType()==="svg";l||s.painter.getLayer(a).clear(!0),this._lastZlevel==null||l||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&r&&(l||s.configLayer(a,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(r/10+.9,1),0)})),o.updateData(i),this._lastZlevel=a,this._finished=!0},incrementalPrepareRender:function(e,t,n){var i=e.getData();this._updateLineDraw(i,e).incrementalPrepareUpdate(i),this._clearLayer(n),this._finished=!1},incrementalRender:function(e,t,n){this._lineDraw.incrementalUpdate(e,t.getData()),this._finished=e.end===t.getData().count()},updateTransform:function(e,t,n){var i=e.getData();if(!this._finished||e.pipelineContext.large)return{update:!0};var o=S_.reset(e);o.progress&&o.progress({start:0,end:i.count()},i),this._lineDraw.updateLayout(),this._clearLayer(n)},_updateLineDraw:function(e,t){var n=this._lineDraw,i=this._showEffect(t),o=!!t.get("polyline"),a=t.pipelineContext.large;return n&&i===this._hasEffet&&o===this._isPolyline&&a===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=a?new I0:new cs(o?i?Tc:ys:i?Ga:Ba),this._hasEffet=i,this._isPolyline=o,this._isLargeDraw=a,this.group.removeAll()),this.group.add(n.group),n},_showEffect:function(e){return!!e.get("effect.show")},_clearLayer:function(e){var t=e.getZr();t.painter.getType()==="svg"||this._lastZlevel==null||t.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(e,t){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(t)},dispose:function(){}});var M_="lineStyle.opacity".split("."),FL={seriesType:"lines",reset:function(e,t,n){var i=xs(e.get("symbol")),o=xs(e.get("symbolSize")),a=e.getData();return a.setVisual("fromSymbol",i&&i[0]),a.setVisual("toSymbol",i&&i[1]),a.setVisual("fromSymbolSize",o&&o[0]),a.setVisual("toSymbolSize",o&&o[1]),a.setVisual("opacity",e.get(M_)),{dataEach:a.hasItemOption?function(r,s){var l=r.getItemModel(s),u=xs(l.getShallow("symbol",!0)),h=xs(l.getShallow("symbolSize",!0)),c=l.get(M_);u[0]&&r.setItemVisual(s,"fromSymbol",u[0]),u[1]&&r.setItemVisual(s,"toSymbol",u[1]),h[0]&&r.setItemVisual(s,"fromSymbolSize",h[0]),h[1]&&r.setItemVisual(s,"toSymbolSize",h[1]),r.setItemVisual(s,"opacity",c)}:null}}};be(S_),ye(FL),Ae.extend({type:"series.heatmap",getInitialData:function(e,t){return _n(this.getSource(),this,{generateCoord:"value"})},preventIncremental:function(){var e=Xe.get(this.get("coordinateSystem"));if(e&&e.dimensions)return e.dimensions[0]==="lng"&&e.dimensions[1]==="lat"},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}}),D0.prototype={update:function(e,t,n,i,o,a){var r=this._getBrush(),s=this._getGradient(e,o,"inRange"),l=this._getGradient(e,o,"outOfRange"),u=this.pointSize+this.blurSize,h=this.canvas,c=h.getContext("2d"),d=e.length;h.width=t,h.height=n;for(var f=0;f<d;++f){var p=e[f],g=p[0],m=p[1],v=i(p[2]);c.globalAlpha=v,c.drawImage(r,g-u,m-u)}if(!h.width||!h.height)return h;for(var y=c.getImageData(0,0,h.width,h.height),x=y.data,_=0,w=x.length,S=this.minOpacity,M=this.maxOpacity-S;_<w;){var v=x[_+3]/256,I=4*Math.floor(255*v);if(v>0){var D=a(v)?s:l;v>0&&(v=v*M+S),x[_++]=D[I],x[_++]=D[I+1],x[_++]=D[I+2],x[_++]=D[I+3]*v*256}else _+=4}return c.putImageData(y,0,0),h},_getBrush:function(){var e=this._brushCanvas||(this._brushCanvas=ko()),t=this.pointSize+this.blurSize,n=2*t;e.width=n,e.height=n;var i=e.getContext("2d");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-t,t,this.pointSize,0,2*Math.PI,!0),i.closePath(),i.fill(),e},_getGradient:function(e,t,n){for(var i=this._gradientPixels,o=i[n]||(i[n]=new Uint8ClampedArray(1024)),a=[0,0,0,0],r=0,s=0;s<256;s++)t[n](s/255,!0,a),o[r++]=a[0],o[r++]=a[1],o[r++]=a[2],o[r++]=a[3];return o}},Qe({type:"heatmap",render:function(e,t,n){var i;t.eachComponent("visualMap",function(a){a.eachTargetSeries(function(r){r===e&&(i=a)})}),this.group.removeAll(),this._incrementalDisplayable=null;var o=e.coordinateSystem;o.type==="cartesian2d"||o.type==="calendar"?this._renderOnCartesianAndCalendar(e,n,0,e.getData().count()):A2(o)&&this._renderOnGeo(o,e,i,n)},incrementalPrepareRender:function(e,t,n){this.group.removeAll()},incrementalRender:function(e,t,n,i){t.coordinateSystem&&this._renderOnCartesianAndCalendar(t,i,e.start,e.end,!0)},_renderOnCartesianAndCalendar:function(e,t,n,i,o){var a,r,s=e.coordinateSystem;if(s.type==="cartesian2d"){var l=s.getAxis("x"),u=s.getAxis("y");a=l.getBandWidth(),r=u.getBandWidth()}for(var h=this.group,c=e.getData(),d=e.getModel("itemStyle").getItemStyle(["color"]),f=e.getModel("emphasis.itemStyle").getItemStyle(),p=e.getModel("label"),g=e.getModel("emphasis.label"),m=s.type,v=m==="cartesian2d"?[c.mapDimension("x"),c.mapDimension("y"),c.mapDimension("value")]:[c.mapDimension("time"),c.mapDimension("value")],y=n;y<i;y++){var x;if(m==="cartesian2d"){if(isNaN(c.get(v[2],y)))continue;var _=s.dataToPoint([c.get(v[0],y),c.get(v[1],y)]);x=new pe({shape:{x:_[0]-a/2,y:_[1]-r/2,width:a,height:r},style:{fill:c.getItemVisual(y,"color"),opacity:c.getItemVisual(y,"opacity")}})}else{if(isNaN(c.get(v[1],y)))continue;x=new pe({z2:1,shape:s.dataToRect([c.get(v[0],y)]).contentShape,style:{fill:c.getItemVisual(y,"color"),opacity:c.getItemVisual(y,"opacity")}})}var w=c.getItemModel(y);c.hasItemOption&&(d=w.getModel("itemStyle").getItemStyle(["color"]),f=w.getModel("emphasis.itemStyle").getItemStyle(),p=w.getModel("label"),g=w.getModel("emphasis.label"));var S=e.getRawValue(y),M="-";S&&S[2]!=null&&(M=S[2]),yt(d,f,p,g,{labelFetcher:e,labelDataIndex:y,defaultText:M,isRectText:!0}),x.setStyle(d),ve(x,c.hasItemOption?f:G({},f)),x.incremental=o,o&&(x.useHoverLayer=!0),h.add(x),c.setItemGraphicEl(y,x)}},_renderOnGeo:function(e,t,n,i){var o=n.targetVisuals.inRange,a=n.targetVisuals.outOfRange,r=t.getData(),s=this._hmLayer||this._hmLayer||new D0;s.blurSize=t.get("blurSize"),s.pointSize=t.get("pointSize"),s.minOpacity=t.get("minOpacity"),s.maxOpacity=t.get("maxOpacity");var l=e.getViewRect().clone(),u=e.getRoamTransform();l.applyTransform(u);var h=Math.max(l.x,0),c=Math.max(l.y,0),d=Math.min(l.width+l.x,i.getWidth()),f=Math.min(l.height+l.y,i.getHeight()),p=d-h,g=f-c,m=[r.mapDimension("lng"),r.mapDimension("lat"),r.mapDimension("value")],v=r.mapArray(m,function(w,S,M){var I=e.dataToPoint([w,S]);return I[0]-=h,I[1]-=c,I.push(M),I}),y=n.getExtent(),x=n.type==="visualMap.continuous"?D2(y,n.option.range):I2(y,n.getPieceList(),n.option.selected);s.update(v,p,g,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:a.color.getColorMapper()},x);var _=new Ze({style:{width:p,height:g,x:h,y:c,image:s.canvas},silent:!0});this.group.add(_)},dispose:function(){}});var HL=Gx.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(e){return e.stack=null,HL.superApply(this,"getInitialData",arguments)}}),ZL=["itemStyle","borderWidth"],I_=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],zf=new Ei;Qe({type:"pictorialBar",render:function(e,t,n){var i=this.group,o=e.getData(),a=this._data,r=e.coordinateSystem,s=!!r.getBaseAxis().isHorizontal(),l=r.grid.getRect(),u={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:e,coordSys:r,coordSysExtent:[[l.x,l.x+l.width],[l.y,l.y+l.height]],isHorizontal:s,valueDim:I_[+s],categoryDim:I_[1-s]};return o.diff(a).add(function(h){if(o.hasValue(h)){var c=O0(o,h),d=A0(o,h,c,u),f=N0(o,u,d);o.setItemGraphicEl(h,f),i.add(f),R0(f,u,d)}}).update(function(h,c){var d=a.getItemGraphicEl(c);if(o.hasValue(h)){var f=O0(o,h),p=A0(o,h,f,u),g=z0(o,p);d&&g!==d.__pictorialShapeStr&&(i.remove(d),o.setItemGraphicEl(h,null),d=null),d?N2(d,u,p):d=N0(o,u,p,!0),o.setItemGraphicEl(h,d),d.__pictorialSymbolMeta=p,i.add(d),R0(d,u,p)}else i.remove(d)}).remove(function(h){var c=a.getItemGraphicEl(h);c&&E0(a,h,c.__pictorialSymbolMeta.animationModel,c)}).execute(),this._data=o,this.group},dispose:We,remove:function(e,t){var n=this.group,i=this._data;e.get("animation")?i&&i.eachItemGraphicEl(function(o){E0(i,o.dataIndex,e,o)}):n.removeAll()}}),be(j(Bm,"pictorialBar")),ye(Fi("pictorialBar","roundRect"));var Kl=function(e,t,n,i,o){Le.call(this,e,t,n),this.type=i||"value",this.position=o||"bottom",this.orient=null,this._labelInterval=null};Kl.prototype={constructor:Kl,model:null,isHorizontal:function(){var e=this.position;return e==="top"||e==="bottom"},pointToData:function(e,t){return this.coordinateSystem.pointToData(e,t)[0]},toGlobalCoord:null,toLocalCoord:null},he(Kl,Le),_s.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:_s,_init:function(e,t,n){var i=this.dimension,o=new Kl(i,yo(e),[0,0],e.get("type"),e.get("position")),a=o.type==="category";o.onBand=a&&e.get("boundaryGap"),o.inverse=e.get("inverse"),o.orient=e.get("orient"),e.axis=o,o.model=e,o.coordinateSystem=this,this._axis=o},update:function(e,t){e.eachSeries(function(n){if(n.coordinateSystem===this){var i=n.getData();b(i.mapDimension(this.dimension,!0),function(o){this._axis.scale.unionExtentFromData(i,o)},this),wi(this._axis.scale,this._axis.model)}},this)},resize:function(e,t){this._rect=Pe({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var e=this._rect,t=this._axis,n=t.isHorizontal(),i=n?[0,e.width]:[0,e.height],o=t.reverse?1:0;t.setExtent(i[o],i[1-o]),this._updateAxisTransform(t,n?e.x:e.y)},_updateAxisTransform:function(e,t){var n=e.getExtent(),i=n[0]+n[1],o=e.isHorizontal();e.toGlobalCoord=o?function(a){return a+t}:function(a){return i-a+t},e.toLocalCoord=o?function(a){return a-t}:function(a){return i-a+t}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(e){var t=this.getRect(),n=this.getAxis();return n.orient==="horizontal"?n.contain(n.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:n.contain(n.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},pointToData:function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e[t.orient==="horizontal"?0:1]))]},dataToPoint:function(e){var t=this.getAxis(),n=this.getRect(),i=[],o=t.orient==="horizontal"?0:1;return e instanceof Array&&(e=e[0]),i[o]=t.toGlobalCoord(t.dataToCoord(+e)),i[1-o]=o===0?n.y+n.height/2:n.x+n.width/2,i}},Xe.register("single",{create:function(e,t){var n=[];return e.eachComponent("singleAxis",function(i,o){var a=new _s(i,e,t);a.name="single_"+o,a.resize(i,t),i.coordinateSystem=a,n.push(a)}),e.eachSeries(function(i){if(i.get("coordinateSystem")==="singleAxis"){var o=e.queryComponents({mainType:"singleAxis",index:i.get("singleAxisIndex"),id:i.get("singleAxisId")})[0];i.coordinateSystem=o&&o.coordinateSystem}}),n},dimensions:_s.prototype.dimensions});var UL=$e.getInterval,jL=$e.ifIgnoreOnTick,XL=["axisLine","axisTickLabel","axisName"],qL=ft.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(e,t,n,i){var o=this.group;o.removeAll();var a=kc(e),r=new $e(e,a);b(XL,r.add,r),o.add(r.getGroup()),e.get("splitLine.show")&&this._splitLine(e,a.labelInterval),qL.superCall(this,"render",e,t,n,i)},_splitLine:function(e,t){var n=e.axis;if(!n.scale.isBlank()){var i=e.getModel("splitLine"),o=i.getModel("lineStyle"),a=o.get("width"),r=o.get("color"),s=UL(i,t);r=r instanceof Array?r:[r];for(var l=e.coordinateSystem.getRect(),u=n.isHorizontal(),h=[],c=0,d=n.getTicksCoords(),f=[],p=[],g=e.get("axisLabel.showMinLabel"),m=e.get("axisLabel.showMaxLabel"),v=0;v<d.length;++v)if(!jL(n,v,s,d.length,g,m)){var y=n.toGlobalCoord(d[v]);u?(f[0]=y,f[1]=l.y,p[0]=y,p[1]=l.y+l.height):(f[0]=l.x,f[1]=y,p[0]=l.x+l.width,p[1]=y);var x=c++%r.length;h[x]=h[x]||[],h[x].push(new Mt(gi({shape:{x1:f[0],y1:f[1],x2:p[0],y2:p[1]},style:{lineWidth:a},silent:!0})))}for(v=0;v<h.length;++v)this.group.add(Dn(h[v],{style:{stroke:r[v%r.length],lineDash:o.getLineDash(a),lineWidth:a},silent:!0}))}}}),D_=ie.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}}),YL={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:2,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}};q(D_.prototype,Wi),jo("single",D_,function(e,t){return t.type||(t.data?"category":"value")},YL);var A_=function(e,t){var n,i=[],o=e.seriesIndex;if(o==null||!(n=t.getSeriesByIndex(o)))return{point:[]};var a=n.getData(),r=Vr(a,e);if(r==null||r<0||O(r))return{point:[]};var s=a.getItemGraphicEl(r),l=n.coordinateSystem;if(n.getTooltipPosition)i=n.getTooltipPosition(r)||[];else if(l&&l.dataToPoint)i=l.dataToPoint(a.getValues(P(l.dimensions,function(h){return a.mapDimension(h)}),r,!0))||[];else if(s){var u=s.getBoundingRect().clone();u.applyTransform(s.transform),i=[u.x+u.width/2,u.y+u.height/2]}return{point:i,el:s}},ln=b,T_=j,C_=Ft(),Tn=(it({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),Ft()),$L=b,L_=Oe({type:"axisPointer",render:function(e,t,n){var i=t.getComponent("tooltip"),o=e.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";W0("axisPointer",n,function(a,r,s){o!=="none"&&(a==="leave"||o.indexOf(a)>=0)&&s({type:"updateAxisPointer",currTrigger:a,x:r&&r.offsetX,y:r&&r.offsetY})})},remove:function(e,t){Pc(t.getZr(),"axisPointer"),L_.superApply(this._model,"remove",arguments)},dispose:function(e,t){Pc("axisPointer",t),L_.superApply(this._model,"dispose",arguments)}}),Yi=Ft(),k_=Z,Rf=U;(Ao.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(e,t,n,i){var o=t.get("value"),a=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=n,i||this._lastValue!==o||this._lastStatus!==a){this._lastValue=o,this._lastStatus=a;var r=this._group,s=this._handle;if(!a||a==="hide")return r&&r.hide(),void(s&&s.hide());r&&r.show(),s&&s.show();var l={};this.makeElOption(l,o,e,t,n);var u=l.graphicKey;u!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=u;var h=this._moveAnimation=this.determineAnimation(e,t);if(r){var c=j(H0,t,h);this.updatePointerEl(r,l,c,t),this.updateLabelEl(r,l,c,t)}else r=this._group=new V,this.createPointerEl(r,l,e,t),this.createLabelEl(r,l,e,t),n.getZr().add(r);j0(r,t,!0),this._renderHandle(o)}},remove:function(e){this.clear(e)},dispose:function(e){this.clear(e)},determineAnimation:function(e,t){var n=t.get("animation"),i=e.axis,o=i.type==="category",a=t.get("snap");if(!a&&!o)return!1;if(n==="auto"||n==null){var r=this.animationThreshold;if(o&&i.getBandWidth()>r)return!0;if(a){var s=Gh(e).seriesDataCount,l=i.getExtent();return Math.abs(l[0]-l[1])/s>r}return!1}return n===!0},makeElOption:function(e,t,n,i,o){},createPointerEl:function(e,t,n,i){var o=t.pointer;if(o){var a=Yi(e).pointerEl=new Nt[o.type](k_(t.pointer));e.add(a)}},createLabelEl:function(e,t,n,i){if(t.label){var o=Yi(e).labelEl=new pe(k_(t.label));e.add(o),U0(o,i)}},updatePointerEl:function(e,t,n){var i=Yi(e).pointerEl;i&&(i.setStyle(t.pointer.style),n(i,{shape:t.pointer.shape}))},updateLabelEl:function(e,t,n,i){var o=Yi(e).labelEl;o&&(o.setStyle(t.label.style),n(o,{shape:t.label.shape,position:t.label.position}),U0(o,i))},_renderHandle:function(e){if(!this._dragging&&this.updateHandleTransform){var t=this._axisPointerModel,n=this._api.getZr(),i=this._handle,o=t.getModel("handle"),a=t.get("status");if(!o.get("show")||!a||a==="hide")return i&&n.remove(i),void(this._handle=null);var r;this._handle||(r=!0,i=this._handle=xa(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){Zn(u.event)},onmousedown:Rf(this._onHandleDragMove,this,0,0),drift:Rf(this._onHandleDragMove,this),ondragend:Rf(this._onHandleDragEnd,this)}),n.add(i)),j0(i,t,!1);var s=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];i.setStyle(o.getItemStyle(null,s));var l=o.get("size");O(l)||(l=[l,l]),i.attr("scale",[l[0]/2,l[1]/2]),Sa(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,r)}},_moveHandleToValue:function(e,t){H0(this._axisPointerModel,!t&&this._moveAnimation,this._handle,Oc(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(e,t){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(Oc(n),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(Oc(i)),Yi(n).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var e=this._payloadInfo,t=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:t.axis.dim,axisIndex:t.componentIndex}]})}},_onHandleDragEnd:function(e){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),n=this._group,i=this._handle;t&&n&&(this._lastGraphicKey=null,n&&t.remove(n),i&&t.remove(i),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(e,t,n){return n=n||0,{x:e[n],y:e[1-n],width:t[n],height:t[1-n]}}}).constructor=Ao,va(Ao);var KL=Ao.extend({makeElOption:function(e,t,n,i,o){var a=n.axis,r=a.grid,s=i.get("type"),l=J0(r,a).getOtherAxis(a).getGlobalExtent(),u=a.toGlobalCoord(a.dataToCoord(t,!0));if(s&&s!=="none"){var h=Nc(i),c=JL[s](a,u,l,h);c.style=h,e.graphicKey=c.type,e.pointer=c}Y0(t,e,Fh(r.model,n),n,i,o)},getHandleTransform:function(e,t,n){var i=Fh(t.axis.grid.model,t,{labelInside:!1});return i.labelMargin=n.get("handle.margin"),{position:Ec(t.axis,e,i),rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,t,n,i){var o=n.axis,a=o.grid,r=o.getGlobalExtent(!0),s=J0(a,o).getOtherAxis(o).getGlobalExtent(),l=o.dim==="x"?0:1,u=e.position;u[l]+=t[l],u[l]=Math.min(r[1],u[l]),u[l]=Math.max(r[0],u[l]);var h=(s[1]+s[0])/2,c=[h,h];c[l]=u[l];var d=[{verticalAlign:"middle"},{align:"center"}];return{position:u,rotation:e.rotation,cursorPoint:c,tooltipOption:d[l]}}}),JL={line:function(e,t,n,i){var o=zc([t,n[0]],[t,n[1]],Q0(e));return gi({shape:o,style:i}),{type:"Line",shape:o}},shadow:function(e,t,n,i){var o=e.getBandWidth(),a=n[1]-n[0];return{type:"Rect",shape:$0([t-o/2,n[0]],[o,a],Q0(e))}}};ft.registerAxisPointerClass("CartesianAxisPointer",KL),He(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!O(t)&&(e.axisPointer.link=[t])}}),ut(Ho.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=MM(e,t)}),se({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},function(e,t,n){var i=e.currTrigger,o=[e.x,e.y],a=e,r=e.dispatchAction||U(n.dispatchAction,n),s=t.getComponent("axisPointer").coordSysAxesInfo;if(s){ws(o)&&(o=A_({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},t).point);var l=ws(o),u=a.axesInfo,h=s.axesInfo,c=i==="leave"||ws(o),d={},f={},p={list:[],map:{}},g={showPointer:T_(z2,f),showTooltip:T_(R2,p)};ln(s.coordSysMap,function(v,y){var x=l||v.containPoint(o);ln(s.coordSysAxesInfo[y],function(_,w){var S=_.axis,M=W2(u,_);if(!c&&x&&(!u||M)){var I=M&&M.value;I!=null||l||(I=S.pointToData(o)),I!=null&&V0(_,I,g,!1,d)}})});var m={};return ln(h,function(v,y){var x=v.linkGroup;x&&!f[y]&&ln(x.axesInfo,function(_,w){var S=f[w];if(_!==v&&S){var M=S.value;x.mapper&&(M=v.axis.scale.parse(x.mapper(M,G0(_),G0(v)))),m[v.key]=M}})}),ln(m,function(v,y){V0(h[y],v,g,!0,d)}),B2(f,h,d),V2(p,o,e,r),G2(h,0,n),d}});var P_=["x","y"],QL=["width","height"],ek=Ao.extend({makeElOption:function(e,t,n,i,o){var a=n.axis,r=a.coordinateSystem,s=Rc(r,1-bs(a)),l=r.dataToPoint(t)[0],u=i.get("type");if(u&&u!=="none"){var h=Nc(i),c=tk[u](a,l,s,h);c.style=h,e.graphicKey=c.type,e.pointer=c}Y0(t,e,kc(n),n,i,o)},getHandleTransform:function(e,t,n){var i=kc(t,{labelInside:!1});return i.labelMargin=n.get("handle.margin"),{position:Ec(t.axis,e,i),rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,t,n,i){var o=n.axis,a=o.coordinateSystem,r=bs(o),s=Rc(a,r),l=e.position;l[r]+=t[r],l[r]=Math.min(s[1],l[r]),l[r]=Math.max(s[0],l[r]);var u=Rc(a,1-r),h=(u[1]+u[0])/2,c=[h,h];return c[r]=l[r],{position:l,rotation:e.rotation,cursorPoint:c,tooltipOption:{verticalAlign:"middle"}}}}),tk={line:function(e,t,n,i){var o=zc([t,n[0]],[t,n[1]],bs(e));return gi({shape:o,style:i}),{type:"Line",shape:o}},shadow:function(e,t,n,i){var o=e.getBandWidth(),a=n[1]-n[0];return{type:"Rect",shape:$0([t-o/2,n[0]],[o,a],bs(e))}}};ft.registerAxisPointerClass("SingleAxisPointer",ek),Oe({type:"single"});var nk=Ae.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(e){nk.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},fixData:function(e){for(var t=e.length,n=P(Ic().key(function(g){return g[2]}).entries(e),function(g){return{name:g.key,dataList:g.values}}),i=n.length,o=-1,a=-1,r=0;r<i;++r){var s=n[r].dataList.length;s>o&&(o=s,a=r)}for(var l=0;l<i;++l)if(l!==a)for(var u=n[l].name,h=0;h<o;++h){for(var c=n[a].dataList[h][0],d=n[l].dataList.length,f=-1,p=0;p<d;++p)if(n[l].dataList[p][0]===c){f=p;break}f===-1&&(e[t]=[],e[t][0]=c,e[t][1]=0,e[t][2]=u,t++)}return e},getInitialData:function(e,t){for(var n=t.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0].get("type"),i=ke(e.data,function(c){return c[2]!==void 0}),o=this.fixData(i||[]),a=[],r=this.nameMap=K(),s=0,l=0;l<o.length;++l)a.push(o[l][2]),r.get(o[l][2])||(r.set(o[l][2],s),s++);var u=Zo(o,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:ts(n)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),h=new Ee(u,this);return h.initData(o),h},getLayerSeries:function(){for(var e=this.getData(),t=e.count(),n=[],i=0;i<t;++i)n[i]=i;for(var o=P(Ic().key(function(s){return e.get("name",s)}).entries(n),function(s){return{name:s.key,indices:s.values}}),a=e.mapDimension("single"),r=0;r<o.length;++r)o[r].indices.sort(function(s,l){return e.get(a,s)-e.get(a,l)});return o},getAxisTooltipData:function(e,t,n){O(e)||(e=e?[e]:[]);for(var i,o=this.getData(),a=this.getLayerSeries(),r=[],s=a.length,l=0;l<s;++l){for(var u=Number.MAX_VALUE,h=-1,c=a[l].indices.length,d=0;d<c;++d){var f=o.get(e[0],a[l].indices[d]),p=Math.abs(f-t);p<=u&&(i=f,u=p,h=a[l].indices[d])}r.push(h)}return{dataIndices:r,nestestValue:i}},formatTooltip:function(e){var t=this.getData(),n=t.getName(e),i=t.get(t.mapDimension("value"),e);return(isNaN(i)||i==null)&&(i="-"),we(n+" : "+i)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,textAlign:"right",show:!0,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:!0}}}});Qe({type:"themeRiver",init:function(){this._layers=[]},render:function(e,t,n){function i(d){return d.name}function o(d,f,p){var g=this._layers;if(d!=="remove"){for(var m,v=[],y=[],x=s[f].indices,_=0;_<x.length;_++){var w=a.getItemLayout(x[_]),S=w.x,M=w.y0,I=w.y;v.push([S,M]),y.push([S,M+I]),m=a.getItemVisual(x[_],"color")}var D,T,A=a.getItemLayout(x[0]),L=a.getItemModel(x[_-1]),k=L.getModel("label"),C=k.get("margin");if(d==="add")N=c[f]=new V,D=new Lx({shape:{points:v,stackedOnPoints:y,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),T=new te({style:{x:A.x-C,y:A.y0+A.y/2}}),N.add(D),N.add(T),r.add(N),D.setClipPath(X2(D.getBoundingRect(),e,function(){D.removeClipPath()}));else{var N=g[p];D=N.childAt(0),T=N.childAt(1),r.add(N),c[f]=N,J(D,{shape:{points:v,stackedOnPoints:y}},e),J(T,{style:{x:A.x-C,y:A.y0+A.y/2}},e)}var B=L.getModel("emphasis.itemStyle"),R=L.getModel("itemStyle");Se(T.style,k,{text:k.get("show")?e.getFormattedLabel(x[_-1],"normal")||a.getName(x[_-1]):null,textVerticalAlign:"middle"}),D.setStyle(G({fill:m},R.getItemStyle(["color"]))),ve(D,B.getItemStyle())}else r.remove(g[f])}var a=e.getData(),r=this.group,s=e.getLayerSeries(),l=a.getLayout("layoutInfo"),u=l.rect,h=l.boundaryGap;r.attr("position",[0,u.y+h[0]]);var c={};new xn(this._layersSeries||[],s,i,i).add(U(o,this,"add")).update(U(o,this,"update")).remove(U(o,this,"remove")).execute(),this._layersSeries=s,this._layers=c},dispose:function(){}}),be(function(e,t){e.eachSeriesByType("themeRiver",function(n){var i=n.getData(),o=n.coordinateSystem,a={},r=o.getRect();a.rect=r;var s=n.get("boundaryGap"),l=o.getAxis();a.boundaryGap=s,l.orient==="horizontal"?(s[0]=E(s[0],r.height),s[1]=E(s[1],r.height),ey(i,n,r.height-s[0]-s[1])):(s[0]=E(s[0],r.width),s[1]=E(s[1],r.width),ey(i,n,r.width-s[0]-s[1])),i.setLayout("layoutInfo",a)})}),ye(function(e){e.eachSeriesByType("themeRiver",function(t){var n=t.getData(),i=t.getRawData(),o=t.get("color"),a=K();n.each(function(r){a.set(n.getRawIndex(r),r)}),i.each(function(r){var s=i.getName(r),l=o[(t.nameMap.get(s)-1)%o.length];i.setItemVisual(r,"color",l);var u=a.get(r);u!=null&&n.setItemVisual(u,"color",l)})})}),ut(ur("themeRiver")),Ae.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(e,t){var n={name:e.name,children:e.data};ty(n);var i=e.levels||[],o={};return o.levels=i,Mi.createTree(n,this,o).data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(e){var t=Ae.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(e);return t.treePathInfo=Jh(n,this),t},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0,emphasis:{}},itemStyle:{borderWidth:1,borderColor:"white",opacity:1,emphasis:{},highlight:{opacity:1},downplay:{opacity:.9}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)}});var Jl={NONE:"none",DESCENDANT:"descendant",ANCESTOR:"ancestor",SELF:"self"},ik=2,ok=4,$i=Ss.prototype;$i.updateData=function(e,t,n,i,o){this.node=t,t.piece=this,i=i||this._seriesModel,o=o||this._ecModel;var a=this.childAt(0);a.dataIndex=t.dataIndex;var r=t.getModel(),s=t.getLayout(),l=G({},s);l.label=null;var u,h=Y2(t,0,o),c=r.getModel("itemStyle").getItemStyle();u=W({lineJoin:"bevel",fill:(u=n==="normal"?c:q(r.getModel(n+".itemStyle").getItemStyle(),c)).fill||h},u),e?(a.setShape(l),a.shape.r=s.r0,J(a,{shape:{r:s.r}},i,t.dataIndex),a.useStyle(u)):typeof u.fill=="object"&&u.fill.type||typeof a.style.fill=="object"&&a.style.fill.type?(J(a,{shape:l},i),a.useStyle(u)):J(a,{shape:l,style:u},i),this._updateLabel(i,h,n);var d=r.getShallow("cursor");if(d&&a.attr("cursor",d),e){var f=i.getShallow("highlightPolicy");this._initEvents(a,t,i,f)}this._seriesModel=i||this._seriesModel,this._ecModel=o||this._ecModel},$i.onEmphasis=function(e){var t=this;this.node.hostTree.root.eachNode(function(n){n.piece&&(t.node===n?n.piece.updateData(!1,n,"emphasis"):K2(n,t.node,e)?n.piece.childAt(0).trigger("highlight"):e!==Jl.NONE&&n.piece.childAt(0).trigger("downplay"))})},$i.onNormal=function(){this.node.hostTree.root.eachNode(function(e){e.piece&&e.piece.updateData(!1,e,"normal")})},$i.onHighlight=function(){this.updateData(!1,this.node,"highlight")},$i.onDownplay=function(){this.updateData(!1,this.node,"downplay")},$i._updateLabel=function(e,t,n){function i(I){var D=r.get(I);return D==null?a.get(I):D}var o=this.node.getModel(),a=o.getModel("label"),r=n==="normal"||n==="emphasis"?a:o.getModel(n+".label"),s=o.getModel("emphasis.label"),l=Re(e.getFormattedLabel(this.node.dataIndex,"normal",null,null,"label"),this.node.name);i("show")===!1&&(l="");var u=this.node.getLayout(),h=r.get("minAngle");h==null&&(h=a.get("minAngle")),h=h/180*Math.PI;var c=u.endAngle-u.startAngle;h!=null&&Math.abs(c)<h&&(l="");var d=this.childAt(1);yt(d.style,d.hoverStyle||{},a,s,{defaultText:r.getShallow("show")?l:null,autoColor:t,useInsideStyle:!0});var f,p=(u.startAngle+u.endAngle)/2,g=Math.cos(p),m=Math.sin(p),v=i("position"),y=i("distance")||0,x=i("align");v==="outside"?(f=u.r+y,x=p>Math.PI/2?"right":"left"):x&&x!=="center"?x==="left"?(f=u.r0+y,p>Math.PI/2&&(x="right")):x==="right"&&(f=u.r-y,p>Math.PI/2&&(x="left")):(f=(u.r+u.r0)/2,x="center"),d.attr("style",{text:l,textAlign:x,textVerticalAlign:i("verticalAlign")||"middle",opacity:i("opacity")});var _=f*g+u.cx,w=f*m+u.cy;d.attr("position",[_,w]);var S=i("rotate"),M=0;S==="radial"?(M=-p)<-Math.PI/2&&(M+=Math.PI):S==="tangential"?(M=Math.PI/2-p)>Math.PI/2?M-=Math.PI:M<-Math.PI/2&&(M+=Math.PI):typeof S=="number"&&(M=S*Math.PI/180),d.attr("rotation",M)},$i._initEvents=function(e,t,n,i){e.off("mouseover").off("mouseout").off("emphasis").off("normal");var o=this,a=function(){o.onEmphasis(i)},r=function(){o.onNormal()};n.isAnimationEnabled()&&e.on("mouseover",a).on("mouseout",r).on("emphasis",a).on("normal",r).on("downplay",function(){o.onDownplay()}).on("highlight",function(){o.onHighlight()})},he(Ss,V),Ve.extend({type:"sunburst",init:function(){},render:function(e,t,n,i){function o(m,v){if(c||!m||m.getValue()||(m=null),m!==l&&v!==l){if(v&&v.piece)m?(v.piece.updateData(!1,m,"normal",e,t),s.setItemGraphicEl(m.dataIndex,v.piece)):a(v);else if(m){var y=new Ss(m,e,t);h.add(y),s.setItemGraphicEl(m.dataIndex,y)}}}function a(m){m&&m.piece&&(h.remove(m.piece),m.piece=null)}var r=this;this.seriesModel=e,this.api=n,this.ecModel=t;var s=e.getData(),l=s.tree.root,u=e.getViewRoot(),h=this.group,c=e.get("renderLabelForZeroData"),d=[];u.eachNode(function(m){d.push(m)});var f=this._oldChildren||[];if(function(m,v){function y(_){return _.getId()}function x(_,w){o(_==null?null:m[_],w==null?null:v[w])}m.length===0&&v.length===0||new xn(v,m,y,y).add(x).update(x).remove(j(x,null)).execute()}(d,f),function(m,v){if(v.depth>0){m.piece?m.piece.updateData(!1,m,"normal",e,t):(m.piece=new Ss(m,e,t),h.add(m.piece)),v.piece._onclickEvent&&v.piece.off("click",v.piece._onclickEvent);var y=function(x){r._rootToNode(v.parentNode)};v.piece._onclickEvent=y,m.piece.on("click",y)}else m.piece&&(h.remove(m.piece),m.piece=null)}(l,u),i&&i.highlight&&i.highlight.piece){var p=e.getShallow("highlightPolicy");i.highlight.piece.onEmphasis(p)}else if(i&&i.unhighlight){var g=l.piece;!g&&l.children.length&&(g=l.children[0].piece),g&&g.onNormal()}this._initEvents(),this._oldChildren=d},dispose:function(){},_initEvents:function(){var e=this,t=function(n){var i=!1;e.seriesModel.getViewRoot().eachNode(function(o){if(!i&&o.piece&&o.piece.childAt(0)===n.target){var a=o.getModel().get("nodeClick");if(a==="rootToNode")e._rootToNode(o);else if(a==="link"){var r=o.getModel(),s=r.get("link");if(s){var l=r.get("target",!0)||"_blank";window.open(s,l)}}i=!0}})};this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent),this.group.on("click",t),this.group._onclickEvent=t},_rootToNode:function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:"sunburstRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},containPoint:function(e,t){var n=t.getData().getItemLayout(0);if(n){var i=e[0]-n.cx,o=e[1]-n.cy,a=Math.sqrt(i*i+o*o);return a<=n.r&&a>=n.r0}}});var O_="sunburstRootToNode";se({type:O_,update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},function(n,i){var o=za(e,[O_],n);if(o){var a=n.getViewRoot();a&&(e.direction=Kh(a,o.node)?"rollUp":"drillDown"),n.resetViewRoot(o.node)}})});var N_="sunburstHighlight";se({type:N_,update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},function(n,i){var o=za(e,[N_],n);o&&(e.highlight=o.node)})}),se({type:"sunburstUnhighlight",update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},function(n,i){e.unhighlight=!0})});var E_=Math.PI/180;ye(j(Vl,"sunburst")),be(j(function(e,t,n,i){t.eachSeriesByType(e,function(o){var a=o.get("center"),r=o.get("radius");O(r)||(r=[0,r]),O(a)||(a=[a,a]);var s=n.getWidth(),l=n.getHeight(),u=Math.min(s,l),h=E(a[0],s),c=E(a[1],l),d=E(r[0],u/2),f=E(r[1],u/2),p=-o.get("startAngle")*E_,g=o.get("minAngle")*E_,m=o.getData().tree.root,v=o.getViewRoot(),y=v.depth,x=o.get("sort");x!=null&&ny(v,x);var _=0;b(v.children,function(R){!isNaN(R.getValue())&&_++});var w=v.getValue(),S=Math.PI/(w||_)*2,M=v.depth>0,I=v.height-(M?-1:1),D=(f-d)/(I||1),T=o.get("clockwise"),A=o.get("stillShowZeroSum"),L=T?1:-1,k=function(R,H){if(R){var z=H;if(R!==m){var de=R.getValue(),X=w===0&&A?S:de*S;X<g&&(X=g),z=H+L*X;var Me=R.depth-y-(M?-1:1),Bt=d+D*Me,kn=d+D*(Me+1),oo=R.getModel();oo.get("r0")!=null&&(Bt=E(oo.get("r0"),u/2)),oo.get("r")!=null&&(kn=E(oo.get("r"),u/2)),R.setLayout({angle:X,startAngle:H,endAngle:z,clockwise:T,cx:h,cy:c,r0:Bt,r:kn})}if(R.children&&R.children.length){var Ew=0;b(R.children,function(pP){Ew+=k(pP,H+Ew)})}return z-H}};if(M){var C=d,N=d+D,B=2*Math.PI;m.setLayout({angle:B,startAngle:p,endAngle:p+B,clockwise:T,cx:h,cy:c,r0:C,r:N})}k(v,p)})},"sunburst")),ut(j(ur,"sunburst"));var ak=["itemStyle"],rk=["emphasis","itemStyle"],sk=["label"],lk=["emphasis","label"],uk="e\0\0",hk={cartesian2d:function(e){var t=e.grid.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(n){return e.dataToPoint(n)},size:U(Q2,e)}}},geo:function(e){var t=e.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(n){return e.dataToPoint(n)},size:U(eD,e)}}},singleAxis:function(e){var t=e.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(n){return e.dataToPoint(n)},size:U(tD,e)}}},polar:function(e){var t=e.getRadiusAxis(),n=e.getAngleAxis(),i=t.getExtent();return i[0]>i[1]&&i.reverse(),{coordSys:{type:"polar",cx:e.cx,cy:e.cy,r:i[1],r0:i[0]},api:{coord:U(function(o){var a=t.dataToRadius(o[0]),r=n.dataToAngle(o[1]),s=e.coordToPoint([a,r]);return s.push(a,r*Math.PI/180),s}),size:U(nD,e)}}},calendar:function(e){var t=e.getRect(),n=e.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(i,o){return e.dataToPoint(i,o)}}}}};Aa({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0},getInitialData:function(e,t){return _n(this.getSource(),this)}}),Qe({type:"custom",_data:null,render:function(e,t,n){var i=this._data,o=e.getData(),a=this.group,r=oy(e,o,t,n);this.group.removeAll(),o.diff(i).add(function(s){Bc(null,s,r(s),e,a,o)}).update(function(s,l){Bc(i.getItemGraphicEl(l),s,r(s),e,a,o)}).remove(function(s){var l=i.getItemGraphicEl(s);l&&a.remove(l)}).execute(),this._data=o},incrementalPrepareRender:function(e,t,n){this.group.removeAll(),this._data=null},incrementalRender:function(e,t,n,i){for(var o=t.getData(),a=oy(t,o,n,i),r=e.start;r<e.end;r++)Bc(null,r,a(r),t,this.group,o).traverse(function(s){s.isGroup||(s.incremental=!0,s.useHoverLayer=!0)})},dispose:We}),He(function(e){var t=e.graphic;O(t)?t[0]&&t[0].elements?e.graphic=[e.graphic[0]]:e.graphic=[{elements:t}]:t&&!t.elements&&(e.graphic=[{elements:[t]}])});var ck=it({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(e){var t=this.option.elements;this.option.elements=null,ck.superApply(this,"mergeOption",arguments),this.option.elements=t},optionUpdated:function(e,t){var n=this.option,i=(t?n:e).elements,o=n.elements=t?[]:n.elements,a=[];this._flatten(i,a);var r=ju(o,a);rg(r);var s=this._elOptionsToUpdate=[];b(r,function(u,h){var c=u.option;c&&(s.push(c),uD(u,c),hD(o,h,c),cD(o[h],c))},this);for(var l=o.length-1;l>=0;l--)o[l]==null?o.splice(l,1):delete o[l].$action},_flatten:function(e,t,n){b(e,function(i){if(i){n&&(i.parentOption=n),t.push(i);var o=i.children;i.type==="group"&&o&&this._flatten(o,t,i),delete i.children}},this)},useElOptionsToUpdate:function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e}});Oe({type:"graphic",init:function(e,t){this._elMap=K(),this._lastGraphicModel},render:function(e,t,n){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e,n),this._relocate(e,n)},_updateElements:function(e,t){var n=e.useElOptionsToUpdate();if(n){var i=this._elMap,o=this.group;b(n,function(a){var r=a.$action,s=a.id,l=i.get(s),u=a.parentId,h=u!=null?i.get(u):o;if(a.type==="text"){var c=a.style;a.hv&&a.hv[1]&&(c.textVerticalAlign=c.textBaseline=null),!c.hasOwnProperty("textFill")&&c.fill&&(c.textFill=c.fill),!c.hasOwnProperty("textStroke")&&c.stroke&&(c.textStroke=c.stroke)}var d=lD(a);r&&r!=="merge"?r==="replace"?(Ms(l,i),sy(s,h,d,i)):r==="remove"&&Ms(l,i):l?l.attr(d):sy(s,h,d,i);var f=i.get(s);f&&(f.__ecGraphicWidth=a.width,f.__ecGraphicHeight=a.height)})}},_relocate:function(e,t){for(var n=e.option.elements,i=this.group,o=this._elMap,a=n.length-1;a>=0;a--){var r=n[a],s=o.get(r.id);if(s){var l=s.parent;qr(s,r,l===i?{width:t.getWidth(),height:t.getHeight()}:{width:l.__ecGraphicWidth||0,height:l.__ecGraphicHeight||0},null,{hv:r.hv,boundingMode:r.bounding})}}},_clear:function(){var e=this._elMap;e.each(function(t){Ms(t,e)}),this._elMap=K()},dispose:function(){this._clear()}});var z_=it({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(e,t,n){this.mergeDefaultAndTheme(e,n),e.selected=e.selected||{}},mergeOption:function(e){z_.superCall(this,"mergeOption",e)},optionUpdated:function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&this.get("selectedMode")==="single"){for(var t=!1,n=0;n<e.length;n++){var i=e[n].get("name");if(this.isSelected(i)){this.select(i),t=!0;break}}!t&&this.select(e[0].get("name"))}},_updateData:function(e){var t=[],n=[];e.eachRawSeries(function(o){var a=o.name;n.push(a);var r;if(o.legendDataProvider){var s=o.legendDataProvider(),l=s.mapArray(s.getName);e.isSeriesFiltered(o)||(n=n.concat(l)),l.length?t=t.concat(l):r=!0}else r=!0;r&&Xu(o)&&t.push(o.name)}),this._availableNames=n;var i=P(this.get("data")||t,function(o){return typeof o!="string"&&typeof o!="number"||(o={name:o}),new re(o,this,this.ecModel)},this);this._data=i},getData:function(){return this._data},select:function(e){var t=this.option.selected;this.get("selectedMode")==="single"&&b(this._data,function(n){t[n.get("name")]=!1}),t[e]=!0},unSelect:function(e){this.get("selectedMode")!=="single"&&(this.option.selected[e]=!1)},toggleSelected:function(e){var t=this.option.selected;t.hasOwnProperty(e)||(t[e]=!0),this[t[e]?"unSelect":"select"](e)},isSelected:function(e){var t=this.option.selected;return!(t.hasOwnProperty(e)&&!t[e])&&ne(this._availableNames,e)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}});se("legendToggleSelect","legendselectchanged",j(Gc,"toggleSelected")),se("legendSelect","legendselected",j(Gc,"select")),se("legendUnSelect","legendunselected",j(Gc,"unSelect"));var ta=j,dk=b,Bf=V,fk=Oe({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new Bf),this._backgroundEl},getContentGroup:function(){return this._contentGroup},render:function(e,t,n){if(this.resetInner(),e.get("show",!0)){var i=e.get("align");i&&i!=="auto"||(i=e.get("left")==="right"&&e.get("orient")==="vertical"?"right":"left"),this.renderInner(i,e,t,n);var o=e.getBoxLayoutParams(),a={width:n.getWidth(),height:n.getHeight()},r=e.get("padding"),s=Pe(o,a,r),l=this.layoutInner(e,i,s),u=Pe(W({width:l.width,height:l.height},o),a,r);this.group.attr("position",[u.x-l.x,u.y-l.y]),this.group.add(this._backgroundEl=uy(l,e))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl)},renderInner:function(e,t,n,i){var o=this.getContentGroup(),a=K(),r=t.get("selectedMode");dk(t.getData(),function(s,l){var u=s.get("name");if(this.newlineDisabled||u!==""&&u!==`
`){var h=n.getSeriesByName(u)[0];if(!a.get(u))if(h){var c=h.getData(),d=c.getVisual("color");typeof d=="function"&&(d=d(h.getDataParams(0)));var f=c.getVisual("legendSymbol")||"roundRect",p=c.getVisual("symbol");this._createItem(u,l,s,t,f,p,e,d,r).on("click",ta(hy,u,i)).on("mouseover",ta(cy,h,null,i)).on("mouseout",ta(dy,h,null,i)),a.set(u,!0)}else n.eachRawSeries(function(g){if(!a.get(u)&&g.legendDataProvider){var m=g.legendDataProvider(),v=m.indexOfName(u);if(v<0)return;var y=m.getItemVisual(v,"color");this._createItem(u,l,s,t,"roundRect",null,e,y,r).on("click",ta(hy,u,i)).on("mouseover",ta(cy,g,u,i)).on("mouseout",ta(dy,g,u,i)),a.set(u,!0)}},this)}else o.add(new Bf({newline:!0}))},this)},_createItem:function(e,t,n,i,o,a,r,s,l){var u=i.get("itemWidth"),h=i.get("itemHeight"),c=i.get("inactiveColor"),d=i.isSelected(e),f=new Bf,p=n.getModel("textStyle"),g=n.get("icon"),m=n.getModel("tooltip"),v=m.parentModel;if(o=g||o,f.add(ht(o,0,0,u,h,d?s:c,!0)),!g&&a&&(a!==o||a=="none")){var y=.8*h;a==="none"&&(a="circle"),f.add(ht(a,(u-y)/2,(h-y)/2,y,y,d?s:c))}var x=r==="left"?u+5:-5,_=r,w=i.get("formatter"),S=e;typeof w=="string"&&w?S=w.replace("{name}",e!=null?e:""):typeof w=="function"&&(S=w(e)),f.add(new te({style:Se({},p,{text:S,x,y:h/2,textFill:d?p.getTextColor():c,textAlign:_,textVerticalAlign:"middle"})}));var M=new pe({shape:f.getBoundingRect(),invisible:!0,tooltip:m.get("show")?G({content:e,formatter:v.get("formatter",!0)||function(){return e},formatterParams:{componentType:"legend",legendIndex:i.componentIndex,name:e,$vars:["name"]}},m.option):null});return f.add(M),f.eachChild(function(I){I.silent=!0}),M.silent=!l,this.getContentGroup().add(f),ve(f),f.__legendDataIndex=t,f},layoutInner:function(e,t,n){var i=this.getContentGroup();ir(e.get("orient"),i,e.get("itemGap"),n.width,n.height);var o=i.getBoundingRect();return i.attr("position",[-o.x,-o.y]),this.group.getBoundingRect()}});ut(function(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries(function(n){for(var i=0;i<t.length;i++)if(!t[i].isSelected(n.name))return!1;return!0})}),ie.registerSubTypeDefaulter("legend",function(){return"plain"});var R_=z_.extend({type:"legend.scroll",setScrollDataIndex:function(e){this.option.scrollDataIndex=e},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(e,t,n,i){var o=go(e);R_.superCall(this,"init",e,t,n,i),fy(this,e,o)},mergeOption:function(e,t){R_.superCall(this,"mergeOption",e,t),fy(this,this.option,e)},getOrient:function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}}}),B_=V,Ql=["width","height"],V_=["x","y"],Vf=fk.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){Vf.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new B_),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new B_),this._showController},resetInner:function(){Vf.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(e,t,n,i){function o(u,h){var c=u+"DataIndex",d=xa(t.get("pageIcons",!0)[t.getOrient().name][h],{onclick:U(a._pageGo,a,c,t,i)},{x:-s[0]/2,y:-s[1]/2,width:s[0],height:s[1]});d.name=u,r.add(d)}var a=this;Vf.superCall(this,"renderInner",e,t,n,i);var r=this._controllerGroup,s=t.get("pageIconSize",!0);O(s)||(s=[s,s]),o("pagePrev",0);var l=t.getModel("pageTextStyle");r.add(new te({name:"pageText",style:{textFill:l.getTextColor(),font:l.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),o("pageNext",1)},layoutInner:function(e,t,n){var i=this.getContentGroup(),o=this._containerGroup,a=this._controllerGroup,r=e.getOrient().index,s=Ql[r],l=Ql[1-r],u=V_[1-r];ir(e.get("orient"),i,e.get("itemGap"),r?n.width:null,r?null:n.height),ir("horizontal",a,e.get("pageButtonItemGap",!0));var h=i.getBoundingRect(),c=a.getBoundingRect(),d=this._showController=h[s]>n[s],f=[-h.x,-h.y];f[r]=i.position[r];var p=[0,0],g=[-c.x,-c.y],m=Be(e.get("pageButtonGap",!0),e.get("itemGap",!0));d&&(e.get("pageButtonPosition",!0)==="end"?g[r]+=n[s]-c[s]:p[r]+=c[s]+m),g[1-r]+=h[l]/2-c[l]/2,i.attr("position",f),o.attr("position",p),a.attr("position",g);var v=this.group.getBoundingRect();if((v={x:0,y:0})[s]=d?n[s]:h[s],v[l]=Math.max(h[l],c[l]),v[u]=Math.min(0,c[u]+g[1-r]),o.__rectSize=n[s],d){var y={x:0,y:0};y[s]=Math.max(n[s]-c[s]-m,0),y[l]=v[l],o.setClipPath(new pe({shape:y})),o.__rectSize=y[s]}else a.eachChild(function(_){_.attr({invisible:!0,silent:!0})});var x=this._getPageInfo(e);return x.pageIndex!=null&&J(i,{position:x.contentPosition},!!d&&e),this._updatePageInfoView(e,x),v},_pageGo:function(e,t,n){var i=this._getPageInfo(t)[e];i!=null&&n.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:t.id})},_updatePageInfoView:function(e,t){var n=this._controllerGroup;b(["pagePrev","pageNext"],function(l){var u=t[l+"DataIndex"]!=null,h=n.childOfName(l);h&&(h.setStyle("fill",u?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),h.cursor=u?"pointer":"default")});var i=n.childOfName("pageText"),o=e.get("pageFormatter"),a=t.pageIndex,r=a!=null?a+1:0,s=t.pageCount;i&&o&&i.setStyle("text",xe(o)?o.replace("{current}",r).replace("{total}",s):o({current:r,total:s}))},_getPageInfo:function(e){function t(S){var M=S.getBoundingRect().clone();return M[f]+=S.position[h],M}var n,i,o,a,r=e.get("scrollDataIndex",!0),s=this.getContentGroup(),l=s.getBoundingRect(),u=this._containerGroup.__rectSize,h=e.getOrient().index,c=Ql[h],d=Ql[1-h],f=V_[h],p=s.position.slice();this._showController?s.eachChild(function(S){S.__legendDataIndex===r&&(a=S)}):a=s.childAt(0);var g=u?Math.ceil(l[c]/u):0;if(a){var m=a.getBoundingRect(),v=a.position[h]+m[f];p[h]=-v-l[f],n=Math.floor(g*(v+m[f]+u/2)/l[c]),n=l[c]&&g?Math.max(0,Math.min(g-1,n)):-1;var y={x:0,y:0};y[c]=u,y[d]=l[d],y[f]=-p[h]-l[f];var x,_=s.children();if(s.eachChild(function(S,M){var I=t(S);I.intersect(y)&&(x==null&&(x=M),o=S.__legendDataIndex),M===_.length-1&&I[f]+I[c]<=y[f]+y[c]&&(o=null)}),x!=null){var w=t(_[x]);if(y[f]=w[f]+w[c]-y[c],x<=0&&w[f]>=y[f])i=null;else{for(;x>0&&t(_[x-1]).intersect(y);)x--;i=_[x].__legendDataIndex}}}return{contentPosition:p,pageIndex:n,pageCount:g,pagePrevDataIndex:i,pageNextDataIndex:o}}});se("legendScroll","legendscroll",function(e,t){var n=e.scrollDataIndex;n!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(i){i.setScrollDataIndex(n)})}),it({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var G_=b,pk=Zg,gk=["","-webkit-","-moz-","-o-"];Wc.prototype={constructor:Wc,_enterable:!0,update:function(){var e=this._container,t=e.currentStyle||document.defaultView.getComputedStyle(e),n=e.style;n.position!=="absolute"&&t.position!=="absolute"&&(n.position="relative")},show:function(e){clearTimeout(this._hideTimeout);var t=this.el;t.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+gD(e)+";left:"+this._x+"px;top:"+this._y+"px;"+(e.get("extraCssText")||""),t.style.display=t.innerHTML?"block":"none",this._show=!0},setContent:function(e){this.el.innerHTML=e==null?"":e},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el;return[e.clientWidth,e.clientHeight]},moveTo:function(e,t){var n,i=this._zr;i&&i.painter&&(n=i.painter.getViewportRootOffset())&&(e+=n.offsetLeft,t+=n.offsetTop);var o=this.el.style;o.left=e+"px",o.top=t+"px",this._x=e,this._y=t},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(U(this.hide,this),e)):this.hide())},isShow:function(){return this._show}};var W_=U,_r=b,F_=E,mk=new pe({shape:{x:-1,y:-1,width:2,height:2}});Oe({type:"tooltip",init:function(e,t){if(!ee.node){var n=new Wc(t.getDom(),t);this._tooltipContent=n}},render:function(e,t,n){if(!ee.node&&!ee.wxa){this.group.removeAll(),this._tooltipModel=e,this._ecModel=t,this._api=n,this._lastDataByCoordSys=null,this._alwaysShowContent=e.get("alwaysShowContent");var i=this._tooltipContent;i.update(),i.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var e=this._tooltipModel.get("triggerOn");W0("itemTooltip",this._api,W_(function(t,n,i){e!=="none"&&(e.indexOf(t)>=0?this._tryShow(n,i):t==="leave"&&this._hide(i))},this))},_keepShow:function(){var e=this._tooltipModel,t=this._ecModel,n=this._api;if(this._lastX!=null&&this._lastY!=null&&e.get("triggerOn")!=="none"){var i=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){i.manuallyShowTip(e,t,n,{x:i._lastX,y:i._lastY})})}},manuallyShowTip:function(e,t,n,i){if(i.from!==this.uid&&!ee.node){var o=py(i,n);this._ticket="";var a=i.dataByCoordSys;if(i.tooltip&&i.x!=null&&i.y!=null){var r=mk;r.position=[i.x,i.y],r.update(),r.tooltip=i.tooltip,this._tryShow({offsetX:i.x,offsetY:i.y,target:r},o)}else if(a)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,event:{},dataByCoordSys:i.dataByCoordSys,tooltipOption:i.tooltipOption},o);else if(i.seriesIndex!=null){if(this._manuallyAxisShowTip(e,t,n,i))return;var s=A_(i,t),l=s.point[0],u=s.point[1];l!=null&&u!=null&&this._tryShow({offsetX:l,offsetY:u,position:i.position,target:s.el,event:{}},o)}else i.x!=null&&i.y!=null&&(n.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:n.getZr().findHover(i.x,i.y).target,event:{}},o))}},manuallyHideTip:function(e,t,n,i){var o=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,i.from!==this.uid&&this._hide(py(i,n))},_manuallyAxisShowTip:function(e,t,n,i){var o=i.seriesIndex,a=i.dataIndex,r=t.getComponent("axisPointer").coordSysAxesInfo;if(o!=null&&a!=null&&r!=null){var s=t.getSeriesByIndex(o);if(s&&(e=Fc([s.getData().getItemModel(a),s,(s.coordinateSystem||{}).model,e])).get("trigger")==="axis")return n.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:a,position:i.position}),!0}},_tryShow:function(e,t){var n=e.target;if(this._tooltipModel){this._lastX=e.offsetX,this._lastY=e.offsetY;var i=e.dataByCoordSys;i&&i.length?this._showAxisTooltip(i,e):n&&n.dataIndex!=null?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(e,n,t)):n&&n.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(e,n,t)):(this._lastDataByCoordSys=null,this._hide(t))}},_showOrMove:function(e,t){var n=e.get("showDelay");t=U(t,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(t,n):t()},_showAxisTooltip:function(e,t){var n=this._ecModel,i=this._tooltipModel,o=[t.offsetX,t.offsetY],a=[],r=[],s=Fc([t.tooltipOption,i]);_r(e,function(u){_r(u.dataByAxis,function(h){var c=n.getComponent(h.axisDim+"Axis",h.axisIndex),d=h.value,f=[];if(c&&d!=null){var p=q0(d,c.axis,n,h.seriesDataIndices,h.valueLabelOpt);b(h.seriesDataIndices,function(m){var v=n.getSeriesByIndex(m.seriesIndex),y=m.dataIndexInside,x=v&&v.getDataParams(y);x.axisDim=h.axisDim,x.axisIndex=h.axisIndex,x.axisType=h.axisType,x.axisId=h.axisId,x.axisValue=Th(c.axis,d),x.axisValueLabel=p,x&&(r.push(x),f.push(v.formatTooltip(y,!0)))});var g=p;a.push((g?we(g)+"<br />":"")+f.join("<br />"))}})},this),a.reverse(),a=a.join("<br /><br />");var l=t.position;this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(e)?this._updatePosition(s,l,o[0],o[1],this._tooltipContent,r):this._showTooltipContent(s,a,r,Math.random(),o[0],o[1],l)})},_showSeriesItemTooltip:function(e,t,n){var i=this._ecModel,o=t.seriesIndex,a=i.getSeriesByIndex(o),r=t.dataModel||a,s=t.dataIndex,l=t.dataType,u=r.getData(),h=Fc([u.getItemModel(s),r,a&&(a.coordinateSystem||{}).model,this._tooltipModel]),c=h.get("trigger");if(c==null||c==="item"){var d=r.getDataParams(s,l),f=r.formatTooltip(s,!1,l),p="item_"+r.name+"_"+s;this._showOrMove(h,function(){this._showTooltipContent(h,f,d,p,e.offsetX,e.offsetY,e.position,e.target)}),n({type:"showTip",dataIndexInside:s,dataIndex:u.getRawIndex(s),seriesIndex:o,from:this.uid})}},_showComponentItemTooltip:function(e,t,n){var i=t.tooltip;if(typeof i=="string"){var o=i;i={content:o,formatter:o}}var a=new re(i,this._tooltipModel,this._ecModel),r=a.get("content"),s=Math.random();this._showOrMove(a,function(){this._showTooltipContent(a,r,a.get("formatterParams")||{},s,e.offsetX,e.offsetY,e.position,t)}),n({type:"showTip",from:this.uid})},_showTooltipContent:function(e,t,n,i,o,a,r,s){if(this._ticket="",e.get("showContent")&&e.get("show")){var l=this._tooltipContent,u=e.get("formatter");r=r||e.get("position");var h=t;if(u&&typeof u=="string")h=rh(u,n,!0);else if(typeof u=="function"){var c=W_(function(d,f){d===this._ticket&&(l.setContent(f),this._updatePosition(e,r,o,a,l,n,s))},this);this._ticket=i,h=u(n,i,c)}l.setContent(h),l.show(e),this._updatePosition(e,r,o,a,l,n,s)}},_updatePosition:function(e,t,n,i,o,a,r){var s=this._api.getWidth(),l=this._api.getHeight();t=t||e.get("position");var u=o.getSize(),h=e.get("align"),c=e.get("verticalAlign"),d=r&&r.getBoundingRect().clone();if(r&&d.applyTransform(r.transform),typeof t=="function"&&(t=t([n,i],a,o.el,d,{viewSize:[s,l],contentSize:u.slice()})),O(t))n=F_(t[0],s),i=F_(t[1],l);else if(Y(t)){t.width=u[0],t.height=u[1];var f=Pe(t,{width:s,height:l});n=f.x,i=f.y,h=null,c=null}else typeof t=="string"&&r?(n=(p=yD(t,d,u))[0],i=p[1]):(n=(p=mD(n,i,o.el,s,l,h?null:20,c?null:20))[0],i=p[1]);if(h&&(n-=my(h)?u[0]/2:h==="right"?u[0]:0),c&&(i-=my(c)?u[1]/2:c==="bottom"?u[1]:0),e.get("confine")){var p=vD(n,i,o.el,s,l);n=p[0],i=p[1]}o.moveTo(n,i)},_updateContentNotChangedOnAxis:function(e){var t=this._lastDataByCoordSys,n=!!t&&t.length===e.length;return n&&_r(t,function(i,o){var a=i.dataByAxis||{},r=(e[o]||{}).dataByAxis||[];(n&=a.length===r.length)&&_r(a,function(s,l){var u=r[l]||{},h=s.seriesDataIndices||[],c=u.seriesDataIndices||[];(n&=s.value===u.value&&s.axisType===u.axisType&&s.axisId===u.axisId&&h.length===c.length)&&_r(h,function(d,f){var p=c[f];n&=d.seriesIndex===p.seriesIndex&&d.dataIndex===p.dataIndex})})}),this._lastDataByCoordSys=e,!!n},_hide:function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},dispose:function(e,t){ee.node||(this._tooltipContent.hide(),Pc("itemTooltip",t))}}),se({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),se({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){}),Is.prototype={constructor:Is,pointToData:function(e,t){return this.polar.pointToData(e,t)[this.dim==="radius"?0:1]},dataToRadius:Le.prototype.dataToCoord,radiusToData:Le.prototype.coordToData},he(Is,Le),Ds.prototype={constructor:Ds,pointToData:function(e,t){return this.polar.pointToData(e,t)[this.dim==="radius"?0:1]},dataToAngle:Le.prototype.dataToCoord,angleToData:Le.prototype.coordToData},he(Ds,Le);var eu=function(e){this.name=e||"",this.cx=0,this.cy=0,this._radiusAxis=new Is,this._angleAxis=new Ds,this._radiusAxis.polar=this._angleAxis.polar=this};eu.prototype={type:"polar",axisPointerEnabled:!0,constructor:eu,dimensions:["radius","angle"],model:null,containPoint:function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},containData:function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},getAxis:function(e){return this["_"+e+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(e){var t=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===e&&t.push(n),i.scale.type===e&&t.push(i),t},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(e){var t=e!=null&&e!=="auto"?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},dataToPoint:function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},pointToData:function(e,t){var n=this.pointToCoord(e);return[this._radiusAxis.radiusToData(n[0],t),this._angleAxis.angleToData(n[1],t)]},pointToCoord:function(e){var t=e[0]-this.cx,n=e[1]-this.cy,i=this.getAngleAxis(),o=i.getExtent(),a=Math.min(o[0],o[1]),r=Math.max(o[0],o[1]);i.inverse?a=r-360:r=a+360;var s=Math.sqrt(t*t+n*n);t/=s,n/=s;for(var l=Math.atan2(-n,t)/Math.PI*180,u=l<a?1:-1;l<a||l>r;)l+=360*u;return[s,l]},coordToPoint:function(e){var t=e[0],n=e[1]/180*Math.PI;return[Math.cos(n)*t+this.cx,-Math.sin(n)*t+this.cy]}};var Gf=ie.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});q(Gf.prototype,Wi);var H_={angle:{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{splitNumber:5}};jo("angle",Gf,yy,H_.angle),jo("radius",Gf,yy,H_.radius),it({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(e){var t;return this.ecModel.eachComponent(e,function(n){n.getCoordSysModel()===this&&(t=n)},this),t},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});var vk={dimensions:eu.prototype.dimensions,create:function(e,t){var n=[];return e.eachComponent("polar",function(i,o){var a=new eu(o);a.update=wD;var r=a.getRadiusAxis(),s=a.getAngleAxis(),l=i.findAxisModel("radiusAxis"),u=i.findAxisModel("angleAxis");xy(r,l),xy(s,u),_D(a,i,t),n.push(a),i.coordinateSystem=a,a.model=i}),e.eachSeries(function(i){if(i.get("coordinateSystem")==="polar"){var o=e.queryComponents({mainType:"polar",index:i.get("polarIndex"),id:i.get("polarId")})[0];i.coordinateSystem=o.coordinateSystem}}),n}};Xe.register("polar",vk);var yk=["axisLine","axisLabel","axisTick","splitLine","splitArea"];ft.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(e,t){if(this.group.removeAll(),e.get("show")){var n=e.axis,i=n.polar,o=i.getRadiusAxis().getExtent(),a=n.getTicksCoords();n.type!=="category"&&a.pop(),b(yk,function(r){!e.get(r+".show")||n.scale.isBlank()&&r!=="axisLine"||this["_"+r](e,i,a,o)},this)}},_axisLine:function(e,t,n,i){var o=e.getModel("axisLine.lineStyle"),a=new Ei({shape:{cx:t.cx,cy:t.cy,r:i[Zc(t)]},style:o.getLineStyle(),z2:1,silent:!0});a.style.fill=null,this.group.add(a)},_axisTick:function(e,t,n,i){var o=e.getModel("axisTick"),a=(o.get("inside")?-1:1)*o.get("length"),r=i[Zc(t)],s=P(n,function(l){return new Mt({shape:_y(t,[r,r+a],l)})});this.group.add(Dn(s,{style:W(o.getModel("lineStyle").getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")})}))},_axisLabel:function(e,t,n,i){for(var o=e.axis,a=e.getCategories(),r=e.getModel("axisLabel"),s=e.getFormattedLabels(),l=r.get("margin"),u=o.getLabelsCoords(),h=0;h<n.length;h++){var c=i[Zc(t)],d=t.coordToPoint([c+l,u[h]]),f=t.cx,p=t.cy,g=Math.abs(d[0]-f)/c<.3?"center":d[0]>f?"left":"right",m=Math.abs(d[1]-p)/c<.3?"middle":d[1]>p?"top":"bottom";a&&a[h]&&a[h].textStyle&&(r=new re(a[h].textStyle,r,r.ecModel));var v=new te({silent:!0});this.group.add(v),Se(v.style,r,{x:d[0],y:d[1],textFill:r.getTextColor()||e.get("axisLine.lineStyle.color"),text:s[h],textAlign:g,textVerticalAlign:m})}},_splitLine:function(e,t,n,i){var o=e.getModel("splitLine").getModel("lineStyle"),a=o.get("color"),r=0;a=a instanceof Array?a:[a];for(var s=[],l=0;l<n.length;l++){var u=r++%a.length;s[u]=s[u]||[],s[u].push(new Mt({shape:_y(t,i,n[l])}))}for(l=0;l<s.length;l++)this.group.add(Dn(s[l],{style:W({stroke:a[l%a.length]},o.getLineStyle()),silent:!0,z:e.get("z")}))},_splitArea:function(e,t,n,i){var o=e.getModel("splitArea").getModel("areaStyle"),a=o.get("color"),r=0;a=a instanceof Array?a:[a];for(var s=[],l=Math.PI/180,u=-n[0]*l,h=Math.min(i[0],i[1]),c=Math.max(i[0],i[1]),d=e.get("clockwise"),f=1;f<n.length;f++){var p=r++%a.length;s[p]=s[p]||[],s[p].push(new In({shape:{cx:t.cx,cy:t.cy,r0:h,r:c,startAngle:u,endAngle:-n[f]*l,clockwise:d},silent:!0})),u=-n[f]*l}for(f=0;f<s.length;f++)this.group.add(Dn(s[f],{style:W({fill:a[f%a.length]},o.getAreaStyle()),silent:!0}))}});var xk=["axisLine","axisTickLabel","axisName"],_k=["splitLine","splitArea"];ft.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(e,t){if(this.group.removeAll(),e.get("show")){var n=e.axis,i=n.polar,o=i.getAngleAxis(),a=n.getTicksCoords(),r=o.getExtent()[0],s=n.getExtent(),l=bD(i,e,r),u=new $e(e,l);b(xk,u.add,u),this.group.add(u.getGroup()),b(_k,function(h){e.get(h+".show")&&!n.scale.isBlank()&&this["_"+h](e,i,r,s,a)},this)}},_splitLine:function(e,t,n,i,o){var a=e.getModel("splitLine").getModel("lineStyle"),r=a.get("color"),s=0;r=r instanceof Array?r:[r];for(var l=[],u=0;u<o.length;u++){var h=s++%r.length;l[h]=l[h]||[],l[h].push(new Ei({shape:{cx:t.cx,cy:t.cy,r:o[u]},silent:!0}))}for(u=0;u<l.length;u++)this.group.add(Dn(l[u],{style:W({stroke:r[u%r.length],fill:null},a.getLineStyle()),silent:!0}))},_splitArea:function(e,t,n,i,o){var a=e.getModel("splitArea").getModel("areaStyle"),r=a.get("color"),s=0;r=r instanceof Array?r:[r];for(var l=[],u=o[0],h=1;h<o.length;h++){var c=s++%r.length;l[c]=l[c]||[],l[c].push(new In({shape:{cx:t.cx,cy:t.cy,r0:u,r:o[h],startAngle:0,endAngle:2*Math.PI},silent:!0})),u=o[h]}for(h=0;h<l.length;h++)this.group.add(Dn(l[h],{style:W({fill:r[h%r.length]},a.getAreaStyle()),silent:!0}))}});var wk=Ao.extend({makeElOption:function(e,t,n,i,o){var a=n.axis;a.dim==="angle"&&(this.animationThreshold=Math.PI/18);var r,s=a.polar,l=s.getOtherAxis(a).getExtent();r=a["dataTo"+Xr(a.dim)](t);var u=i.get("type");if(u&&u!=="none"){var h=Nc(i),c=bk[u](a,s,r,l,h);c.style=h,e.graphicKey=c.type,e.pointer=c}X0(e,n,i,o,SD(t,n,0,s,i.get("label.margin")))}}),bk={line:function(e,t,n,i,o){return e.dim==="angle"?{type:"Line",shape:zc(t.coordToPoint([i[0],n]),t.coordToPoint([i[1],n]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:n}}},shadow:function(e,t,n,i,o){var a=e.getBandWidth(),r=Math.PI/180;return e.dim==="angle"?{type:"Sector",shape:K0(t.cx,t.cy,i[0],i[1],(-n-a/2)*r,(a/2-n)*r)}:{type:"Sector",shape:K0(t.cx,t.cy,n-a/2,n+a/2,0,2*Math.PI)}}};ft.registerAxisPointerClass("PolarAxisPointer",wk),be(j(function(e,t,n){var i=n.getWidth(),o=n.getHeight(),a={},r=xD(ke(t.getSeriesByType(e),function(s){return!t.isSeriesFiltered(s)&&s.coordinateSystem&&s.coordinateSystem.type==="polar"}));t.eachSeriesByType(e,function(s){if(s.coordinateSystem.type==="polar"){var l=s.getData(),u=s.coordinateSystem,h=u.getBaseAxis(),c=vy(s),d=r[Hc(h)][c],f=d.offset,p=d.width,g=u.getOtherAxis(h),m=s.get("center")||["50%","50%"],v=E(m[0],i),y=E(m[1],o),x=s.get("barMinHeight")||0,_=s.get("barMinAngle")||0;a[c]=a[c]||[];for(var w=l.mapDimension(g.dim),S=l.mapDimension(h.dim),M=_i(l,w,S),I=g.getExtent()[0],D=0,T=l.count();D<T;D++){var A=l.get(w,D),L=l.get(S,D);if(!isNaN(A)){var k=A>=0?"p":"n",C=I;M&&(a[c][L]||(a[c][L]={p:I,n:I}),C=a[c][L][k]);var N,B,R,H;if(g.dim==="radius"){var z=g.dataToRadius(A)-I,de=h.dataToAngle(L);Math.abs(z)<x&&(z=(z<0?-1:1)*x),N=C,B=C+z,H=(R=de-f)-p,M&&(a[c][L][k]=B)}else{var X=g.dataToAngle(A,!0)-I,Me=h.dataToRadius(L);Math.abs(X)<_&&(X=(X<0?-1:1)*_),B=(N=Me+f)+p,R=C,H=C+X,M&&(a[c][L][k]=H)}l.setItemLayout(D,{cx:v,cy:y,r0:N,r:B,startAngle:-R*Math.PI/180,endAngle:-H*Math.PI/180})}}}},this)},"bar")),Oe({type:"polar"}),oe(ie.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(e){ie.prototype.init.apply(this,arguments),pi(e,"label",["show"])},optionUpdated:function(){var e=this.option,t=this;e.regions=_f.getFilledRegions(e.regions,e.map,e.nameMap),this._optionModelMap=ro(e.regions||[],function(n,i){return i.name&&n.set(i.name,new re(i,t)),n},K()),this.updateSelectedMap(e.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:.75,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(e){return this._optionModelMap.get(e)||new re(null,this,this.ecModel)},getFormattedLabel:function(e,t){var n=this.getRegionModel(e).get("label."+t+".formatter"),i={name:e};return typeof n=="function"?(i.status=t,n(i)):typeof n=="string"?n.replace("{a}",e!=null?e:""):void 0},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e}}),vf),Oe({type:"geo",init:function(e,t){var n=new ss(t,!0);this._mapDraw=n,this.group.add(n.group)},render:function(e,t,n,i){if(!i||i.type!=="geoToggleSelect"||i.from!==this.uid){var o=this._mapDraw;e.get("show")?o.draw(e,t,n,this,i):this._mapDraw.group.removeAll(),this.group.silent=e.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}}),Uc("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),Uc("select",{type:"geoSelect",event:"geoselected"}),Uc("unSelect",{type:"geoUnSelect",event:"geounselected"});var Sk=["rect","polygon","keep","clear"],Z_=b,Wf={lineX:Sy(0),lineY:Sy(1),rect:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])},rect:function(e,t,n){return e&&n.boundingRect.intersect(e)}},polygon:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])&&bi(n.range,e[0],e[1])},rect:function(e,t,n){var i=n.range;if(!e||i.length<=1)return!1;var o=e.x,a=e.y,r=e.width,s=e.height,l=i[0];return!!(bi(i,o,a)||bi(i,o+r,a)||bi(i,o,a+s)||bi(i,o+r,a+s)||Q.create(e).contain(l[0],l[1])||As(o,a,o+r,a,i)||As(o,a,o,a+s,i)||As(o+r,a,o+r,a+s,i)||As(o,a+s,o+r,a+s,i))||void 0}}},ri=b,tu=ne,nu=j,Ff=["dataToPoint","pointToData"],Mk=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],na=Ts.prototype;na.setOutputRanges=function(e,t){this.matchOutputRanges(e,t,function(n,i,o){if((n.coordRanges||(n.coordRanges=[])).push(i),!n.coordRange){n.coordRange=i;var a=Hf[n.brushType](0,o,i);n.__rangeOffset={offset:X_[n.brushType](a.values,n.range,[1,1]),xyMinMax:a.xyMinMax}}})},na.matchOutputRanges=function(e,t,n){ri(e,function(i){var o=this.findTargetInfo(i,t);o&&o!==!0&&b(o.coordSyses,function(a){var r=Hf[i.brushType](1,a,i.range);n(i,r.values,a,t)})},this)},na.setInputRanges=function(e,t){ri(e,function(n){var i=this.findTargetInfo(n,t);if(n.range=n.range||[],i&&i!==!0){n.panelId=i.panelId;var o=Hf[n.brushType](0,i.coordSys,n.coordRange),a=n.__rangeOffset;n.range=a?X_[n.brushType](o.values,a.offset,CD(o.xyMinMax,a.xyMinMax)):o.values}},this)},na.makePanelOpts=function(e,t){return P(this._targetInfoList,function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:t&&t(n),clipPath:m0(i),isTargetByCursor:y0(i,e,n.coordSysModel),getLinearBrushOtherExtent:v0(i)}})},na.controlSeries=function(e,t,n){var i=this.findTargetInfo(e,n);return i===!0||i&&tu(i.coordSyses,t.coordinateSystem)>=0},na.findTargetInfo=function(e,t){for(var n=this._targetInfoList,i=My(t,e),o=0;o<n.length;o++){var a=n[o],r=e.panelId;if(r){if(a.panelId===r)return a}else for(o=0;o<U_.length;o++)if(U_[o](i,a))return a}return!0};var Ik={grid:function(e,t){var n=e.xAxisModels,i=e.yAxisModels,o=e.gridModels,a=K(),r={},s={};(n||i||o)&&(ri(n,function(l){var u=l.axis.grid.model;a.set(u.id,u),r[u.id]=!0}),ri(i,function(l){var u=l.axis.grid.model;a.set(u.id,u),s[u.id]=!0}),ri(o,function(l){a.set(l.id,l),r[l.id]=!0,s[l.id]=!0}),a.each(function(l){var u=l.coordinateSystem,h=[];ri(u.getCartesians(),function(c,d){(tu(n,c.getAxis("x").model)>=0||tu(i,c.getAxis("y").model)>=0)&&h.push(c)}),t.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:h[0],coordSyses:h,getPanelRect:j_.grid,xAxisDeclared:r[l.id],yAxisDeclared:s[l.id]})}))},geo:function(e,t){ri(e.geoModels,function(n){var i=n.coordinateSystem;t.push({panelId:"geo--"+n.id,geoModel:n,coordSysModel:n,coordSys:i,coordSyses:[i],getPanelRect:j_.geo})})}},U_=[function(e,t){var n=e.xAxisModel,i=e.yAxisModel,o=e.gridModel;return!o&&n&&(o=n.axis.grid.model),!o&&i&&(o=i.axis.grid.model),o&&o===t.gridModel},function(e,t){var n=e.geoModel;return n&&n===t.geoModel}],j_={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var e=this.coordSys,t=e.getBoundingRect().clone();return t.applyTransform(mi(e)),t}},Hf={lineX:nu(Iy,0),lineY:nu(Iy,1),rect:function(e,t,n){var i=t[Ff[e]]([n[0][0],n[1][0]]),o=t[Ff[e]]([n[0][1],n[1][1]]),a=[qc([i[0],o[0]]),qc([i[1],o[1]])];return{values:a,xyMinMax:a}},polygon:function(e,t,n){var i=[[1/0,-1/0],[1/0,-1/0]];return{values:P(n,function(o){var a=t[Ff[e]](o);return i[0][0]=Math.min(i[0][0],a[0]),i[1][0]=Math.min(i[1][0],a[1]),i[0][1]=Math.max(i[0][1],a[0]),i[1][1]=Math.max(i[1][1],a[1]),a}),xyMinMax:i}}},X_={lineX:nu(Dy,0),lineY:nu(Dy,1),rect:function(e,t,n){return[[e[0][0]-n[0]*t[0][0],e[0][1]-n[0]*t[0][1]],[e[1][0]-n[1]*t[1][0],e[1][1]-n[1]*t[1][1]]]},polygon:function(e,t,n){return P(e,function(i,o){return[i[0]-n[0]*t[o][0],i[1]-n[1]*t[o][1]]})}},q_=["inBrush","outOfBrush"],Zf="__ecBrushSelect",Uf="__ecInBrushSelectEvent",Y_=Ho.VISUAL.BRUSH;be(Y_,function(e,t,n){e.eachComponent({mainType:"brush"},function(i){n&&n.type==="takeGlobalCursor"&&i.setBrushOption(n.key==="brush"?n.brushOption:{brushType:!1}),(i.brushTargetManager=new Ts(i.option,e)).setInputRanges(i.areas,e)})}),ye(Y_,function(e,t,n){var i,o,a=[];e.eachComponent({mainType:"brush"},function(r,s){function l(w){return p==="all"||g[w]}function u(w){return!!w.length}function h(w,S){var M=w.coordinateSystem;y|=M.hasAxisBrushed(),l(S)&&M.eachActiveState(w.getData(),function(I,D){I==="active"&&(m[D]=1)})}function c(w,S,M){var I=Cy(w);if(I&&!PD(r,S)&&(b(x,function(T){I[T.brushType]&&r.brushTargetManager.controlSeries(T,w,e)&&M.push(T),y|=u(M)}),l(S)&&u(M))){var D=w.getData();D.each(function(T){Ty(I,M,D,T)&&(m[T]=1)})}}var d={brushId:r.id,brushIndex:s,brushName:r.name,areas:Z(r.areas),selected:[]};a.push(d);var f=r.option,p=f.brushLink,g=[],m=[],v=[],y=0;s||(i=f.throttleType,o=f.throttleDelay);var x=P(r.areas,function(w){return OD(W({boundingRect:Dk[w.brushType](w)},w))}),_=jc(r.option,q_,function(w){w.mappingMethod="fixed"});O(p)&&b(p,function(w){g[w]=1}),e.eachSeries(function(w,S){var M=v[S]=[];w.subType==="parallel"?h(w,S):c(w,S,M)}),e.eachSeries(function(w,S){var M={seriesId:w.id,seriesIndex:S,seriesName:w.name,dataIndex:[]};d.selected.push(M);var I=Cy(w),D=v[S],T=w.getData(),A=l(S)?function(L){return m[L]?(M.dataIndex.push(T.getRawIndex(L)),"inBrush"):"outOfBrush"}:function(L){return Ty(I,D,T,L)?(M.dataIndex.push(T.getRawIndex(L)),"inBrush"):"outOfBrush"};(l(S)?y:u(D))&&ID(q_,_,T,A)})}),LD(t,i,o,a,n)});var Dk={lineX:We,lineY:We,rect:function(e){return Ly(e.range)},polygon:function(e){for(var t,n=e.range,i=0,o=n.length;i<o;i++){t=t||[[1/0,-1/0],[1/0,-1/0]];var a=n[i];a[0]<t[0][0]&&(t[0][0]=a[0]),a[0]>t[0][1]&&(t[0][1]=a[0]),a[1]<t[1][0]&&(t[1][0]=a[1]),a[1]>t[1][1]&&(t[1][1]=a[1])}return t&&Ly(t)}},Ak=["#ddd"];it({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(e,t){var n=this.option;!t&&by(n,e,["inBrush","outOfBrush"]),n.inBrush=n.inBrush||{},n.outOfBrush=n.outOfBrush||{color:Ak}},setAreas:function(e){e&&(this.areas=P(e,function(t){return ky(this.option,t)},this))},setBrushOption:function(e){this.brushOption=ky(this.option,e),this.brushType=this.brushOption.brushType}}),Oe({type:"brush",init:function(e,t){this.ecModel=e,this.api=t,this.model,(this._brushController=new Mo(t.getZr())).on("brush",U(this._onBrush,this)).mount()},render:function(e){return this.model=e,Yc.apply(this,arguments)},updateTransform:Yc,updateView:Yc,dispose:function(){this._brushController.dispose()},_onBrush:function(e,t){var n=this.model.id;this.model.brushTargetManager.setOutputRanges(e,this.ecModel),(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:Z(e),$from:n})}}),se({type:"brush",event:"brush"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(n){n.setAreas(e.areas)})}),se({type:"brushSelect",event:"brushSelected",update:"none"},function(){});var $_={},Tk=$n.toolbox.brush;$c.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:Z(Tk.title)};var iu=$c.prototype;iu.render=iu.updateView=function(e,t,n){var i,o,a;t.eachComponent({mainType:"brush"},function(r){i=r.brushType,o=r.brushOption.brushMode||"single",a|=r.areas.length}),this._brushType=i,this._brushMode=o,b(e.get("type",!0),function(r){e.setIconStatus(r,(r==="keep"?o==="multiple":r==="clear"?a:r===i)?"emphasis":"normal")})},iu.getIcons=function(){var e=this.model,t=e.get("icon",!0),n={};return b(e.get("type",!0),function(i){t[i]&&(n[i]=t[i])}),n},iu.onclick=function(e,t,n){var i=this._brushType,o=this._brushMode;n==="clear"?(t.dispatchAction({type:"axisAreaSelect",intervals:[]}),t.dispatchAction({type:"brush",command:"clear",areas:[]})):t.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:n==="keep"?i:i!==n&&n,brushMode:n==="keep"?o==="multiple"?"single":"multiple":o}})},To("brush",$c),He(function(e,t){var n=e&&e.brush;if(O(n)||(n=n?[n]:[]),n.length){var i=[];b(n,function(l){var u=l.hasOwnProperty("toolbox")?l.toolbox:[];u instanceof Array&&(i=i.concat(u))});var o=e&&e.toolbox;O(o)&&(o=o[0]),o||(o={feature:{}},e.toolbox=[o]);var a=o.feature||(o.feature={}),r=a.brush||(a.brush={}),s=r.type||(r.type=[]);s.push.apply(s,i),MD(s),t&&!s.length&&s.push.apply(s,Sk)}}),Sn.prototype={constructor:Sn,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"},"value"]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(e){var t=(e=wa(e)).getFullYear(),n=e.getMonth()+1;n=n<10?"0"+n:n;var i=e.getDate();i=i<10?"0"+i:i;var o=e.getDay();return o=Math.abs((o+7-this.getFirstDayOfWeek())%7),{y:t,m:n,d:i,day:o,time:e.getTime(),formatedDate:t+"-"+n+"-"+i,date:e}},getNextNDay:function(e,t){return(t=t||0)===0?this.getDateInfo(e):((e=new Date(this.getDateInfo(e).time)).setDate(e.getDate()+t),this.getDateInfo(e))},update:function(e,t){function n(h,c){return h[c]!=null&&h[c]!=="auto"}this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var i=this._rangeInfo.weeks||1,o=["width","height"],a=this._model.get("cellSize").slice(),r=this._model.getBoxLayoutParams(),s=this._orient==="horizontal"?[i,7]:[7,i];b([0,1],function(h){n(a,h)&&(r[o[h]]=a[h]*s[h])});var l={width:t.getWidth(),height:t.getHeight()},u=this._rect=Pe(r,l);b([0,1],function(h){n(a,h)||(a[h]=u[o[h]]/s[h])}),this._sw=a[0],this._sh=a[1]},dataToPoint:function(e,t){O(e)&&(e=e[0]),t==null&&(t=!0);var n=this.getDateInfo(e),i=this._rangeInfo,o=n.formatedDate;if(t&&!(n.time>=i.start.time&&n.time<=i.end.time))return[NaN,NaN];var a=n.day,r=this._getRangeInfo([i.start.time,o]).nthWeek;return this._orient==="vertical"?[this._rect.x+a*this._sw+this._sw/2,this._rect.y+r*this._sh+this._sh/2]:[this._rect.x+r*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]},pointToData:function(e){var t=this.pointToDate(e);return t&&t.time},dataToRect:function(e,t){var n=this.dataToPoint(e,t);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},pointToDate:function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,n=Math.floor((e[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(n,t-1,i):this._getDateByWeeksAndDay(t,n-1,i)},convertToPixel:j(Oy,"dataToPoint"),convertFromPixel:j(Oy,"pointToData"),_initRangeOption:function(){var e=this._model.get("range"),t=e;if(O(t)&&t.length===1&&(t=t[0]),/^\d{4}$/.test(t)&&(e=[t+"-01-01",t+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(t)){var n=this.getDateInfo(t),i=n.date;i.setMonth(i.getMonth()+1);var o=this.getNextNDay(i,-1);e=[n.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(t)&&(e=[t,t]);var a=this._getRangeInfo(e);return a.start.time>a.end.time&&e.reverse(),e},_getRangeInfo:function(e){var t;(e=[this.getDateInfo(e[0]),this.getDateInfo(e[1])])[0].time>e[1].time&&(t=!0,e.reverse());var n=Math.floor(e[1].time/864e5)-Math.floor(e[0].time/864e5)+1,i=new Date(e[0].time),o=i.getDate(),a=e[1].date.getDate();if(i.setDate(o+n-1),i.getDate()!==a)for(var r=i.getTime()-e[1].time>0?1:-1;i.getDate()!==a&&(i.getTime()-e[1].time)*r>0;)n-=r,i.setDate(o+n-1);var s=Math.floor((n+e[0].day+6)/7),l=t?1-s:s-1;return t&&e.reverse(),{range:[e[0].formatedDate,e[1].formatedDate],start:e[0],end:e[1],allDay:n,weeks:s,nthWeek:l,fweek:e[0].day,lweek:e[1].day}},_getDateByWeeksAndDay:function(e,t,n){var i=this._getRangeInfo(n);if(e>i.weeks||e===0&&t<i.fweek||e===i.weeks&&t>i.lweek)return!1;var o=7*(e-1)-i.fweek+t,a=new Date(i.start.time);return a.setDate(i.start.d+o),this.getDateInfo(a)}},Sn.dimensions=Sn.prototype.dimensions,Sn.getDimensionsInfo=Sn.prototype.getDimensionsInfo,Sn.create=function(e,t){var n=[];return e.eachComponent("calendar",function(i){var o=new Sn(i,e,t);n.push(o),i.coordinateSystem=o}),e.eachSeries(function(i){i.get("coordinateSystem")==="calendar"&&(i.coordinateSystem=n[i.get("calendarIndex")||0])}),n},Xe.register("calendar",Sn);var K_=ie.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(e,t,n,i){var o=go(e);K_.superApply(this,"init",arguments),Ny(e,o)},mergeOption:function(e,t){K_.superApply(this,"mergeOption",arguments),Ny(this.option,e)}}),Ck={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"]},Lk={EN:["S","M","T","W","T","F","S"],CN:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]};Oe({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(e,t,n){var i=this.group;i.removeAll();var o=e.coordinateSystem,a=o.getRangeInfo(),r=o.getOrient();this._renderDayRect(e,a,i),this._renderLines(e,a,r,i),this._renderYearText(e,a,r,i),this._renderMonthText(e,r,i),this._renderWeekText(e,a,r,i)},_renderDayRect:function(e,t,n){for(var i=e.coordinateSystem,o=e.getModel("itemStyle").getItemStyle(),a=i.getCellWidth(),r=i.getCellHeight(),s=t.start.time;s<=t.end.time;s=i.getNextNDay(s,1).time){var l=i.dataToRect([s],!1).tl,u=new pe({shape:{x:l[0],y:l[1],width:a,height:r},cursor:"default",style:o});n.add(u)}},_renderLines:function(e,t,n,i){function o(f){a._firstDayOfMonth.push(r.getDateInfo(f)),a._firstDayPoints.push(r.dataToRect([f],!1).tl);var p=a._getLinePointsOfOneWeek(e,f,n);a._tlpoints.push(p[0]),a._blpoints.push(p[p.length-1]),l&&a._drawSplitline(p,s,i)}var a=this,r=e.coordinateSystem,s=e.getModel("splitLine.lineStyle").getLineStyle(),l=e.get("splitLine.show"),u=s.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var h=t.start,c=0;h.time<=t.end.time;c++){o(h.formatedDate),c===0&&(h=r.getDateInfo(t.start.y+"-"+t.start.m));var d=h.date;d.setMonth(d.getMonth()+1),h=r.getDateInfo(d)}o(r.getNextNDay(t.end.time,1).formatedDate),l&&this._drawSplitline(a._getEdgesPoints(a._tlpoints,u,n),s,i),l&&this._drawSplitline(a._getEdgesPoints(a._blpoints,u,n),s,i)},_getEdgesPoints:function(e,t,n){var i=[e[0].slice(),e[e.length-1].slice()],o=n==="horizontal"?0:1;return i[0][o]=i[0][o]-t/2,i[1][o]=i[1][o]+t/2,i},_drawSplitline:function(e,t,n){var i=new Qt({z2:20,shape:{points:e},style:t});n.add(i)},_getLinePointsOfOneWeek:function(e,t,n){var i=e.coordinateSystem;t=i.getDateInfo(t);for(var o=[],a=0;a<7;a++){var r=i.getNextNDay(t.time,a),s=i.dataToRect([r.time],!1);o[2*r.day]=s.tl,o[2*r.day+1]=s[n==="horizontal"?"bl":"tr"]}return o},_formatterLabel:function(e,t){return typeof e=="string"&&e?Ug(e,t):typeof e=="function"?e(t):t.nameMap},_yearTextPositionControl:function(e,t,n,i,o){t=t.slice();var a=["center","bottom"];i==="bottom"?(t[1]+=o,a=["center","top"]):i==="left"?t[0]-=o:i==="right"?(t[0]+=o,a=["center","top"]):t[1]-=o;var r=0;return i!=="left"&&i!=="right"||(r=Math.PI/2),{rotation:r,position:t,style:{textAlign:a[0],textVerticalAlign:a[1]}}},_renderYearText:function(e,t,n,i){var o=e.getModel("yearLabel");if(o.get("show")){var a=o.get("margin"),r=o.get("position");r||(r=n!=="horizontal"?"top":"left");var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],l=(s[0][0]+s[1][0])/2,u=(s[0][1]+s[1][1])/2,h=n==="horizontal"?0:1,c={top:[l,s[h][1]],bottom:[l,s[1-h][1]],left:[s[1-h][0],u],right:[s[h][0],u]},d=t.start.y;+t.end.y>+t.start.y&&(d=d+"-"+t.end.y);var f=o.get("formatter"),p={start:t.start.y,end:t.end.y,nameMap:d},g=this._formatterLabel(f,p),m=new te({z2:30});Se(m.style,o,{text:g}),m.attr(this._yearTextPositionControl(m,c[r],n,r,a)),i.add(m)}},_monthTextPositionControl:function(e,t,n,i,o){var a="left",r="top",s=e[0],l=e[1];return n==="horizontal"?(l+=o,t&&(a="center"),i==="start"&&(r="bottom")):(s+=o,t&&(r="middle"),i==="start"&&(a="right")),{x:s,y:l,textAlign:a,textVerticalAlign:r}},_renderMonthText:function(e,t,n){var i=e.getModel("monthLabel");if(i.get("show")){var o=i.get("nameMap"),a=i.get("margin"),r=i.get("position"),s=i.get("align"),l=[this._tlpoints,this._blpoints];xe(o)&&(o=Ck[o.toUpperCase()]||[]);var u=r==="start"?0:1,h=t==="horizontal"?0:1;a=r==="start"?-a:a;for(var c=s==="center",d=0;d<l[u].length-1;d++){var f=l[u][d].slice(),p=this._firstDayOfMonth[d];if(c){var g=this._firstDayPoints[d];f[h]=(g[h]+l[0][d+1][h])/2}var m=i.get("formatter"),v=o[+p.m-1],y={yyyy:p.y,yy:(p.y+"").slice(2),MM:p.m,M:+p.m,nameMap:v},x=this._formatterLabel(m,y),_=new te({z2:30});G(Se(_.style,i,{text:x}),this._monthTextPositionControl(f,c,t,r,a)),n.add(_)}}},_weekTextPositionControl:function(e,t,n,i,o){var a="center",r="middle",s=e[0],l=e[1],u=n==="start";return t==="horizontal"?(s=s+i+(u?1:-1)*o[0]/2,a=u?"right":"left"):(l=l+i+(u?1:-1)*o[1]/2,r=u?"bottom":"top"),{x:s,y:l,textAlign:a,textVerticalAlign:r}},_renderWeekText:function(e,t,n,i){var o=e.getModel("dayLabel");if(o.get("show")){var a=e.coordinateSystem,r=o.get("position"),s=o.get("nameMap"),l=o.get("margin"),u=a.getFirstDayOfWeek();xe(s)&&(s=Lk[s.toUpperCase()]||[]);var h=a.getNextNDay(t.end.time,7-t.lweek).time,c=[a.getCellWidth(),a.getCellHeight()];l=E(l,c[n==="horizontal"?0:1]),r==="start"&&(h=a.getNextNDay(t.start.time,-(7+t.fweek)).time,l=-l);for(var d=0;d<7;d++){var f=a.getNextNDay(h,d),p=a.dataToRect([f.time],!1).center,g=d;g=Math.abs((d+u)%7);var m=new te({z2:30});G(Se(m.style,o,{text:s[g]}),this._weekTextPositionControl(p,n,r,l,c)),i.add(m)}}}}),it({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),Oe({type:"title",render:function(e,t,n){if(this.group.removeAll(),e.get("show")){var i=this.group,o=e.getModel("textStyle"),a=e.getModel("subtextStyle"),r=e.get("textAlign"),s=e.get("textBaseline"),l=new te({style:Se({},o,{text:e.get("text"),textFill:o.getTextColor()},{disableBox:!0}),z2:10}),u=l.getBoundingRect(),h=e.get("subtext"),c=new te({style:Se({},a,{text:h,textFill:a.getTextColor(),y:u.height+e.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),d=e.get("link"),f=e.get("sublink");l.silent=!d,c.silent=!f,d&&l.on("click",function(){window.open(d,"_"+e.get("target"))}),f&&c.on("click",function(){window.open(f,"_"+e.get("subtarget"))}),i.add(l),h&&i.add(c);var p=i.getBoundingRect(),g=e.getBoxLayoutParams();g.width=p.width,g.height=p.height;var m=Pe(g,{width:n.getWidth(),height:n.getHeight()},e.get("padding"));r||((r=e.get("left")||e.get("right"))==="middle"&&(r="center"),r==="right"?m.x+=m.width:r==="center"&&(m.x+=m.width/2)),s||((s=e.get("top")||e.get("bottom"))==="center"&&(s="middle"),s==="bottom"?m.y+=m.height:s==="middle"&&(m.y+=m.height/2),s=s||"top"),i.attr("position",[m.x,m.y]);var v={textAlign:r,textVerticalAlign:s};l.setStyle(v),c.setStyle(v),p=i.getBoundingRect();var y=m.margin,x=e.getItemStyle(["color","opacity"]);x.fill=e.get("backgroundColor");var _=new pe({shape:{x:p.x-y[3],y:p.y-y[0],width:p.width+y[1]+y[3],height:p.height+y[0]+y[2],r:e.get("borderRadius")},style:x,silent:!0});Ku(_),i.add(_)}}}),ie.registerSubTypeDefaulter("dataZoom",function(){return"slider"});var kk=["cartesian2d","polar","singleAxis"],J_=function(e,t){var n=P(e=e.slice(),Xr),i=P(t=(t||[]).slice(),Xr);return function(o,a){b(e,function(r,s){for(var l={name:r,capital:n[s]},u=0;u<t.length;u++)l[t[u]]=r+i[u];o.call(a,l)})}}(["x","y","z","radius","angle","single"],["axisIndex","axis","index","id"]),si=b,Q_=vi,jf=function(e,t,n,i){this._dimName=e,this._axisIndex=t,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=i,this._dataZoomModel=n};jf.prototype={constructor:jf,hostedBy:function(e){return this._dataZoomModel===e},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var e=[],t=this.ecModel;return t.eachSeries(function(n){if(ND(n.get("coordinateSystem"))){var i=this._dimName,o=t.queryComponents({mainType:i+"Axis",index:n.get(i+"AxisIndex"),id:n.get(i+"AxisId")})[0];this._axisIndex===(o&&o.componentIndex)&&e.push(n)}},this),e},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var e,t,n=this._dimName,i=this.ecModel,o=this.getAxisModel();n==="x"||n==="y"?(t="gridIndex",e=n==="x"?"y":"x"):(t="polarIndex",e=n==="angle"?"radius":"angle");var a;return i.eachComponent(e+"Axis",function(r){(r.get(t)||0)===(o.get(t)||0)&&(a=r)}),a},getMinMaxSpan:function(){return Z(this._minMaxSpan)},calculateDataWindow:function(e){var t=this._dataExtent,n=this.getAxisModel().axis.scale,i=this._dataZoomModel.getRangePropMode(),o=[0,100],a=[e.start,e.end],r=[];return si(["startValue","endValue"],function(s){r.push(e[s]!=null?n.parse(e[s]):null)}),si([0,1],function(s){var l=r[s],u=a[s];i[s]==="percent"?(u==null&&(u=o[s]),l=n.parse(Ie(u,o,t,!0))):u=Ie(l,t,o,!0),r[s]=l,a[s]=u}),{valueWindow:Q_(r),percentWindow:Q_(a)}},reset:function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=zD(this,this._dimName,t);var n=this.calculateDataWindow(e.option);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,BD(this),Ey(this)}},restore:function(e){e===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,Ey(this,!0))},filterData:function(e,t){function n(s){return s>=r[0]&&s<=r[1]}if(e===this._dataZoomModel){var i=this._dimName,o=this.getTargetSeriesModels(),a=e.get("filterMode"),r=this._valueWindow;a!=="none"&&si(o,function(s){var l=s.getData(),u=l.mapDimension(i,!0);a==="weakFilter"?l.filterSelf(function(h){for(var c,d,f,p=0;p<u.length;p++){var g=l.get(u[p],h),m=!isNaN(g),v=g<r[0],y=g>r[1];if(m&&!v&&!y)return!0;m&&(f=!0),v&&(c=!0),y&&(d=!0)}return f&&c&&d}):si(u,function(h){if(a==="empty")s.setData(l.map(h,function(d){return n(d)?d:NaN}));else{var c={};c[h]=r,l.selectRange(c)}}),si(u,function(h){l.setApproximateExtent(r,h)})})}}};var ia=b,Ki=J_,Xf=it({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(e,t,n){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var i=zy(e);this.mergeDefaultAndTheme(e,n),this.doInit(i)},mergeOption:function(e){var t=zy(e);q(this.option,e,!0),this.doInit(t)},doInit:function(e){var t=this.option;ee.canvasSupported||(t.realtime=!1),this._setDefaultThrottle(e),Ry(this,e),ia([["start","startValue"],["end","endValue"]],function(n,i){this._rangePropMode[i]==="value"&&(t[n[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var e=this._axisProxies;this.eachTargetAxis(function(t,n,i,o){var a=this.dependentModels[t.axis][n],r=a.__dzAxisProxy||(a.__dzAxisProxy=new jf(t.name,n,this,o));e[t.name+"_"+n]=r},this)},_resetTarget:function(){var e=this.option,t=this._judgeAutoMode();Ki(function(n){var i=n.axisIndex;e[i]=Ue(e[i])},this),t==="axisIndex"?this._autoSetAxisIndex():t==="orient"&&this._autoSetOrient()},_judgeAutoMode:function(){var e=this.option,t=!1;Ki(function(i){e[i.axisIndex]!=null&&(t=!0)},this);var n=e.orient;return n==null&&t?"orient":t?void 0:(n==null&&(e.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var e=!0,t=this.get("orient",!0),n=this.option,i=this.dependentModels;if(e){var o=t==="vertical"?"y":"x";i[o+"Axis"].length?(n[o+"AxisIndex"]=[0],e=!1):ia(i.singleAxis,function(a){e&&a.get("orient",!0)===t&&(n.singleAxisIndex=[a.componentIndex],e=!1)})}e&&Ki(function(a){if(e){var r=[],s=this.dependentModels[a.axis];if(s.length&&!r.length)for(var l=0,u=s.length;l<u;l++)s[l].get("type")==="category"&&r.push(l);n[a.axisIndex]=r,r.length&&(e=!1)}},this),e&&this.ecModel.eachSeries(function(a){this._isSeriesHasAllAxesTypeOf(a,"value")&&Ki(function(r){var s=n[r.axisIndex],l=a.get(r.axisIndex),u=a.get(r.axisId);ne(s,l=a.ecModel.queryComponents({mainType:r.axis,index:l,id:u})[0].componentIndex)<0&&s.push(l)})},this)},_autoSetOrient:function(){var e;this.eachTargetAxis(function(t){!e&&(e=t.name)},this),this.option.orient=e==="y"?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(e,t){var n=!0;return Ki(function(i){var o=e.get(i.axisIndex),a=this.dependentModels[i.axis][o];a&&a.get("type")===t||(n=!1)},this),n},_setDefaultThrottle:function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var t=this.ecModel.option;this.option.throttle=t.animation&&t.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var e;return Ki(function(t){if(e==null){var n=this.get(t.axisIndex);n.length&&(e=this.dependentModels[t.axis][n[0]])}},this),e},eachTargetAxis:function(e,t){var n=this.ecModel;Ki(function(i){ia(this.get(i.axisIndex),function(o){e.call(t,i,o,this,n)},this)},this)},getAxisProxy:function(e,t){return this._axisProxies[e+"_"+t]},getAxisModel:function(e,t){var n=this.getAxisProxy(e,t);return n&&n.getAxisModel()},setRawRange:function(e,t){var n=this.option;ia([["start","startValue"],["end","endValue"]],function(i){e[i[0]]==null&&e[i[1]]==null||(n[i[0]]=e[i[0]],n[i[1]]=e[i[1]])},this),!t&&Ry(this,e)},getPercentRange:function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},getValueRange:function(e,t){if(e!=null||t!=null)return this.getAxisProxy(e,t).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(e){if(e)return e.__dzAxisProxy;var t=this._axisProxies;for(var n in t)if(t.hasOwnProperty(n)&&t[n].hostedBy(this))return t[n];for(var n in t)if(t.hasOwnProperty(n)&&!t[n].hostedBy(this))return t[n]},getRangePropMode:function(){return this._rangePropMode.slice()}}),qf=An.extend({type:"dataZoom",render:function(e,t,n,i){this.dataZoomModel=e,this.ecModel=t,this.api=n},getTargetCoordInfo:function(){function e(o,a,r,s){for(var l,u=0;u<r.length;u++)if(r[u].model===o){l=r[u];break}l||r.push(l={model:o,axisModels:[],coordIndex:s}),l.axisModels.push(a)}var t=this.dataZoomModel,n=this.ecModel,i={};return t.eachTargetAxis(function(o,a){var r=n.getComponent(o.axis,a);if(r){var s=r.getCoordSysModel();s&&e(s,r,i[s.mainType]||(i[s.mainType]=[]),s.componentIndex)}},this),i}}),ou=(Xf.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}}),pe),Ji=Ie,Yf=vi,Cn=U,$f=b,wr="horizontal",Pk=5,Ok=["line","bar","candlestick","scatter"],Kf=qf.extend({type:"dataZoom.slider",init:function(e,t){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=t},render:function(e,t,n,i){Kf.superApply(this,"render",arguments),Sa(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=e.get("orient"),this.dataZoomModel.get("show")!==!1?(i&&i.type==="dataZoom"&&i.from===this.uid||this._buildView(),this._updateView()):this.group.removeAll()},remove:function(){Kf.superApply(this,"remove",arguments),cm(this,"_dispatchZoomAction")},dispose:function(){Kf.superApply(this,"dispose",arguments),cm(this,"_dispatchZoomAction")},_buildView:function(){var e=this.group;e.removeAll(),this._resetLocation(),this._resetInterval();var t=this._displayables.barGroup=new V;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(t),this._positionGroup()},_resetLocation:function(){var e=this.dataZoomModel,t=this.api,n=this._findCoordRect(),i={width:t.getWidth(),height:t.getHeight()},o=this._orient===wr?{right:i.width-n.x-n.width,top:i.height-30-7,width:n.width,height:30}:{right:7,top:n.y,width:30,height:n.height},a=go(e.option);b(["right","top","width","height"],function(s){a[s]==="ph"&&(a[s]=o[s])});var r=Pe(a,i,e.padding);this._location={x:r.x,y:r.y},this._size=[r.width,r.height],this._orient==="vertical"&&this._size.reverse()},_positionGroup:function(){var e=this.group,t=this._location,n=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),o=i&&i.get("inverse"),a=this._displayables.barGroup,r=(this._dataShadowInfo||{}).otherAxisInverse;a.attr(n!==wr||o?n===wr&&o?{scale:r?[-1,1]:[-1,-1]}:n!=="vertical"||o?{scale:r?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:r?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:r?[1,1]:[1,-1]});var s=e.getBoundingRect([a]);e.attr("position",[t.x-s.x,t.y-s.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var e=this.dataZoomModel,t=this._size,n=this._displayables.barGroup;n.add(new ou({silent:!0,shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:e.get("backgroundColor")},z2:-40})),n.add(new ou({shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:"transparent"},z2:0,onclick:U(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(e){var t=this._size,n=e.series,i=n.getRawData(),o=n.getShadowDim?n.getShadowDim():e.otherDim;if(o!=null){var a=i.getDataExtent(o),r=.3*(a[1]-a[0]);a=[a[0]-r,a[1]+r];var s,l=[0,t[1]],u=[0,t[0]],h=[[t[0],0],[0,0]],c=[],d=u[1]/(i.count()-1),f=0,p=Math.round(i.count()/t[0]);i.each([o],function(m,v){if(p>0&&v%p)f+=d;else{var y=m==null||isNaN(m)||m==="",x=y?0:Ji(m,a,l,!0);y&&!s&&v?(h.push([h[h.length-1][0],0]),c.push([c[c.length-1][0],0])):!y&&s&&(h.push([f,0]),c.push([f,0])),h.push([f,x]),c.push([f,x]),f+=d,s=y}});var g=this.dataZoomModel;this._displayables.barGroup.add(new St({shape:{points:h},style:W({fill:g.get("dataBackgroundColor")},g.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new Qt({shape:{points:c},style:g.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var e=this.dataZoomModel,t=e.get("showDataShadow");if(t!==!1){var n,i=this.ecModel;return e.eachTargetAxis(function(o,a){b(e.getAxisProxy(o.name,a).getTargetSeriesModels(),function(r){if(!(n||t!==!0&&ne(Ok,r.get("type"))<0)){var s,l=i.getComponent(o.axis,a).axis,u=VD(o.name),h=r.coordinateSystem;u!=null&&h.getOtherAxis&&(s=h.getOtherAxis(l).inverse),u=r.getData().mapDimension(u),n={thisAxis:l,series:r,thisDim:o.name,otherDim:u,otherAxisInverse:s}}},this)},this),n}},_renderHandle:function(){var e=this._displayables,t=e.handles=[],n=e.handleLabels=[],i=this._displayables.barGroup,o=this._size,a=this.dataZoomModel;i.add(e.filler=new ou({draggable:!0,cursor:By(this._orient),drift:Cn(this._onDragMove,this,"all"),onmousemove:function(r){Zn(r.event)},ondragstart:Cn(this._showDataInfo,this,!0),ondragend:Cn(this._onDragEnd,this),onmouseover:Cn(this._showDataInfo,this,!0),onmouseout:Cn(this._showDataInfo,this,!1),style:{fill:a.get("fillerColor"),textPosition:"inside"}})),i.add(new ou(Ku({silent:!0,shape:{x:0,y:0,width:o[0],height:o[1]},style:{stroke:a.get("dataBackgroundColor")||a.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}}))),$f([0,1],function(r){var s=xa(a.get("handleIcon"),{cursor:By(this._orient),draggable:!0,drift:Cn(this._onDragMove,this,r),onmousemove:function(c){Zn(c.event)},ondragend:Cn(this._onDragEnd,this),onmouseover:Cn(this._showDataInfo,this,!0),onmouseout:Cn(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),l=s.getBoundingRect();this._handleHeight=E(a.get("handleSize"),this._size[1]),this._handleWidth=l.width/l.height*this._handleHeight,s.setStyle(a.getModel("handleStyle").getItemStyle());var u=a.get("handleColor");u!=null&&(s.style.fill=u),i.add(t[r]=s);var h=a.textStyleModel;this.group.add(n[r]=new te({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:h.getTextColor(),textFont:h.getFont()},z2:10}))},this)},_resetInterval:function(){var e=this._range=this.dataZoomModel.getPercentRange(),t=this._getViewExtent();this._handleEnds=[Ji(e[0],[0,100],t,!0),Ji(e[1],[0,100],t,!0)]},_updateInterval:function(e,t){var n=this.dataZoomModel,i=this._handleEnds,o=this._getViewExtent(),a=n.findRepresentativeAxisProxy().getMinMaxSpan(),r=[0,100];Qo(t,i,o,n.get("zoomLock")?"all":e,a.minSpan!=null?Ji(a.minSpan,r,o,!0):null,a.maxSpan!=null?Ji(a.maxSpan,r,o,!0):null),this._range=Yf([Ji(i[0],o,r,!0),Ji(i[1],o,r,!0)])},_updateView:function(e){var t=this._displayables,n=this._handleEnds,i=Yf(n.slice()),o=this._size;$f([0,1],function(a){var r=t.handles[a],s=this._handleHeight;r.attr({scale:[s/2,s/2],position:[n[a],o[1]/2-s/2]})},this),t.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:o[1]}),this._updateDataInfo(e)},_updateDataInfo:function(e){function t(d){var f=mi(i.handles[d].parent,this.group),p=Qu(d===0?"right":"left",f),g=this._handleWidth/2+Pk,m=Ut([c[d]+(d===0?-g:g),this._size[1]/2],f);o[d].setStyle({x:m[0],y:m[1],textVerticalAlign:a===wr?"middle":p,textAlign:a===wr?p:"center",text:r[d]})}var n=this.dataZoomModel,i=this._displayables,o=i.handleLabels,a=this._orient,r=["",""];if(n.get("showDetail")){var s=n.findRepresentativeAxisProxy();if(s){var l=s.getAxisModel().axis,u=this._range,h=e?s.calculateDataWindow({start:u[0],end:u[1]}).valueWindow:s.getDataValueWindow();r=[this._formatLabel(h[0],l),this._formatLabel(h[1],l)]}}var c=Yf(this._handleEnds.slice());t.call(this,0),t.call(this,1)},_formatLabel:function(e,t){var n=this.dataZoomModel,i=n.get("labelFormatter"),o=n.get("labelPrecision");o!=null&&o!=="auto"||(o=t.getPixelPrecision());var a=e==null||isNaN(e)?"":t.type==="category"||t.type==="time"?t.scale.getLabel(Math.round(e)):e.toFixed(Math.min(o,20));return At(i)?i(e,a):xe(i)?i.replace("{value}",a):a},_showDataInfo:function(e){e=this._dragging||e;var t=this._displayables.handleLabels;t[0].attr("invisible",!e),t[1].attr("invisible",!e)},_onDragMove:function(e,t,n){this._dragging=!0;var i=Ut([t,n],this._displayables.barGroup.getLocalTransform(),!0);this._updateInterval(e,i[0]);var o=this.dataZoomModel.get("realtime");this._updateView(!o),o&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onClickPanelClick:function(e){var t=this._size,n=this._displayables.barGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(n[0]<0||n[0]>t[0]||n[1]<0||n[1]>t[1])){var i=this._handleEnds,o=(i[0]+i[1])/2;this._updateInterval("all",n[0]-o),this._updateView(),this._dispatchZoomAction()}},_dispatchZoomAction:function(){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:e[0],end:e[1]})},_findCoordRect:function(){var e;if($f(this.getTargetCoordInfo(),function(i){if(!e&&i.length){var o=i[0].model.coordinateSystem;e=o.getRect&&o.getRect()}}),!e){var t=this.api.getWidth(),n=this.api.getHeight();e={x:.2*t,y:.2*n,width:.6*t,height:.6*n}}return e}});Xf.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}});var ew=j,tw="\0_ec_dataZoom_roams",nw=U,iw=qf.extend({type:"dataZoom.inside",init:function(e,t){this._range},render:function(e,t,n,i){iw.superApply(this,"render",arguments),FD(i,e.id)&&(this._range=e.getPercentRange()),b(this.getTargetCoordInfo(),function(o,a){var r=P(o,function(s){return Vy(s.model)});b(o,function(s){var l=s.model,u=e.option;GD(n,{coordId:Vy(l),allCoordIds:r,containsPoint:function(h,c,d){return l.coordinateSystem.containPoint([c,d])},dataZoomId:e.id,throttleRate:e.get("throttle",!0),panGetRange:nw(this._onPan,this,s,a),zoomGetRange:nw(this._onZoom,this,s,a),zoomLock:u.zoomLock,disabled:u.disabled,roamControllerOpt:{zoomOnMouseWheel:u.zoomOnMouseWheel,moveOnMouseMove:u.moveOnMouseMove,preventDefaultMouseMove:u.preventDefaultMouseMove}})},this)},this)},dispose:function(){WD(this.api,this.dataZoomModel.id),iw.superApply(this,"dispose",arguments),this._range=null},_onPan:function(e,t,n,i,o,a,r,s,l){var u=this._range.slice(),h=e.axisModels[0];if(h){var c=ow[t]([a,r],[s,l],h,n,e),d=c.signal*(u[1]-u[0])*c.pixel/c.pixelLength;return Qo(d,u,[0,100],"all"),this._range=u}},_onZoom:function(e,t,n,i,o,a){var r=this._range.slice(),s=e.axisModels[0];if(s){var l=ow[t](null,[o,a],s,n,e),u=(l.signal>0?l.pixelStart+l.pixelLength-l.pixel:l.pixel-l.pixelStart)/l.pixelLength*(r[1]-r[0])+r[0];i=Math.max(1/i,0),r[0]=(r[0]-u)*i+u,r[1]=(r[1]-u)*i+u;var h=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return Qo(0,r,[0,100],0,h.minSpan,h.maxSpan),this._range=r}}}),ow={grid:function(e,t,n,i,o){var a=n.axis,r={},s=o.model.coordinateSystem.getRect();return e=e||[0,0],a.dim==="x"?(r.pixel=t[0]-e[0],r.pixelLength=s.width,r.pixelStart=s.x,r.signal=a.inverse?1:-1):(r.pixel=t[1]-e[1],r.pixelLength=s.height,r.pixelStart=s.y,r.signal=a.inverse?-1:1),r},polar:function(e,t,n,i,o){var a=n.axis,r={},s=o.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return e=e?s.pointToCoord(e):[0,0],t=s.pointToCoord(t),n.mainType==="radiusAxis"?(r.pixel=t[0]-e[0],r.pixelLength=l[1]-l[0],r.pixelStart=l[0],r.signal=a.inverse?1:-1):(r.pixel=t[1]-e[1],r.pixelLength=u[1]-u[0],r.pixelStart=u[0],r.signal=a.inverse?-1:1),r},singleAxis:function(e,t,n,i,o){var a=n.axis,r=o.model.coordinateSystem.getRect(),s={};return e=e||[0,0],a.orient==="horizontal"?(s.pixel=t[0]-e[0],s.pixelLength=r.width,s.pixelStart=r.x,s.signal=a.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=r.height,s.pixelStart=r.y,s.signal=a.inverse?-1:1),s}};ut({getTargetSeries:function(e){var t=K();return e.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(i,o,a){b(a.getAxisProxy(i.name,o).getTargetSeriesModels(),function(r){t.set(r.uid,r)})})}),t},isOverallFilter:!0,overallReset:function(e,t){e.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(i,o,a){a.getAxisProxy(i.name,o).reset(a,t)}),n.eachTargetAxis(function(i,o,a){a.getAxisProxy(i.name,o).filterData(a,t)})}),e.eachComponent("dataZoom",function(n){var i=n.findRepresentativeAxisProxy(),o=i.getDataPercentWindow(),a=i.getDataValueWindow();n.setRawRange({start:o[0],end:o[1],startValue:a[0],endValue:a[1]},!0)})}}),se("dataZoom",function(e,t){var n=ED(U(t.eachComponent,t,"dataZoom"),J_,function(o,a){return o.get(a.axisIndex)}),i=[];t.eachComponent({mainType:"dataZoom",query:e},function(o,a){i.push.apply(i,n(o).nodes)}),b(i,function(o,a){o.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})});var aw=b,rw=function(e){var t=e&&e.visualMap;O(t)||(t=t?[t]:[]),aw(t,function(n){if(n){Co(n,"splitList")&&!Co(n,"pieces")&&(n.pieces=n.splitList,delete n.splitList);var i=n.pieces;i&&O(i)&&aw(i,function(o){Y(o)&&(Co(o,"start")&&!Co(o,"min")&&(o.min=o.start),Co(o,"end")&&!Co(o,"max")&&(o.max=o.end))})}})};ie.registerSubTypeDefaulter("visualMap",function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"});var sw=Ho.VISUAL.COMPONENT;ye(sw,{createOnAllSeries:!0,reset:function(e,t){var n=[];return t.eachComponent("visualMap",function(i){i.isTargetSeries(e)&&n.push(DD(i.stateList,i.targetVisuals,U(i.getValueState,i),i.getDataDimension(e.getData())))}),n}}),ye(sw,{createOnAllSeries:!0,reset:function(e,t){var n=e.getData(),i=[];t.eachComponent("visualMap",function(o){if(o.isTargetSeries(e)){var a=o.getVisualMeta(U(qD,null,e,o))||{stops:[],outerColors:[]},r=o.getDataDimension(n),s=n.getDimensionInfo(r);s!=null&&(a.dimension=s.index,i.push(a))}}),e.getData().setVisual("visualMeta",i)}});var Jf={get:function(e,t,n){var i=Z((Nk[e]||{})[t]);return n&&O(i)?i[i.length-1]:i}},Nk={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},lw=ce.mapVisual,Ek=ce.eachVisual,zk=O,Qf=b,Rk=vi,Bk=Ie,ep=We,au=it({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(e,t,n){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(e,n)},optionUpdated:function(e,t){var n=this.option;ee.canvasSupported||(n.realtime=!1),!t&&by(n,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(e){var t=this.stateList;e=U(e,this),this.controllerVisuals=jc(this.option.controller,t,e),this.targetVisuals=jc(this.option.target,t,e)},getTargetSeriesIndices:function(){var e=this.option.seriesIndex,t=[];return e==null||e==="all"?this.ecModel.eachSeries(function(n,i){t.push(i)}):t=Ue(e),t},eachTargetSeries:function(e,t){b(this.getTargetSeriesIndices(),function(n){e.call(t,this.ecModel.getSeriesByIndex(n))},this)},isTargetSeries:function(e){var t=!1;return this.eachTargetSeries(function(n){n===e&&(t=!0)}),t},formatValueText:function(e,t,n){function i(h){return h===l[0]?"min":h===l[1]?"max":(+h).toFixed(Math.min(s,20))}var o,a,r=this.option,s=r.precision,l=this.dataBound,u=r.formatter;return n=n||["<",">"],O(e)&&(e=e.slice(),o=!0),a=t?e:o?[i(e[0]),i(e[1])]:i(e),xe(u)?u.replace("{value}",o?a[0]:a).replace("{value2}",o?a[1]:a):At(u)?o?u(e[0],e[1]):u(e):o?e[0]===l[0]?n[0]+" "+a[1]:e[1]===l[1]?n[1]+" "+a[0]:a[0]+" - "+a[1]:a},resetExtent:function(){var e=this.option,t=Rk([e.min,e.max]);this._dataExtent=t},getDataDimension:function(e){var t=this.option.dimension,n=e.dimensions;if(t!=null||n.length){if(t!=null)return e.getDimension(t);for(var i=e.dimensions,o=i.length-1;o>=0;o--){var a=i[o];if(!e.getDimensionInfo(a).isCalculationCoord)return a}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function e(s){zk(n.color)&&!s.inRange&&(s.inRange={color:n.color.slice().reverse()}),s.inRange=s.inRange||{color:t.get("gradientColor")},Qf(this.stateList,function(l){var u=s[l];if(xe(u)){var h=Jf.get(u,"active",r);h?(s[l]={},s[l][u]=h):delete s[l]}},this)}var t=this.ecModel,n=this.option,i={inRange:n.inRange,outOfRange:n.outOfRange},o=n.target||(n.target={}),a=n.controller||(n.controller={});q(o,i),q(a,i);var r=this.isCategory();e.call(this,o),e.call(this,a),function(s,l,u){var h=s[l],c=s[u];h&&!c&&(c=s[u]={},Qf(h,function(d,f){if(ce.isValidType(f)){var p=Jf.get(f,"inactive",r);p!=null&&(c[f]=p,f!=="color"||c.hasOwnProperty("opacity")||c.hasOwnProperty("colorAlpha")||(c.opacity=[0,0]))}}))}.call(this,o,"inRange","outOfRange"),function(s){var l=(s.inRange||{}).symbol||(s.outOfRange||{}).symbol,u=(s.inRange||{}).symbolSize||(s.outOfRange||{}).symbolSize,h=this.get("inactiveColor");Qf(this.stateList,function(c){var d=this.itemSize,f=s[c];f||(f=s[c]={color:r?h:[h]}),f.symbol==null&&(f.symbol=l&&Z(l)||(r?"roundRect":["roundRect"])),f.symbolSize==null&&(f.symbolSize=u&&Z(u)||(r?d[0]:[d[0],d[0]])),f.symbol=lw(f.symbol,function(m){return m==="none"||m==="square"?"roundRect":m});var p=f.symbolSize;if(p!=null){var g=-1/0;Ek(p,function(m){m>g&&(g=m)}),f.symbolSize=lw(p,function(m){return Bk(m,[0,g],[0,d[0]],!0)})}},this)}.call(this,a)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:ep,getValueState:ep,getVisualMeta:ep}),uw=[20,140],hw=au.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(e,t){hw.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(n){n.mappingMethod="linear",n.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){hw.superApply(this,"resetItemSize",arguments);var e=this.itemSize;this._orient==="horizontal"&&e.reverse(),(e[0]==null||isNaN(e[0]))&&(e[0]=uw[0]),(e[1]==null||isNaN(e[1]))&&(e[1]=uw[1])},_resetRange:function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(e.auto=1,this.option.range=e):O(t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},completeVisualOption:function(){au.prototype.completeVisualOption.apply(this,arguments),b(this.stateList,function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=0)},this)},setSelected:function(e){this.option.range=e.slice(),this._resetRange()},getSelected:function(){var e=this.getExtent(),t=vi((this.get("range")||[]).slice());return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},getValueState:function(e){var t=this.option.range,n=this.getExtent();return(t[0]<=n[0]||t[0]<=e)&&(t[1]>=n[1]||e<=t[1])?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries(function(n){var i=[],o=n.getData();o.each(this.getDataDimension(o),function(a,r){e[0]<=a&&a<=e[1]&&i.push(r)},this),t.push({seriesId:n.id,dataIndex:i})},this),t},getVisualMeta:function(e){function t(c,d){o.push({value:c,color:e(c,d)})}for(var n=Hy(0,0,this.getExtent()),i=Hy(0,0,this.option.range.slice()),o=[],a=0,r=0,s=i.length,l=n.length;r<l&&(!i.length||n[r]<=i[0]);r++)n[r]<i[a]&&t(n[r],"outOfRange");for(u=1;a<s;a++,u=0)u&&o.length&&t(i[a],"outOfRange"),t(i[a],"inRange");for(var u=1;r<l;r++)(!i.length||i[i.length-1]<n[r])&&(u&&(o.length&&t(o[o.length-1].value,"outOfRange"),u=0),t(n[r],"outOfRange"));var h=o.length;return{stops:o,outerColors:[h?o[0].color:"transparent",h?o[h-1].color:"transparent"]}}}),cw=Oe({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(e,t){this.ecModel=e,this.api=t,this.visualMapModel},render:function(e,t,n,i){this.visualMapModel=e,e.get("show")!==!1?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(e){var t=this.visualMapModel,n=zi(t.get("padding")||0),i=e.getBoundingRect();e.add(new pe({z2:-1,silent:!0,shape:{x:i.x-n[3],y:i.y-n[0],width:i.width+n[3]+n[1],height:i.height+n[0]+n[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))},getControllerVisual:function(e,t,n){function i(h){return s[h]}function o(h,c){s[h]=c}var a=(n=n||{}).forceState,r=this.visualMapModel,s={};if(t==="symbol"&&(s.symbol=r.get("itemSymbol")),t==="color"){var l=r.get("contentColor");s.color=l}var u=r.controllerVisuals[a||r.getValueState(e)];return b(ce.prepareVisualTypes(u),function(h){var c=u[h];n.convertOpacityToAlpha&&h==="opacity"&&(h="colorAlpha",c=u.__alphaForOpacity),ce.dependsOn(h,t)&&c&&c.applyVisual(e,i,o)}),s[t]},positionGroup:function(e){var t=this.visualMapModel,n=this.api;qr(e,t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},doRender:We}),Ln=Ie,Vk=b,ru=Math.min,br=Math.max,Gk=12,dw=6,Wk=cw.extend({type:"visualMap.continuous",init:function(){Wk.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(e,t,n,i){i&&i.type==="selectDataRange"&&i.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(t);var n=e.get("text");this._renderEndsText(t,n,0),this._renderEndsText(t,n,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},_renderEndsText:function(e,t,n){if(t){var i=t[1-n];i=i!=null?i+"":"";var o=this.visualMapModel,a=o.get("textGap"),r=o.itemSize,s=this._shapes.barGroup,l=this._applyTransform([r[0]/2,n===0?-a:r[1]+a],s),u=this._applyTransform(n===0?"bottom":"top",s),h=this._orient,c=this.visualMapModel.textStyleModel;this.group.add(new te({style:{x:l[0],y:l[1],textVerticalAlign:h==="horizontal"?"middle":u,textAlign:h==="horizontal"?u:"center",text:i,textFont:c.getFont(),textFill:c.getTextColor()}}))}},_renderBar:function(e){var t=this.visualMapModel,n=this._shapes,i=t.itemSize,o=this._orient,a=this._useHandle,r=Zy(t,this.api,i),s=n.barGroup=this._createBarGroup(r);s.add(n.outOfRange=Ls()),s.add(n.inRange=Ls(null,a?jy(this._orient):null,U(this._dragHandle,this,"all",!1),U(this._dragHandle,this,"all",!0)));var l=t.textStyleModel.getTextRect("\u56FD"),u=br(l.width,l.height);a&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(s,0,i,u,o,r),this._createHandle(s,1,i,u,o,r)),this._createIndicator(s,i,u,o),e.add(s)},_createHandle:function(e,t,n,i,o){var a=U(this._dragHandle,this,t,!1),r=U(this._dragHandle,this,t,!0),s=Ls(YD(t,i),jy(this._orient),a,r);s.position[0]=n[0],e.add(s);var l=this.visualMapModel.textStyleModel,u=new te({draggable:!0,drift:a,onmousemove:function(d){Zn(d.event)},ondragend:r,style:{x:0,y:0,text:"",textFont:l.getFont(),textFill:l.getTextColor()}});this.group.add(u);var h=[o==="horizontal"?i/2:1.5*i,o==="horizontal"?t===0?-1.5*i:1.5*i:t===0?-i/2:i/2],c=this._shapes;c.handleThumbs[t]=s,c.handleLabelPoints[t]=h,c.handleLabels[t]=u},_createIndicator:function(e,t,n,i){var o=Ls([[0,0]],"move");o.position[0]=t[0],o.attr({invisible:!0,silent:!0}),e.add(o);var a=this.visualMapModel.textStyleModel,r=new te({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:a.getFont(),textFill:a.getTextColor()}});this.group.add(r);var s=[i==="horizontal"?n/2:dw+3,0],l=this._shapes;l.indicator=o,l.indicatorLabel=r,l.indicatorLabelPoint=s},_dragHandle:function(e,t,n,i){if(this._useHandle){if(this._dragging=!t,!t){var o=this._applyTransform([n,i],this._shapes.barGroup,!0);this._updateInterval(e,o[1]),this._updateView()}t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?!this._hovering&&this._clearHoverLinkToSeries():Uy(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},_resetInterval:function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),n=e.getExtent(),i=[0,e.itemSize[1]];this._handleEnds=[Ln(t[0],n,i,!0),Ln(t[1],n,i,!0)]},_updateInterval:function(e,t){t=t||0;var n=this.visualMapModel,i=this._handleEnds,o=[0,n.itemSize[1]];Qo(t,i,o,e,0);var a=n.getExtent();this._dataInterval=[Ln(i[0],o,a,!0),Ln(i[1],o,a,!0)]},_updateView:function(e){var t=this.visualMapModel,n=t.getExtent(),i=this._shapes,o=[0,t.itemSize[1]],a=e?o:this._handleEnds,r=this._createBarVisual(this._dataInterval,n,a,"inRange"),s=this._createBarVisual(n,n,o,"outOfRange");i.inRange.setStyle({fill:r.barColor,opacity:r.opacity}).setShape("points",r.barPoints),i.outOfRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape("points",s.barPoints),this._updateHandle(a,r)},_createBarVisual:function(e,t,n,i){var o={forceState:i,convertOpacityToAlpha:!0},a=this._makeColorGradient(e,o),r=[this.getControllerVisual(e[0],"symbolSize",o),this.getControllerVisual(e[1],"symbolSize",o)],s=this._createBarPoints(n,r);return{barColor:new Go(0,0,0,1,a),barPoints:s,handlesColor:[a[0].color,a[a.length-1].color]}},_makeColorGradient:function(e,t){var n=[],i=(e[1]-e[0])/100;n.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var o=1;o<100;o++){var a=e[0]+i*o;if(a>e[1])break;n.push({color:this.getControllerVisual(a,"color",t),offset:o/100})}return n.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),n},_createBarPoints:function(e,t){var n=this.visualMapModel.itemSize;return[[n[0]-t[0],e[0]],[n[0],e[0]],[n[0],e[1]],[n[0]-t[1],e[1]]]},_createBarGroup:function(e){var t=this._orient,n=this.visualMapModel.get("inverse");return new V(t!=="horizontal"||n?t==="horizontal"&&n?{scale:e==="bottom"?[-1,1]:[1,1],rotation:-Math.PI/2}:t!=="vertical"||n?{scale:e==="left"?[1,1]:[-1,1]}:{scale:e==="left"?[1,-1]:[-1,-1]}:{scale:e==="bottom"?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(e,t){if(this._useHandle){var n=this._shapes,i=this.visualMapModel,o=n.handleThumbs,a=n.handleLabels;Vk([0,1],function(r){var s=o[r];s.setStyle("fill",t.handlesColor[r]),s.position[1]=e[r];var l=Ut(n.handleLabelPoints[r],mi(s,this.group));a[r].setStyle({x:l[0],y:l[1],text:i.formatValueText(this._dataInterval[r]),textVerticalAlign:"middle",textAlign:this._applyTransform(this._orient==="horizontal"?r===0?"bottom":"top":"left",n.barGroup)})},this)}},_showIndicator:function(e,t,n,i){var o=this.visualMapModel,a=o.getExtent(),r=o.itemSize,s=[0,r[1]],l=Ln(e,a,s,!0),u=this._shapes,h=u.indicator;if(h){h.position[1]=l,h.attr("invisible",!1),h.setShape("points",$D(!!n,i,l,r[1]));var c={convertOpacityToAlpha:!0},d=this.getControllerVisual(e,"color",c);h.setStyle("fill",d);var f=Ut(u.indicatorLabelPoint,mi(h,this.group)),p=u.indicatorLabel;p.attr("invisible",!1);var g=this._applyTransform("left",u.barGroup),m=this._orient;p.setStyle({text:(n||"")+o.formatValueText(t),textVerticalAlign:m==="horizontal"?g:"middle",textAlign:m==="horizontal"?"center":g,x:f[0],y:f[1]})}},_enableHoverLinkToSeries:function(){var e=this;this._shapes.barGroup.on("mousemove",function(t){if(e._hovering=!0,!e._dragging){var n=e.visualMapModel.itemSize,i=e._applyTransform([t.offsetX,t.offsetY],e._shapes.barGroup,!0,!0);i[1]=ru(br(0,i[1]),n[1]),e._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=n[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(e,t){var n=this.visualMapModel,i=n.itemSize;if(n.option.hoverLink){var o=[0,i[1]],a=n.getExtent();e=ru(br(o[0],e),o[1]);var r=KD(n,a,o),s=[e-r,e+r],l=Ln(e,o,a,!0),u=[Ln(s[0],o,a,!0),Ln(s[1],o,a,!0)];s[0]<o[0]&&(u[0]=-1/0),s[1]>o[1]&&(u[1]=1/0),t&&(u[0]===-1/0?this._showIndicator(l,u[1],"< ",r):u[1]===1/0?this._showIndicator(l,u[0],"> ",r):this._showIndicator(l,l,"\u2248 ",r));var h=this._hoverLinkDataIndices,c=[];(t||Uy(n))&&(c=this._hoverLinkDataIndices=n.findTargetDataIndices(u));var d=xb(h,c);this._dispatchHighDown("downplay",Cs(d[0])),this._dispatchHighDown("highlight",Cs(d[1]))}},_hoverLinkFromSeriesMouseOver:function(e){var t=e.target,n=this.visualMapModel;if(t&&t.dataIndex!=null){var i=this.ecModel.getSeriesByIndex(t.seriesIndex);if(n.isTargetSeries(i)){var o=i.getData(t.dataType),a=o.get(n.getDataDimension(o),t.dataIndex,!0);isNaN(a)||this._showIndicator(a,a)}}},_hideIndicator:function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Cs(e)),e.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},_applyTransform:function(e,t,n,i){var o=mi(t,i?null:this.group);return Nt[O(e)?"applyTransform":"transformDirection"](e,o,n)},_dispatchHighDown:function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});se({type:"selectDataRange",event:"dataRangeSelected",update:"update"},function(e,t){t.eachComponent({mainType:"visualMap",query:e},function(n){n.setSelected(e.selected)})}),He(rw);var Fk=au.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(e,t){Fk.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var n=this._mode=this._determineMode();Hk[this._mode].call(this),this._resetSelected(e,t);var i=this.option.categories;this.resetVisual(function(o,a){n==="categories"?(o.mappingMethod="category",o.categories=Z(i)):(o.dataExtent=this.getExtent(),o.mappingMethod="piecewise",o.pieceList=P(this._pieceList,function(r){var r=Z(r);return a!=="inRange"&&(r.visual=null),r}))})},completeVisualOption:function(){function e(a,r,s){return a&&a[r]&&(Y(a[r])?a[r].hasOwnProperty(s):a[r]===s)}var t=this.option,n={},i=ce.listVisualTypes(),o=this.isCategory();b(t.pieces,function(a){b(i,function(r){a.hasOwnProperty(r)&&(n[r]=1)})}),b(n,function(a,r){var s=0;b(this.stateList,function(l){s|=e(t,l,r)||e(t.target,l,r)},this),!s&&b(this.stateList,function(l){(t[l]||(t[l]={}))[r]=Jf.get(r,l==="inRange"?"active":"inactive",o)})},this),au.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(e,t){var n=this.option,i=this._pieceList,o=(t?n:e).selected||{};if(n.selected=o,b(i,function(r,s){var l=this.getSelectedMapKey(r);o.hasOwnProperty(l)||(o[l]=!0)},this),n.selectedMode==="single"){var a=!1;b(i,function(r,s){var l=this.getSelectedMapKey(r);o[l]&&(a?o[l]=!1:a=!0)},this)}},getSelectedMapKey:function(e){return this._mode==="categories"?e.value+"":e.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(e){this.option.selected=Z(e)},getValueState:function(e){var t=ce.findPieceIndex(e,this._pieceList);return t!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries(function(n){var i=[],o=n.getData();o.each(this.getDataDimension(o),function(a,r){ce.findPieceIndex(a,this._pieceList)===e&&i.push(r)},this),t.push({seriesId:n.id,dataIndex:i})},this),t},getRepresentValue:function(e){var t;if(this.isCategory())t=e.value;else if(e.value!=null)t=e.value;else{var n=e.interval||[];t=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return t},getVisualMeta:function(e){function t(l,u){var h=o.getRepresentValue({interval:l});u||(u=o.getValueState(h));var c=e(h,u);l[0]===-1/0?i[0]=c:l[1]===1/0?i[1]=c:n.push({value:l[0],color:c},{value:l[1],color:c})}if(!this.isCategory()){var n=[],i=[],o=this,a=this._pieceList.slice();if(a.length){var r=a[0].interval[0];r!==-1/0&&a.unshift({interval:[-1/0,r]}),(r=a[a.length-1].interval[1])!==1/0&&a.push({interval:[r,1/0]})}else a.push({interval:[-1/0,1/0]});var s=-1/0;return b(a,function(l){var u=l.interval;u&&(u[0]>s&&t([s,u[0]],"outOfRange"),t(u.slice()),s=u[1])},this),{stops:n,outerColors:i}}}}),Hk={splitNumber:function(){var e=this.option,t=this._pieceList,n=Math.min(e.precision,20),i=this.getExtent(),o=e.splitNumber;o=Math.max(parseInt(o,10),1),e.splitNumber=o;for(var a=(i[1]-i[0])/o;+a.toFixed(n)!==a&&n<5;)n++;e.precision=n,a=+a.toFixed(n);var r=0;e.minOpen&&t.push({index:r++,interval:[-1/0,i[0]],close:[0,0]});for(var s=i[0],l=r+o;r<l;s+=a){var u=r===o-1?i[1]:s+a;t.push({index:r++,interval:[s,u],close:[1,1]})}e.maxOpen&&t.push({index:r++,interval:[i[1],1/0],close:[0,0]}),ah(t),b(t,function(h){h.text=this.formatValueText(h.interval)},this)},categories:function(){var e=this.option;b(e.categories,function(t){this._pieceList.push({text:this.formatValueText(t,!0),value:t})},this),Xy(e,this._pieceList)},pieces:function(){var e=this.option,t=this._pieceList;b(e.pieces,function(n,i){Y(n)||(n={value:n});var o={text:"",index:i};if(n.label!=null&&(o.text=n.label),n.hasOwnProperty("value")){var a=o.value=n.value;o.interval=[a,a],o.close=[1,1]}else{for(var r=o.interval=[],s=o.close=[0,0],l=[1,0,1],u=[-1/0,1/0],h=[],c=0;c<2;c++){for(var d=[["gte","gt","min"],["lte","lt","max"]][c],f=0;f<3&&r[c]==null;f++)r[c]=n[d[f]],s[c]=l[f],h[c]=f===2;r[c]==null&&(r[c]=u[c])}h[0]&&r[1]===1/0&&(s[0]=0),h[1]&&r[0]===-1/0&&(s[1]=0),r[0]===r[1]&&s[0]&&s[1]&&(o.value=r[0])}o.visual=ce.retrieveVisuals(n),t.push(o)},this),Xy(e,t),ah(t),b(t,function(n){var i=n.close,o=[["<","\u2264"][i[1]],[">","\u2265"][i[0]]];n.text=n.text||this.formatValueText(n.value!=null?n.value:n.interval,!1,o)},this)}};cw.extend({type:"visualMap.piecewise",doRender:function(){var e=this.group;e.removeAll();var t=this.visualMapModel,n=t.get("textGap"),i=t.textStyleModel,o=i.getFont(),a=i.getTextColor(),r=this._getItemAlign(),s=t.itemSize,l=this._getViewData(),u=l.endsText,h=Re(t.get("showLabel",!0),!u);u&&this._renderEndsText(e,u[0],s,h,r),b(l.viewPieceList,function(c){var d=c.piece,f=new V;f.onclick=U(this._onItemClick,this,d),this._enableHoverLink(f,c.indexInModelPieceList);var p=t.getRepresentValue(d);if(this._createItemSymbol(f,p,[0,0,s[0],s[1]]),h){var g=this.visualMapModel.getValueState(p);f.add(new te({style:{x:r==="right"?-n:s[0]+n,y:s[1]/2,text:d.text,textVerticalAlign:"middle",textAlign:r,textFont:o,textFill:a,opacity:g==="outOfRange"?.5:1}}))}e.add(f)},this),u&&this._renderEndsText(e,u[1],s,h,r),ir(t.get("orient"),e,t.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},_enableHoverLink:function(e,t){function n(i){var o=this.visualMapModel;o.option.hoverLink&&this.api.dispatchAction({type:i,batch:Cs(o.findTargetDataIndices(t))})}e.on("mouseover",U(n,this,"highlight")).on("mouseout",U(n,this,"downplay"))},_getItemAlign:function(){var e=this.visualMapModel,t=e.option;if(t.orient==="vertical")return Zy(e,this.api,e.itemSize);var n=t.align;return n&&n!=="auto"||(n="left"),n},_renderEndsText:function(e,t,n,i,o){if(t){var a=new V,r=this.visualMapModel.textStyleModel;a.add(new te({style:{x:i?o==="right"?n[0]:0:n[0]/2,y:n[1]/2,textVerticalAlign:"middle",textAlign:i?o:"center",text:t,textFont:r.getFont(),textFill:r.getTextColor()}})),e.add(a)}},_getViewData:function(){var e=this.visualMapModel,t=P(e.getPieceList(),function(a,r){return{piece:a,indexInModelPieceList:r}}),n=e.get("text"),i=e.get("orient"),o=e.get("inverse");return(i==="horizontal"?o:!o)?t.reverse():n&&(n=n.slice().reverse()),{viewPieceList:t,endsText:n}},_createItemSymbol:function(e,t,n){e.add(ht(this.getControllerVisual(t,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(t,"color")))},_onItemClick:function(e){var t=this.visualMapModel,n=t.option,i=Z(n.selected),o=t.getSelectedMapKey(e);n.selectedMode==="single"?(i[o]=!0,b(i,function(a,r){i[r]=r===o})):i[o]=!i[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:i})}}),He(rw);var fw=yi,tp=we,su=it({type:"marker",dependencies:["series","grid","polar","geo"],init:function(e,t,n,i){this.mergeDefaultAndTheme(e,n),this.mergeOption(e,n,i.createdBySelf,!0)},isAnimationEnabled:function(){if(ee.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},mergeOption:function(e,t,n,i){var o=this.constructor,a=this.mainType+"Model";n||t.eachSeries(function(r){var s=r.get(this.mainType),l=r[a];s&&s.data?(l?l.mergeOption(s,t,!0):(i&&ks(s),b(s.data,function(u){u instanceof Array?(ks(u[0]),ks(u[1])):ks(u)}),G(l=new o(s,this,t),{mainType:this.mainType,seriesIndex:r.seriesIndex,name:r.name,createdBySelf:!0}),l.__hostSeries=r),r[a]=l):r[a]=null},this)},formatTooltip:function(e){var t=this.getData(),n=this.getRawValue(e),i=O(n)?P(n,fw).join(", "):fw(n),o=t.getName(e),a=tp(this.name);return(n!=null||o)&&(a+="<br />"),o&&(a+=tp(o),n!=null&&(a+=" : ")),n!=null&&(a+=tp(i)),a},getData:function(){return this._data},setData:function(e){this._data=e}});oe(su,Yd),su.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});var pw=ne,np=j,ip={min:np(Kc,"min"),max:np(Kc,"max"),average:np(Kc,"average")},op=Oe({type:"marker",init:function(){this.markerGroupMap=K()},render:function(e,t,n){var i=this.markerGroupMap;i.each(function(a){a.__keep=!1});var o=this.type+"Model";t.eachSeries(function(a){var r=a[o];r&&this.renderSeries(a,r,t,n)},this),i.each(function(a){!a.__keep&&this.group.remove(a.group)},this)},renderSeries:function(){}});op.extend({type:"markPoint",updateTransform:function(e,t,n){t.eachSeries(function(i){var o=i.markPointModel;o&&($y(o.getData(),i,n),this.markerGroupMap.get(i.id).updateLayout(o))},this)},renderSeries:function(e,t,n,i){var o=e.coordinateSystem,a=e.id,r=e.getData(),s=this.markerGroupMap,l=s.get(a)||s.set(a,new _o),u=tA(o,e,t);t.setData(u),$y(t.getData(),e,i),u.each(function(h){var c=u.getItemModel(h),d=c.getShallow("symbolSize");typeof d=="function"&&(d=d(t.getRawValue(h),t.getDataParams(h))),u.setItemVisual(h,{symbolSize:d,color:c.get("itemStyle.color")||r.getVisual("color"),symbol:c.getShallow("symbol")})}),l.updateData(u),this.group.add(l.group),u.eachItemGraphicEl(function(h){h.traverse(function(c){c.dataModel=t})}),l.__keep=!0,l.group.silent=t.get("silent")||e.get("silent")}}),He(function(e){e.markPoint=e.markPoint||{}}),su.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end"},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});var Zk=function(e,t,n,i){var o=e.getData(),a=i.type;if(!O(i)&&(a==="min"||a==="max"||a==="average"||i.xAxis!=null||i.yAxis!=null)){var r,s;if(i.yAxis!=null||i.xAxis!=null)r=i.yAxis!=null?"y":"x",t.getAxis(r),s=Re(i.yAxis,i.xAxis);else{var l=qy(i,o,t,e);r=l.valueDataDim,l.valueAxis,s=Jc(o,r,a)}var u=r==="x"?0:1,h=1-u,c=Z(i),d={};c.type=null,c.coord=[],d.coord=[],c.coord[h]=-1/0,d.coord[h]=1/0;var f=n.get("precision");f>=0&&typeof s=="number"&&(s=+s.toFixed(Math.min(f,20))),c.coord[u]=d.coord[u]=s,i=[c,d,{type:a,valueIndex:i.valueIndex,value:s}]}return i=[Ha(e,i[0]),Ha(e,i[1]),G({},i[2])],i[2].type=i[2].type||"",q(i[2],i[0]),q(i[2],i[1]),i};op.extend({type:"markLine",updateTransform:function(e,t,n){t.eachSeries(function(i){var o=i.markLineModel;if(o){var a=o.getData(),r=o.__from,s=o.__to;r.each(function(l){Qc(r,l,!0,i,n),Qc(s,l,!1,i,n)}),a.each(function(l){a.setItemLayout(l,[r.getItemLayout(l),s.getItemLayout(l)])}),this.markerGroupMap.get(i.id).updateLayout()}},this)},renderSeries:function(e,t,n,i){function o(m,v,y){var x=m.getItemModel(v);Qc(m,v,y,e,i),m.setItemVisual(v,{symbolSize:x.get("symbolSize")||g[y?0:1],symbol:x.get("symbol",!0)||p[y?0:1],color:x.get("itemStyle.color")||s.getVisual("color")})}var a=e.coordinateSystem,r=e.id,s=e.getData(),l=this.markerGroupMap,u=l.get(r)||l.set(r,new cs);this.group.add(u.group);var h=iA(a,e,t),c=h.from,d=h.to,f=h.line;t.__from=c,t.__to=d,t.setData(f);var p=t.get("symbol"),g=t.get("symbolSize");O(p)||(p=[p,p]),typeof g=="number"&&(g=[g,g]),h.from.each(function(m){o(c,m,!0),o(d,m,!1)}),f.each(function(m){var v=f.getItemModel(m).get("lineStyle.color");f.setItemVisual(m,{color:v||c.getItemVisual(m,"color")}),f.setItemLayout(m,[c.getItemLayout(m),d.getItemLayout(m)]),f.setItemVisual(m,{fromSymbolSize:c.getItemVisual(m,"symbolSize"),fromSymbol:c.getItemVisual(m,"symbol"),toSymbolSize:d.getItemVisual(m,"symbolSize"),toSymbol:d.getItemVisual(m,"symbol")})}),u.updateData(f),h.line.eachItemGraphicEl(function(m,v){m.traverse(function(y){y.dataModel=t})}),u.__keep=!0,u.group.silent=t.get("silent")||e.get("silent")}}),He(function(e){e.markLine=e.markLine||{}}),su.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});var Uk=function(e,t,n,i){var o=Ha(e,i[0]),a=Ha(e,i[1]),r=Re,s=o.coord,l=a.coord;s[0]=r(s[0],-1/0),s[1]=r(s[1],-1/0),l[0]=r(l[0],1/0),l[1]=r(l[1],1/0);var u=aa([{},o,a]);return u.coord=[o.coord,a.coord],u.x0=o.x,u.y0=o.y,u.x1=a.x,u.y1=a.y,u},gw=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];op.extend({type:"markArea",updateTransform:function(e,t,n){t.eachSeries(function(i){var o=i.markAreaModel;if(o){var a=o.getData();a.each(function(r){var s=P(gw,function(l){return Qy(a,r,l,i,n)});a.setItemLayout(r,s),a.getItemGraphicEl(r).setShape("points",s)})}},this)},renderSeries:function(e,t,n,i){var o=e.coordinateSystem,a=e.name,r=e.getData(),s=this.markerGroupMap,l=s.get(a)||s.set(a,{group:new V});this.group.add(l.group),l.__keep=!0;var u=aA(o,e,t);t.setData(u),u.each(function(h){u.setItemLayout(h,P(gw,function(c){return Qy(u,h,c,e,i)})),u.setItemVisual(h,{color:r.getVisual("color")})}),u.diff(l.__data).add(function(h){var c=new St({shape:{points:u.getItemLayout(h)}});u.setItemGraphicEl(h,c),l.group.add(c)}).update(function(h,c){var d=l.__data.getItemGraphicEl(c);J(d,{shape:{points:u.getItemLayout(h)}},t,h),l.group.add(d),u.setItemGraphicEl(h,d)}).remove(function(h){var c=l.__data.getItemGraphicEl(h);l.group.remove(c)}).execute(),u.eachItemGraphicEl(function(h,c){var d=u.getItemModel(c),f=d.getModel("label"),p=d.getModel("emphasis.label"),g=u.getItemVisual(c,"color");h.useStyle(W(d.getModel("itemStyle").getItemStyle(),{fill:Or(g,.4),stroke:g})),h.hoverStyle=d.getModel("emphasis.itemStyle").getItemStyle(),yt(h.style,h.hoverStyle,f,p,{labelFetcher:t,labelDataIndex:c,defaultText:u.getName(c)||"",isRectText:!0,autoColor:g}),ve(h,{}),h.dataModel=t}),l.__data=u,l.group.silent=t.get("silent")||e.get("silent")}}),He(function(e){e.markArea=e.markArea||{}}),ie.registerSubTypeDefaulter("timeline",function(){return"slider"}),se({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t){var n=t.getComponent("timeline");return n&&e.currentIndex!=null&&(n.setCurrentIndex(e.currentIndex),!n.get("loop",!0)&&n.isIndexMax()&&n.setPlayState(!1)),t.resetOption("timeline"),W({currentIndex:n.option.currentIndex},e)}),se({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var n=t.getComponent("timeline");n&&e.playState!=null&&n.setPlayState(e.playState)});var mw=ie.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(e,t,n){this._data,this._names,this.mergeDefaultAndTheme(e,n),this._initData()},mergeOption:function(e){mw.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(e){e==null&&(e=this.option.currentIndex);var t=this._data.count();this.option.loop?e=(e%t+t)%t:(e>=t&&(e=t-1),e<0&&(e=0)),this.option.currentIndex=e},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(e){this.option.autoPlay=!!e},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var e=this.option,t=e.data||[],n=e.axisType,i=this._names=[];if(n==="category"){var o=[];b(t,function(r,s){var l,u=ma(r);Y(r)?(l=Z(r)).value=s:l=s,o.push(l),xe(u)||u!=null&&!isNaN(u)||(u=""),i.push(u+"")}),t=o}var a={category:"ordinal",time:"time"}[n]||"number";(this._data=new Ee([{name:"value",type:a}],this)).initData(t,i)},getData:function(){return this._data},getCategories:function(){if(this.get("axisType")==="category")return this._names.slice()}});oe(mw.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:!0,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}}),Yd);var jk=An.extend({type:"timeline"}),lu=function(e,t,n,i){Le.call(this,e,t,n),this.type=i||"value",this._autoLabelInterval,this.model=null};lu.prototype={constructor:lu,getLabelInterval:function(){var e=this.model,t=e.getModel("label"),n=t.get("interval");return n!=null&&n!="auto"||(n=this._autoLabelInterval)||(n=this._autoLabelInterval=Gm(P(this.scale.getTicks(),this.dataToCoord,this),Ah(this,t.get("formatter")),t.getFont(),e.get("orient")==="horizontal"?0:90,t.get("rotate"))),n},isLabelIgnored:function(e){if(this.type==="category"){var t=this.getLabelInterval();return typeof t=="function"&&!t(e,this.scale.getLabel(e))||e%(t+1)}}},he(lu,Le);var li=U,ap=b,rp=Math.PI;jk.extend({type:"timeline.slider",init:function(e,t){this.api=t,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(e,t,n,i){if(this.model=e,this.api=n,this.ecModel=t,this.group.removeAll(),e.get("show",!0)){var o=this._layout(e,n),a=this._createGroup("mainGroup"),r=this._createGroup("labelGroup"),s=this._axis=this._createAxis(o,e);e.formatTooltip=function(l){return we(s.scale.getLabel(l))},ap(["AxisLine","AxisTick","Control","CurrentPointer"],function(l){this["_render"+l](o,a,s,e)},this),this._renderAxisLabel(o,r,s,e),this._position(o,e)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(e,t){var n=e.get("label.position"),i=e.get("orient"),o=sA(e,t);n==null||n==="auto"?n=i==="horizontal"?o.y+o.height/2<t.getHeight()/2?"-":"+":o.x+o.width/2<t.getWidth()/2?"+":"-":isNaN(n)&&(n={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[i][n]);var a={horizontal:"center",vertical:n>=0||n==="+"?"left":"right"},r={horizontal:n>=0||n==="+"?"top":"bottom",vertical:"middle"},s={horizontal:0,vertical:rp/2},l=i==="vertical"?o.height:o.width,u=e.getModel("controlStyle"),h=u.get("show",!0),c=h?u.get("itemSize"):0,d=h?u.get("itemGap"):0,f=c+d,p=e.get("label.rotate")||0;p=p*rp/180;var g,m,v,y,x=u.get("position",!0),_=h&&u.get("showPlayBtn",!0),w=h&&u.get("showPrevBtn",!0),S=h&&u.get("showNextBtn",!0),M=0,I=l;return x==="left"||x==="bottom"?(_&&(g=[0,0],M+=f),w&&(m=[M,0],M+=f),S&&(v=[I-c,0],I-=f)):(_&&(g=[I-c,0],I-=f),w&&(m=[0,0],M+=f),S&&(v=[I-c,0],I-=f)),y=[M,I],e.get("inverse")&&y.reverse(),{viewRect:o,mainLength:l,orient:i,rotation:s[i],labelRotation:p,labelPosOpt:n,labelAlign:e.get("label.align")||a[i],labelBaseline:e.get("label.verticalAlign")||e.get("label.baseline")||r[i],playPosition:g,prevBtnPosition:m,nextBtnPosition:v,axisExtent:y,controlSize:c,controlGap:d}},_position:function(e,t){function n(y){var x=y.position;y.origin=[c[0][0]-x[0],c[1][0]-x[1]]}function i(y){return[[y.x,y.x+y.width],[y.y,y.y+y.height]]}function o(y,x,_,w,S){y[w]+=_[w][S]-x[w][S]}var a=this._mainGroup,r=this._labelGroup,s=e.viewRect;if(e.orient==="vertical"){var l=Ct(),u=s.x,h=s.y+s.height;Vt(l,l,[-u,-h]),ci(l,l,-rp/2),Vt(l,l,[u,h]),(s=s.clone()).applyTransform(l)}var c=i(s),d=i(a.getBoundingRect()),f=i(r.getBoundingRect()),p=a.position,g=r.position;g[0]=p[0]=c[0][0];var m=e.labelPosOpt;if(isNaN(m))o(p,d,c,1,v=m==="+"?0:1),o(g,f,c,1,1-v);else{var v=m>=0?0:1;o(p,d,c,1,v),g[1]=p[1]+m}a.attr("position",p),r.attr("position",g),a.rotation=r.rotation=e.rotation,n(a),n(r)},_createAxis:function(e,t){var n=t.getData(),i=t.get("axisType"),o=yo(t,i),a=n.getDataExtent("value");o.setExtent(a[0],a[1]),this._customizeScale(o,n),o.niceTicks();var r=new lu("value",o,e.axisExtent,i);return r.model=t,r},_customizeScale:function(e,t){e.getTicks=function(){return t.mapArray(["value"],function(n){return n})},e.getTicksLabels=function(){return P(this.getTicks(),e.getLabel,e)}},_createGroup:function(e){var t=this["_"+e]=new V;return this.group.add(t),t},_renderAxisLine:function(e,t,n,i){var o=n.getExtent();i.get("lineStyle.show")&&t.add(new Mt({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:G({lineCap:"round"},i.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(e,t,n,i){var o=i.getData(),a=n.scale.getTicks();ap(a,function(r,s){var l=n.dataToCoord(r),u=o.getItemModel(s),h=u.getModel("itemStyle"),c=u.getModel("emphasis.itemStyle"),d={position:[l,0],onclick:li(this._changeTimeline,this,s)},f=t1(u,h,t,d);ve(f,c.getItemStyle()),u.get("tooltip")?(f.dataIndex=s,f.dataModel=i):f.dataIndex=f.dataModel=null},this)},_renderAxisLabel:function(e,t,n,i){var o=i.getModel("label");if(o.get("show")){var a=i.getData(),r=n.scale.getTicks(),s=Ah(n,o.get("formatter")),l=n.getLabelInterval();ap(r,function(u,h){if(!n.isLabelIgnored(h,l)){var c=a.getItemModel(h),d=c.getModel("label"),f=c.getModel("emphasis.label"),p=n.dataToCoord(u),g=new te({position:[p,0],rotation:e.labelRotation-e.rotation,onclick:li(this._changeTimeline,this,h),silent:!1});Se(g.style,d,{text:s[h],textAlign:e.labelAlign,textVerticalAlign:e.labelBaseline}),t.add(g),ve(g,Se({},f))}},this)}},_renderControl:function(e,t,n,i){function o(d,f,p,g){if(d){var m=lA(i,f,u,{position:d,origin:[a/2,0],rotation:g?-r:0,rectHover:!0,style:s,onclick:p});t.add(m),ve(m,l)}}var a=e.controlSize,r=e.rotation,s=i.getModel("controlStyle").getItemStyle(),l=i.getModel("emphasis.controlStyle").getItemStyle(),u=[0,-a/2,a,a],h=i.getPlayState(),c=i.get("inverse",!0);o(e.nextBtnPosition,"controlStyle.nextIcon",li(this._changeTimeline,this,c?"-":"+")),o(e.prevBtnPosition,"controlStyle.prevIcon",li(this._changeTimeline,this,c?"+":"-")),o(e.playPosition,"controlStyle."+(h?"stopIcon":"playIcon"),li(this._handlePlayClick,this,!h),!0)},_renderCurrentPointer:function(e,t,n,i){var o=i.getData(),a=i.getCurrentIndex(),r=o.getItemModel(a).getModel("checkpointStyle"),s=this,l={onCreate:function(u){u.draggable=!0,u.drift=li(s._handlePointerDrag,s),u.ondragend=li(s._handlePointerDragend,s),n1(u,a,n,i,!0)},onUpdate:function(u){n1(u,a,n,i)}};this._currentPointer=t1(r,r,this._mainGroup,{},this._currentPointer,l)},_handlePlayClick:function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},_handlePointerDrag:function(e,t,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},_handlePointerDragend:function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},_pointerChangeTimeline:function(e,t){var n=this._toAxisCoord(e)[0],i=vi(this._axis.getExtent().slice());n>i[1]&&(n=i[1]),n<i[0]&&(n=i[0]),this._currentPointer.position[0]=n,this._currentPointer.dirty();var o=this._findNearestTick(n),a=this.model;(t||o!==a.getCurrentIndex()&&a.get("realtime"))&&this._changeTimeline(o)},_doPlayStop:function(){this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(li(function(){var e=this.model;this._changeTimeline(e.getCurrentIndex()+(e.get("rewind",!0)?-1:1))},this),this.model.get("playInterval")))},_toAxisCoord:function(e){return Ut(e,this._mainGroup.getLocalTransform(),!0)},_findNearestTick:function(e){var t,n=this.model.getData(),i=1/0,o=this._axis;return n.each(["value"],function(a,r){var s=o.dataToCoord(a),l=Math.abs(s-e);l<i&&(i=l,t=r)}),t},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(e){var t=this.model.getCurrentIndex();e==="+"?e=t+1:e==="-"&&(e=t-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})}}),He(function(e){var t=e&&e.timeline;O(t)||(t=t?[t]:[]),b(t,function(n){n&&rA(n)})});var Xk=it({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},mergeDefaultAndTheme:function(e){Xk.superApply(this,"mergeDefaultAndTheme",arguments),b(this.option.feature,function(t,n){var i=Py(n);i&&q(t,i.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}}}});Oe({type:"toolbox",render:function(e,t,n,i){function o(c,d){var f,p=h[c],g=h[d],m=new re(l[p],e,e.ecModel);if(p&&!g){if(uA(p))f={model:m,onclick:m.option.onclick,featureName:p};else{var v=Py(p);if(!v)return;f=new v(m,t,n)}u[p]=f}else{if(!(f=u[g]))return;f.model=m,f.ecModel=t,f.api=n}p||!g?m.get("show")&&!f.unusable?(a(m,f,p),m.setIconStatus=function(y,x){var _=this.option,w=this.iconPaths;_.iconStatus=_.iconStatus||{},_.iconStatus[y]=x,w[y]&&w[y].trigger(x)},f.render&&f.render(m,t,n,i)):f.remove&&f.remove(t,n):f.dispose&&f.dispose(t,n)}function a(c,d,f){var p=c.getModel("iconStyle"),g=c.getModel("emphasis.iconStyle"),m=d.getIcons?d.getIcons():c.get("icon"),v=c.get("title")||{};if(typeof m=="string"){var y=m,x=v;v={},(m={})[f]=y,v[f]=x}var _=c.iconPaths={};b(m,function(w,S){var M=xa(w,{},{x:-s/2,y:-s/2,width:s,height:s});M.setStyle(p.getItemStyle()),M.hoverStyle=g.getItemStyle(),ve(M),e.get("showTitle")&&(M.__title=v[S],M.on("mouseover",function(){var I=g.getItemStyle();M.setStyle({text:v[S],textPosition:I.textPosition||"bottom",textFill:I.fill||I.stroke||"#000",textAlign:I.textAlign||"center"})}).on("mouseout",function(){M.setStyle({textFill:null})})),M.trigger(c.get("iconStatus."+S)||"normal"),r.add(M),M.on("click",U(d.onclick,d,t,n,S)),_[S]=M})}var r=this.group;if(r.removeAll(),e.get("show")){var s=+e.get("itemSize"),l=e.get("feature")||{},u=this._features||(this._features={}),h=[];b(l,function(c,d){h.push(d)}),new xn(this._featureNames||[],h).add(o).update(o).remove(j(o,null)).execute(),this._featureNames=h,dD(r,e,n),r.add(uy(r.getBoundingRect(),e)),r.eachChild(function(c){var d=c.__title,f=c.hoverStyle;if(f&&d){var p=mn(d,jp(f)),g=c.position[0]+r.position[0],m=!1;c.position[1]+r.position[1]+s+p.height>n.getHeight()&&(f.textPosition="top",m=!0);var v=m?-5-p.height:s+8;g+p.width/2>n.getWidth()?(f.textPosition=["100%",v],f.textAlign="right"):g-p.width/2<0&&(f.textPosition=[0,v],f.textAlign="left")}})}},updateView:function(e,t,n,i){b(this._features,function(o){o.updateView&&o.updateView(o.model,t,n,i)})},remove:function(e,t){b(this._features,function(n){n.remove&&n.remove(e,t)}),this.group.removeAll()},dispose:function(e,t){b(this._features,function(n){n.dispose&&n.dispose(e,t)})}});var vw=$n.toolbox.saveAsImage;Ns.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:vw.title,type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:vw.lang.slice()},Ns.prototype.unusable=!ee.canvasSupported,Ns.prototype.onclick=function(e,t){var n=this.model,i=n.get("name")||e.get("title.0.text")||"echarts",o=document.createElement("a"),a=n.get("type",!0)||"png";o.download=i+"."+a,o.target="_blank";var r=t.getConnectedDataURL({type:a,backgroundColor:n.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")});if(o.href=r,typeof MouseEvent!="function"||ee.browser.ie||ee.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var s=atob(r.split(",")[1]),l=s.length,u=new Uint8Array(l);l--;)u[l]=s.charCodeAt(l);var h=new Blob([u]);window.navigator.msSaveOrOpenBlob(h,i+"."+a)}else{var c=n.get("lang"),d='<body style="margin:0;"><img src="'+r+'" style="max-width:100%;" title="'+(c&&c[0]||"")+'" /></body>';window.open().document.write(d)}else{var f=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});o.dispatchEvent(f)}},To("saveAsImage",Ns);var qk=$n.toolbox.magicType;ed.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:Z(qk.title),option:{},seriesIndex:{}};var yw=ed.prototype;yw.getIcons=function(){var e=this.model,t=e.get("icon"),n={};return b(e.get("type"),function(i){t[i]&&(n[i]=t[i])}),n};var xw={line:function(e,t,n,i){if(e==="bar")return q({id:t,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get("option.line")||{},!0)},bar:function(e,t,n,i){if(e==="line")return q({id:t,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get("option.bar")||{},!0)},stack:function(e,t,n,i){if(e==="line"||e==="bar")return q({id:t,stack:"__ec_magicType_stack__"},i.get("option.stack")||{},!0)},tiled:function(e,t,n,i){if(e==="line"||e==="bar")return q({id:t,stack:""},i.get("option.tiled")||{},!0)}},Yk=[["line","bar"],["stack","tiled"]];yw.onclick=function(e,t,n){var i=this.model,o=i.get("seriesIndex."+n);if(xw[n]){var a={series:[]};b(Yk,function(r){ne(r,n)>=0&&b(r,function(s){i.setIconStatus(s,"normal")})}),i.setIconStatus(n,"emphasis"),e.eachComponent({mainType:"series",query:o==null?null:{seriesIndex:o}},function(r){var s=r.subType,l=r.id,u=xw[n](s,l,r,i);u&&(W(u,r.option),a.series.push(u));var h=r.coordinateSystem;if(h&&h.type==="cartesian2d"&&(n==="line"||n==="bar")){var c=h.getAxesByScale("ordinal")[0];if(c){var d=c.dim+"Axis",f=e.queryComponents({mainType:d,index:r.get(name+"Index"),id:r.get(name+"Id")})[0].componentIndex;a[d]=a[d]||[];for(var p=0;p<=f;p++)a[d][f]=a[d][f]||{};a[d][f].boundaryGap=n==="bar"}}}),t.dispatchAction({type:"changeMagicType",currentType:n,newOption:a})}},se({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(e,t){t.mergeOption(e.newOption)}),To("magicType",ed);var _w=$n.toolbox.dataView,uu=new Array(60).join("-"),Qi="	",sp=new RegExp("["+Qi+"]+","g");Ua.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:Z(_w.title),lang:Z(_w.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},Ua.prototype.onclick=function(e,t){function n(){i.removeChild(a),x._dom=null}var i=t.getDom(),o=this.model;this._dom&&i.removeChild(this._dom);var a=document.createElement("div");a.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",a.style.backgroundColor=o.get("backgroundColor")||"#fff";var r=document.createElement("h4"),s=o.get("lang")||[];r.innerHTML=s[0]||o.get("title"),r.style.cssText="margin: 10px 20px;",r.style.color=o.get("textColor");var l=document.createElement("div"),u=document.createElement("textarea");l.style.cssText="display:block;width:100%;overflow:auto;";var h=o.get("optionToContent"),c=o.get("contentToOption"),d=fA(e);if(typeof h=="function"){var f=h(t.getOption());typeof f=="string"?l.innerHTML=f:ra(f)&&l.appendChild(f)}else l.appendChild(u),u.readOnly=o.get("readOnly"),u.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",u.style.color=o.get("textColor"),u.style.borderColor=o.get("textareaBorderColor"),u.style.backgroundColor=o.get("textareaColor"),u.value=d.value;var p=d.meta,g=document.createElement("div");g.style.cssText="position:absolute;bottom:0;left:0;right:0;";var m="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",v=document.createElement("div"),y=document.createElement("div");m+=";background-color:"+o.get("buttonColor"),m+=";color:"+o.get("buttonTextColor");var x=this;Rr(v,"click",n),Rr(y,"click",function(){var _;try{_=typeof c=="function"?c(l,t.getOption()):vA(u.value,p)}catch(w){throw n(),new Error("Data view format error "+w)}_&&t.dispatchAction({type:"changeDataView",newOption:_}),n()}),v.innerHTML=s[1],y.innerHTML=s[2],y.style.cssText=m,v.style.cssText=m,!o.get("readOnly")&&g.appendChild(y),g.appendChild(v),Rr(u,"keydown",function(_){if((_.keyCode||_.which)===9){var w=this.value,S=this.selectionStart,M=this.selectionEnd;this.value=w.substring(0,S)+Qi+w.substring(M),this.selectionStart=this.selectionEnd=S+1,Zn(_)}}),a.appendChild(r),a.appendChild(l),a.appendChild(g),l.style.height=i.clientHeight-80+"px",i.appendChild(a),this._dom=a},Ua.prototype.remove=function(e,t){this._dom&&t.getDom().removeChild(this._dom)},Ua.prototype.dispose=function(e,t){this.remove(e,t)},To("dataView",Ua),se({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(e,t){var n=[];b(e.newOption.series,function(i){var o=t.getSeriesByName(i.name)[0];if(o){var a=o.get("data");n.push({name:i.name,data:yA(i.data,a)})}else n.push(G({type:"scatter"},i))}),t.mergeOption(W({series:n},e.newOption))});var ww=b,lp="\0_ec_hist_store";Xf.extend({type:"dataZoom.select"}),qf.extend({type:"dataZoom.select"});var $k=$n.toolbox.dataZoom,bw=b,Kk="\0_ec_\0toolbox-dataZoom_";nd.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:Z($k.title)};var oa=nd.prototype;oa.render=function(e,t,n,i){this.model=e,this.ecModel=t,this.api=n,MA(e,t,this,i,n),SA(e,t)},oa.onclick=function(e,t,n){Jk[n].call(this)},oa.remove=function(e,t){this._brushController.unmount()},oa.dispose=function(e,t){this._brushController.dispose()};var Jk={zoom:function(){var e=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:e})},back:function(){this._dispatchZoomAction(_A(this.ecModel))}};oa._onBrush=function(e,t){function n(r,s,l){var u=s.getAxis(r),h=u.model,c=i(r,h,a),d=c.findRepresentativeAxisProxy(h).getMinMaxSpan();d.minValueSpan==null&&d.maxValueSpan==null||(l=Qo(0,l.slice(),u.scale.getExtent(),0,d.minValueSpan,d.maxValueSpan)),c&&(o[c.id]={dataZoomId:c.id,startValue:l[0],endValue:l[1]})}function i(r,s,l){var u;return l.eachComponent({mainType:"dataZoom",subType:"select"},function(h){h.getAxisModel(r,s.componentIndex)&&(u=h)}),u}if(t.isEnd&&e.length){var o={},a=this.ecModel;this._brushController.updateCovers([]),new Ts(i1(this.model.option),a,{include:["grid"]}).matchOutputRanges(e,a,function(r,s,l){if(l.type==="cartesian2d"){var u=r.brushType;u==="rect"?(n("x",l,s[0]),n("y",l,s[1])):n({lineX:"x",lineY:"y"}[u],l,s)}}),xA(a,o),this._dispatchZoomAction(o)}},oa._dispatchZoomAction=function(e){var t=[];bw(e,function(n,i){t.push(Z(n))}),t.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:t})},To("dataZoom",nd),He(function(e){function t(r,s){if(s){var l=r+"Index",u=s[l];u==null||u=="all"||O(u)||(u=u===!1||u==="none"?[]:[u]),n(r,function(h,c){if(u==null||u=="all"||ne(u,c)!==-1){var d={type:"select",$fromToolbox:!0,id:Kk+r+c};d[l]=c,i.push(d)}})}}function n(r,s){var l=e[r];O(l)||(l=l?[l]:[]),bw(l,s)}if(e){var i=e.dataZoom||(e.dataZoom=[]);O(i)||(e.dataZoom=i=[i]);var o=e.toolbox;if(o&&(O(o)&&(o=o[0]),o&&o.feature)){var a=o.feature.dataZoom;t("xAxis",a),t("yAxis",a)}}});var Qk=$n.toolbox.restore;id.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:Qk.title},id.prototype.onclick=function(e,t,n){wA(e),t.dispatchAction({type:"restore",from:this.uid})},To("restore",id),se({type:"restore",event:"restore",update:"prepareAndUpdate"},function(e,t){t.resetOption("recreate")});var up,Sw="urn:schemas-microsoft-com:vml",Mw=typeof window=="undefined"?null:window,Iw=!1,gt=Mw&&Mw.document;if(gt&&!ee.canvasSupported)try{!gt.namespaces.zrvml&&gt.namespaces.add("zrvml",Sw),up=function(e){return gt.createElement("<zrvml:"+e+' class="zrvml">')}}catch(e){up=function(t){return gt.createElement("<"+t+' xmlns="'+Sw+'" class="zrvml">')}}var eo=dt.CMD,ue=Math.round,Sr=Math.sqrt,eP=Math.abs,Dw=Math.cos,Aw=Math.sin,hp=Math.max;if(!ee.canvasSupported){var ze=21600,st=ze/2,cp=function(e){e.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",e.coordsize=ze+","+ze,e.coordorigin="0,0"},tP=function(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},Tw=function(e,t,n){return"rgb("+[e,t,n].join(",")+")"},un=function(e,t){t&&e&&t.parentNode!==e&&e.appendChild(t)},Mr=function(e,t){t&&e&&t.parentNode===e&&e.removeChild(t)},dp=function(e,t,n){return 1e5*(parseFloat(e)||0)+1e3*(parseFloat(t)||0)+n},Cw=function(e,t){return typeof e=="string"?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e},Lw=function(e,t,n){var i=vt(t);n=+n,isNaN(n)&&(n=1),i&&(e.color=Tw(i[0],i[1],i[2]),e.opacity=n*i[3])},nP=function(e){var t=vt(e);return[Tw(t[0],t[1],t[2]),t[3]]},iP=function(e,t,n){var i=t.fill;if(i!=null)if(i instanceof en){var o,a=0,r=[0,0],s=0,l=1,u=n.getBoundingRect(),h=u.width,c=u.height;if(i.type==="linear"){o="gradient";var d=n.transform,f=[i.x*h,i.y*c],p=[i.x2*h,i.y2*c];d&&(ge(f,f,d),ge(p,p,d));var g=p[0]-f[0],m=p[1]-f[1];(a=180*Math.atan2(g,m)/Math.PI)<0&&(a+=360),a<1e-6&&(a=0)}else{o="gradientradial";var f=[i.x*h,i.y*c],d=n.transform,v=n.scale,y=h,x=c;r=[(f[0]-u.x)/y,(f[1]-u.y)/x],d&&ge(f,f,d),y/=v[0]*ze,x/=v[1]*ze;var _=hp(y,x);s=0/_,l=2*i.r/_-s}var w=i.colorStops.slice();w.sort(function(B,R){return B.offset-R.offset});for(var S=w.length,M=[],I=[],D=0;D<S;D++){var T=w[D],A=nP(T.color);I.push(T.offset*l+s+" "+A[0]),D!==0&&D!==S-1||M.push(A)}if(S>=2){var L=M[0][0],k=M[1][0],C=M[0][1]*t.opacity,N=M[1][1]*t.opacity;e.type=o,e.method="none",e.focus="100%",e.angle=a,e.color=L,e.color2=k,e.colors=I.join(","),e.opacity=N,e.opacity2=C}o==="radial"&&(e.focusposition=r.join(","))}else Lw(e,i,t.opacity)},oP=function(e,t){t.lineDash!=null&&(e.dashstyle=t.lineDash.join(" ")),t.stroke==null||t.stroke instanceof en||Lw(e,t.stroke,t.opacity)},hu=function(e,t,n,i){var o=t=="fill",a=e.getElementsByTagName(t)[0];n[t]!=null&&n[t]!=="none"&&(o||!o&&n.lineWidth)?(e[o?"filled":"stroked"]="true",n[t]instanceof en&&Mr(e,a),a||(a=od(t)),o?iP(a,n,i):oP(a,n),un(e,a)):(e[o?"filled":"stroked"]="false",Mr(e,a))},mt=[[],[],[]],aP=function(e,t){var n,i,o,a,r,s,l=eo.M,u=eo.C,h=eo.L,c=eo.A,d=eo.Q,f=[],p=e.data,g=e.len();for(a=0;a<g;){switch(o=p[a++],i="",n=0,o){case l:i=" m ",n=1,r=p[a++],s=p[a++],mt[0][0]=r,mt[0][1]=s;break;case h:i=" l ",n=1,r=p[a++],s=p[a++],mt[0][0]=r,mt[0][1]=s;break;case d:case u:i=" c ",n=3;var m,v,y=p[a++],x=p[a++],_=p[a++],w=p[a++];o===d?(m=_,v=w,_=(_+2*y)/3,w=(w+2*x)/3,y=(r+2*y)/3,x=(s+2*x)/3):(m=p[a++],v=p[a++]),mt[0][0]=y,mt[0][1]=x,mt[1][0]=_,mt[1][1]=w,mt[2][0]=m,mt[2][1]=v,r=m,s=v;break;case c:var S=0,M=0,I=1,D=1,T=0;t&&(S=t[4],M=t[5],I=Sr(t[0]*t[0]+t[1]*t[1]),D=Sr(t[2]*t[2]+t[3]*t[3]),T=Math.atan2(-t[1]/D,t[0]/I));var A=p[a++],L=p[a++],k=p[a++],C=p[a++],N=p[a++]+T,B=p[a++]+N+T;a++;var R=p[a++],H=A+Dw(N)*k,z=L+Aw(N)*C,y=A+Dw(B)*k,x=L+Aw(B)*C,de=R?" wa ":" at ";Math.abs(H-y)<1e-4&&(Math.abs(B-N)>.01?R&&(H+=.0125):Math.abs(z-L)<1e-4?R&&H<A||!R&&H>A?x-=.0125:x+=.0125:R&&z<L||!R&&z>L?y+=.0125:y-=.0125),f.push(de,ue(((A-k)*I+S)*ze-st),",",ue(((L-C)*D+M)*ze-st),",",ue(((A+k)*I+S)*ze-st),",",ue(((L+C)*D+M)*ze-st),",",ue((H*I+S)*ze-st),",",ue((z*D+M)*ze-st),",",ue((y*I+S)*ze-st),",",ue((x*D+M)*ze-st)),r=y,s=x;break;case eo.R:var X=mt[0],Me=mt[1];X[0]=p[a++],X[1]=p[a++],Me[0]=X[0]+p[a++],Me[1]=X[1]+p[a++],t&&(ge(X,X,t),ge(Me,Me,t)),X[0]=ue(X[0]*ze-st),Me[0]=ue(Me[0]*ze-st),X[1]=ue(X[1]*ze-st),Me[1]=ue(Me[1]*ze-st),f.push(" m ",X[0],",",X[1]," l ",Me[0],",",X[1]," l ",Me[0],",",Me[1]," l ",X[0],",",Me[1]);break;case eo.Z:f.push(" x ")}if(n>0){f.push(i);for(var Bt=0;Bt<n;Bt++){var kn=mt[Bt];t&&ge(kn,kn,t),f.push(ue(kn[0]*ze-st),",",ue(kn[1]*ze-st),Bt<n-1?",":"")}}}return f.join("")};ae.prototype.brushVML=function(e){var t=this.style,n=this._vmlEl;n||(n=od("shape"),cp(n),this._vmlEl=n),hu(n,"fill",t,this),hu(n,"stroke",t,this);var i=this.transform,o=i!=null,a=n.getElementsByTagName("stroke")[0];if(a){var r=t.lineWidth;if(o&&!t.strokeNoScale){var s=i[0]*i[3]-i[1]*i[2];r*=Sr(eP(s))}a.weight=r+"px"}var l=this.path||(this.path=new dt);this.__dirtyPath&&(l.beginPath(),this.buildPath(l,this.shape),l.toStatic(),this.__dirtyPath=!1),n.path=aP(l,this.transform),n.style.zIndex=dp(this.zlevel,this.z,this.z2),un(e,n),t.text!=null?this.drawRectText(e,this.getBoundingRect()):this.removeRectText(e)},ae.prototype.onRemove=function(e){Mr(e,this._vmlEl),this.removeRectText(e)},ae.prototype.onAdd=function(e){un(e,this._vmlEl),this.appendRectText(e)};var rP=function(e){return typeof e=="object"&&e.tagName&&e.tagName.toUpperCase()==="IMG"};Ze.prototype.brushVML=function(e){var t,n,i=this.style,o=i.image;if(rP(o)){var a=o.src;if(a===this._imageSrc)t=this._imageWidth,n=this._imageHeight;else{var r=o.runtimeStyle,s=r.width,l=r.height;r.width="auto",r.height="auto",t=o.width,n=o.height,r.width=s,r.height=l,this._imageSrc=a,this._imageWidth=t,this._imageHeight=n}o=a}else o===this._imageSrc&&(t=this._imageWidth,n=this._imageHeight);if(o){var u=i.x||0,h=i.y||0,c=i.width,d=i.height,f=i.sWidth,p=i.sHeight,g=i.sx||0,m=i.sy||0,v=f&&p,y=this._vmlEl;y||(y=gt.createElement("div"),cp(y),this._vmlEl=y);var x,_=y.style,w=!1,S=1,M=1;if(this.transform&&(x=this.transform,S=Sr(x[0]*x[0]+x[1]*x[1]),M=Sr(x[2]*x[2]+x[3]*x[3]),w=x[1]||x[2]),w){var I=[u,h],D=[u+c,h],T=[u,h+d],A=[u+c,h+d];ge(I,I,x),ge(D,D,x),ge(T,T,x),ge(A,A,x);var L=hp(I[0],D[0],T[0],A[0]),k=hp(I[1],D[1],T[1],A[1]),C=[];C.push("M11=",x[0]/S,",","M12=",x[2]/M,",","M21=",x[1]/S,",","M22=",x[3]/M,",","Dx=",ue(u*S+x[4]),",","Dy=",ue(h*M+x[5])),_.padding="0 "+ue(L)+"px "+ue(k)+"px 0",_.filter="progid:DXImageTransform.Microsoft.Matrix("+C.join("")+", SizingMethod=clip)"}else x&&(u=u*S+x[4],h=h*M+x[5]),_.filter="",_.left=ue(u)+"px",_.top=ue(h)+"px";var N=this._imageEl,B=this._cropEl;N||(N=gt.createElement("div"),this._imageEl=N);var R=N.style;if(v){if(t&&n)R.width=ue(S*t*c/f)+"px",R.height=ue(M*n*d/p)+"px";else{var H=new Image,z=this;H.onload=function(){H.onload=null,t=H.width,n=H.height,R.width=ue(S*t*c/f)+"px",R.height=ue(M*n*d/p)+"px",z._imageWidth=t,z._imageHeight=n,z._imageSrc=o},H.src=o}B||((B=gt.createElement("div")).style.overflow="hidden",this._cropEl=B);var de=B.style;de.width=ue((c+g*c/f)*S),de.height=ue((d+m*d/p)*M),de.filter="progid:DXImageTransform.Microsoft.Matrix(Dx="+-g*c/f*S+",Dy="+-m*d/p*M+")",B.parentNode||y.appendChild(B),N.parentNode!=B&&B.appendChild(N)}else R.width=ue(S*c)+"px",R.height=ue(M*d)+"px",y.appendChild(N),B&&B.parentNode&&(y.removeChild(B),this._cropEl=null);var X="",Me=i.opacity;Me<1&&(X+=".Alpha(opacity="+ue(100*Me)+") "),X+="progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+o+", SizingMethod=scale)",R.filter=X,y.style.zIndex=dp(this.zlevel,this.z,this.z2),un(e,y),i.text!=null&&this.drawRectText(e,this.getBoundingRect())}},Ze.prototype.onRemove=function(e){Mr(e,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(e)},Ze.prototype.onAdd=function(e){un(e,this._vmlEl),this.appendRectText(e)};var to,fp={},pp=0,sP=document.createElement("div"),lP=function(e){var t=fp[e];if(!t){pp>100&&(pp=0,fp={});var n,i=sP.style;try{i.font=e,n=i.fontFamily.split(",")[0]}catch(o){}t={style:i.fontStyle||"normal",variant:i.fontVariant||"normal",weight:i.fontWeight||"normal",size:0|parseFloat(i.fontSize||12),family:n||"Microsoft YaHei"},fp[e]=t,pp++}return t};(function(e,t){bd[e]=t})("measureText",function(e,t){var n=gt;to||((to=n.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",gt.body.appendChild(to));try{to.style.font=t}catch(i){}return to.innerHTML="",to.appendChild(n.createTextNode(e)),{width:to.offsetWidth}});for(var gp=new Q,kw=[Ks,tt,Ze,ae,te],mp=0;mp<kw.length;mp++){var vp=kw[mp].prototype;vp.drawRectText=function(e,t,n,i){var o=this.style;this.__dirty&&ga(o);var a=o.text;if(a!=null&&(a+=""),a){if(o.rich){var r=Ou(a,o);a=[];for(var s=0;s<r.lines.length;s++){for(var l=r.lines[s].tokens,u=[],h=0;h<l.length;h++)u.push(l[h].text);a.push(u.join(""))}a=a.join(`
`)}var c,d,f=o.textAlign,p=o.textVerticalAlign,g=lP(o.font),m=g.style+" "+g.variant+" "+g.weight+" "+g.size+'px "'+g.family+'"';n=n||mn(a,m,f,p);var v=this.transform;if(v&&!i&&(gp.copy(t),gp.applyTransform(v),t=gp),i)c=t.x,d=t.y;else{var y=o.textPosition,x=o.textDistance;if(y instanceof Array)c=t.x+Cw(y[0],t.width),d=t.y+Cw(y[1],t.height),f=f||"left";else{var _=Pu(y,t,x);c=_.x,d=_.y,f=f||_.textAlign,p=p||_.textVerticalAlign}}c=fa(c,n.width,f),d=pa(d,n.height,p),d+=n.height/2;var w,S,M,I=od,D=this._textVmlEl;D?S=(w=(M=D.firstChild).nextSibling).nextSibling:(D=I("line"),w=I("path"),S=I("textpath"),M=I("skew"),S.style["v-text-align"]="left",cp(D),w.textpathok=!0,S.on=!0,D.from="0 0",D.to="1000 0.05",un(D,M),un(D,w),un(D,S),this._textVmlEl=D);var T=[c,d],A=D.style;v&&i?(ge(T,T,v),M.on=!0,M.matrix=v[0].toFixed(3)+","+v[2].toFixed(3)+","+v[1].toFixed(3)+","+v[3].toFixed(3)+",0,0",M.offset=(ue(T[0])||0)+","+(ue(T[1])||0),M.origin="0 0",A.left="0px",A.top="0px"):(M.on=!1,A.left=ue(c)+"px",A.top=ue(d)+"px"),S.string=tP(a);try{S.style.font=m}catch(L){}hu(D,"fill",{fill:o.textFill,opacity:o.opacity},this),hu(D,"stroke",{stroke:o.textStroke,opacity:o.opacity,lineDash:o.lineDash},this),D.style.zIndex=dp(this.zlevel,this.z,this.z2),un(e,D)}},vp.removeRectText=function(e){Mr(e,this._textVmlEl),this._textVmlEl=null},vp.appendRectText=function(e){un(e,this._textVmlEl)}}te.prototype.brushVML=function(e){var t=this.style;t.text!=null?this.drawRectText(e,{x:t.x||0,y:t.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(e)},te.prototype.onRemove=function(e){this.removeRectText(e)},te.prototype.onAdd=function(e){this.appendRectText(e)}}zs.prototype={constructor:zs,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(){var e=this.storage.getDisplayList(!0,!0);this._paintList(e)},_paintList:function(e){for(var t=this._vmlRoot,n=0;n<e.length;n++){var i=e[n];i.invisible||i.ignore?(i.__alreadyNotVisible||i.onRemove(t),i.__alreadyNotVisible=!0):(i.__alreadyNotVisible&&i.onAdd(t),i.__alreadyNotVisible=!1,i.__dirty&&(i.beforeBrush&&i.beforeBrush(),(i.brushVML||i.brush).call(i,t),i.afterBrush&&i.afterBrush())),i.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(t),this._firstPaint=!1)},resize:function(e,t){var e=e==null?this._getWidth():e,t=t==null?this._getHeight():t;if(this._width!=e||this._height!=t){this._width=e,this._height=t;var n=this._vmlViewport.style;n.width=e+"px",n.height=t+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var e=this.root,t=e.currentStyle;return(e.clientWidth||Lo(t.width))-Lo(t.paddingLeft)-Lo(t.paddingRight)|0},_getHeight:function(){var e=this.root,t=e.currentStyle;return(e.clientHeight||Lo(t.height))-Lo(t.paddingTop)-Lo(t.paddingBottom)|0}},b(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(e){zs.prototype[e]=DA(e)}),Uu("vml",zs);var uP="http://www.w3.org/2000/svg",no=dt.CMD,hP=Array.prototype.join,io="none",yp=Math.round,Pw=Math.sin,Ow=Math.cos,xp=Math.PI,cu=2*Math.PI,cP=180/xp,Nw=1e-4,Ir={};Ir.brush=function(e){var t=e.style,n=e.__svgEl;n||(n=Ti("path"),e.__svgEl=n),e.path||e.createPathProxy();var i=e.path;if(e.__dirtyPath){i.beginPath(),e.buildPath(i,e.shape),e.__dirtyPath=!1;var o=LA(i);o.indexOf("NaN")<0&&fe(n,"d",o)}o1(n,t),rd(n,e.transform),t.text!=null&&fu(e,e.getBoundingRect())};var _p={};_p.brush=function(e){var t=e.style,n=t.image;if(n instanceof HTMLImageElement&&(n=n.src),n){var i=t.x||0,o=t.y||0,a=t.width,r=t.height,s=e.__svgEl;s||(s=Ti("image"),e.__svgEl=s),n!==e.__imageSrc&&(CA(s,"href",n),e.__imageSrc=n),fe(s,"width",a),fe(s,"height",r),fe(s,"x",i),fe(s,"y",o),rd(s,e.transform),t.text!=null&&fu(e,e.getBoundingRect())}};var du={},wp=new Q,fu=function(e,t,n){var i=e.style;e.__dirty&&ga(i);var o=i.text;if(o!=null){o+="";var a=e.__textSvgEl;a||(a=Ti("text"),e.__textSvgEl=a);var r,s,l=i.textPosition,u=i.textDistance,h=i.textAlign||"left";typeof i.fontSize=="number"&&(i.fontSize+="px");var c=i.font||[i.fontStyle||"",i.fontWeight||"",i.fontSize||"",i.fontFamily||""].join(" ")||Qa,d=a1(i.textVerticalAlign),f=(n=mn(o,c,h,d)).lineHeight;if(l instanceof Array)r=t.x+l[0],s=t.y+l[1];else{var p=Pu(l,t,u);r=p.x,s=p.y,d=a1(p.textVerticalAlign),h=p.textAlign}fe(a,"alignment-baseline",d),c&&(a.style.font=c);var g=i.textPadding;if(fe(a,"x",r),fe(a,"y",s),o1(a,i,!0),e instanceof te||e.style.transformText)rd(a,e.transform);else{if(e.transform)wp.copy(t),wp.applyTransform(e.transform),t=wp;else{var m=e.transformCoordToGlobal(t.x,t.y);t.x=m[0],t.y=m[1]}var v=i.textOrigin;v==="center"?(r=n.width/2+r,s=n.height/2+s):v&&(r=v[0]+r,s=v[1]+s),fe(a,"transform","rotate("+180*-i.textRotation/Math.PI+","+r+","+s+")")}var y=o.split(`
`),x=y.length,_=h;_==="left"?(_="start",g&&(r+=g[3])):_==="right"?(_="end",g&&(r-=g[1])):_==="center"&&(_="middle",g&&(r+=(g[3]-g[1])/2));var w=0;if(d==="baseline"?(w=-n.height+f,g&&(w-=g[2])):d==="middle"?(w=(-n.height+f)/2,g&&(s+=(g[0]-g[2])/2)):g&&(w+=g[0]),e.__text!==o||e.__textFont!==c){var S=e.__tspanList||[];for(e.__tspanList=S,I=0;I<x;I++)(D=S[I])?D.innerHTML="":(D=S[I]=Ti("tspan"),a.appendChild(D),fe(D,"alignment-baseline",d),fe(D,"text-anchor",_)),fe(D,"x",r),fe(D,"y",s+I*f+w),D.appendChild(document.createTextNode(y[I]));for(;I<S.length;I++)a.removeChild(S[I]);S.length=x,e.__text=o,e.__textFont=c}else if(e.__tspanList.length)for(var M=e.__tspanList.length,I=0;I<M;++I){var D=e.__tspanList[I];D&&(fe(D,"x",r),fe(D,"y",s+I*f+w))}}};du.drawRectText=fu,du.brush=function(e){var t=e.style;t.text!=null&&(t.textPosition=[0,0],fu(e,{x:t.x||0,y:t.y||0,width:0,height:0},e.getBoundingRect()))},r1.prototype={diff:function(e,t,n){n||(n=function(f,p){return f===p}),this.equals=n;var i=this;e=e.slice();var o=(t=t.slice()).length,a=e.length,r=1,s=o+a,l=[{newPos:-1,components:[]}],u=this.extractCommon(l[0],t,e,0);if(l[0].newPos+1>=o&&u+1>=a){for(var h=[],c=0;c<t.length;c++)h.push(c);return[{indices:h,count:t.length}]}for(;r<=s;){var d=function(){for(var f=-1*r;f<=r;f+=2){var p,g=l[f-1],m=l[f+1],v=(m?m.newPos:0)-f;g&&(l[f-1]=void 0);var y=g&&g.newPos+1<o,x=m&&0<=v&&v<a;if(y||x){if(!y||x&&g.newPos<m.newPos?(p=PA(m),i.pushComponent(p.components,void 0,!0)):((p=g).newPos++,i.pushComponent(p.components,!0,void 0)),v=i.extractCommon(p,t,e,f),p.newPos+1>=o&&v+1>=a)return kA(0,p.components);l[f]=p}else l[f]=void 0}r++}();if(d)return d}},pushComponent:function(e,t,n){var i=e[e.length-1];i&&i.added===t&&i.removed===n?e[e.length-1]={count:i.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},extractCommon:function(e,t,n,i){for(var o=t.length,a=n.length,r=e.newPos,s=r-i,l=0;r+1<o&&s+1<a&&this.equals(t[r+1],n[s+1]);)r++,s++,l++;return l&&e.components.push({count:l}),e.newPos=r,s},tokenize:function(e){return e.slice()},join:function(e){return e.slice()}};var dP=new r1,fP=function(e,t,n){return dP.diff(e,t,n)};_e.prototype.createElement=Ti,_e.prototype.getDefs=function(e){var t=this._svgRoot,n=this._svgRoot.getElementsByTagName("defs");return n.length===0?e?((n=t.insertBefore(this.createElement("defs"),t.firstChild)).contains||(n.contains=function(i){var o=n.children;if(!o)return!1;for(var a=o.length-1;a>=0;--a)if(o[a]===i)return!0;return!1}),n):null:n[0]},_e.prototype.update=function(e,t){if(e){var n=this.getDefs(!1);if(e[this._domName]&&n.contains(e[this._domName]))typeof t=="function"&&t(e);else{var i=this.add(e);i&&(e[this._domName]=i)}}},_e.prototype.addDom=function(e){this.getDefs(!0).appendChild(e)},_e.prototype.removeDom=function(e){var t=this.getDefs(!1);t&&e[this._domName]&&(t.removeChild(e[this._domName]),e[this._domName]=null)},_e.prototype.getDoms=function(){var e=this.getDefs(!1);if(!e)return[];var t=[];return b(this._tagNames,function(n){var i=e.getElementsByTagName(n);t=t.concat([].slice.call(i))}),t},_e.prototype.markAllUnused=function(){var e=this;b(this.getDoms(),function(t){t[e._markLabel]="0"})},_e.prototype.markUsed=function(e){e&&(e[this._markLabel]="1")},_e.prototype.removeUnused=function(){var e=this.getDefs(!1);if(e){var t=this;b(this.getDoms(),function(n){n[t._markLabel]!=="1"&&e.removeChild(n)})}},_e.prototype.getSvgProxy=function(e){return e instanceof ae?Ir:e instanceof Ze?_p:e instanceof te?du:Ir},_e.prototype.getTextSvgElement=function(e){return e.__textSvgEl},_e.prototype.getSvgElement=function(e){return e.__svgEl},he(Ci,_e),Ci.prototype.addWithoutUpdate=function(e,t){if(t&&t.style){var n=this;b(["fill","stroke"],function(i){if(t.style[i]&&(t.style[i].type==="linear"||t.style[i].type==="radial")){var o,a=t.style[i],r=n.getDefs(!0);a._dom?(o=a._dom,r.contains(a._dom)||n.addDom(o)):o=n.add(a),n.markUsed(t);var s=o.getAttribute("id");e.setAttribute(i,"url(#"+s+")")}})}},Ci.prototype.add=function(e){var t;if(e.type==="linear")t=this.createElement("linearGradient");else{if(e.type!=="radial")return Hn("Illegal gradient type."),null;t=this.createElement("radialGradient")}return e.id=e.id||this.nextId++,t.setAttribute("id","zr"+this._zrId+"-gradient-"+e.id),this.updateDom(e,t),this.addDom(t),t},Ci.prototype.update=function(e){var t=this;_e.prototype.update.call(this,e,function(){var n=e.type,i=e._dom.tagName;n==="linear"&&i==="linearGradient"||n==="radial"&&i==="radialGradient"?t.updateDom(e,e._dom):(t.removeDom(e),t.add(e))})},Ci.prototype.updateDom=function(e,t){if(e.type==="linear")t.setAttribute("x1",e.x),t.setAttribute("y1",e.y),t.setAttribute("x2",e.x2),t.setAttribute("y2",e.y2);else{if(e.type!=="radial")return void Hn("Illegal gradient type.");t.setAttribute("cx",e.x),t.setAttribute("cy",e.y),t.setAttribute("r",e.r)}e.global?t.setAttribute("gradientUnits","userSpaceOnUse"):t.setAttribute("gradientUnits","objectBoundingBox"),t.innerHTML="";for(var n=e.colorStops,i=0,o=n.length;i<o;++i){var a=this.createElement("stop");a.setAttribute("offset",100*n[i].offset+"%"),a.setAttribute("stop-color",n[i].color),t.appendChild(a)}e._dom=t},Ci.prototype.markUsed=function(e){if(e.style){var t=e.style.fill;t&&t._dom&&_e.prototype.markUsed.call(this,t._dom),(t=e.style.stroke)&&t._dom&&_e.prototype.markUsed.call(this,t._dom)}},he(ja,_e),ja.prototype.update=function(e){var t=this.getSvgElement(e);t&&this.updateDom(t,e.__clipPaths,!1);var n=this.getTextSvgElement(e);n&&this.updateDom(n,e.__clipPaths,!0),this.markUsed(e)},ja.prototype.updateDom=function(e,t,n){if(t&&t.length>0){var i,o,a=this.getDefs(!0),r=t[0],s=n?"_textDom":"_dom";r[s]?(o=r[s].getAttribute("id"),i=r[s],a.contains(i)||a.appendChild(i)):(o="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(i=this.createElement("clipPath")).setAttribute("id",o),a.appendChild(i),r[s]=i);var l=this.getSvgProxy(r);if(r.transform&&r.parent.invTransform&&!n){var u=Array.prototype.slice.call(r.transform);hi(r.transform,r.parent.invTransform,r.transform),l.brush(r),r.transform=u}else l.brush(r);var h=this.getSvgElement(r);i.innerHTML="",i.appendChild(h.cloneNode()),e.setAttribute("clip-path","url(#"+o+")"),t.length>1&&this.updateDom(i,t.slice(1),n)}else e&&e.setAttribute("clip-path","none")},ja.prototype.markUsed=function(e){var t=this;e.__clipPaths&&e.__clipPaths.length>0&&b(e.__clipPaths,function(n){n._dom&&_e.prototype.markUsed.call(t,n._dom),n._textDom&&_e.prototype.markUsed.call(t,n._textDom)})},he(Wn,_e),Wn.prototype.addWithoutUpdate=function(e,t){if(t&&s1(t.style)){var n,i=t.style;i._shadowDom?(n=i._shadowDom,this.getDefs(!0).contains(i._shadowDom)||this.addDom(n)):n=this.add(t),this.markUsed(t);var o=n.getAttribute("id");e.style.filter="url(#"+o+")"}},Wn.prototype.add=function(e){var t=this.createElement("filter"),n=e.style;return n._shadowDomId=n._shadowDomId||this.nextId++,t.setAttribute("id","zr"+this._zrId+"-shadow-"+n._shadowDomId),this.updateDom(e,t),this.addDom(t),t},Wn.prototype.update=function(e,t){var n=t.style;if(s1(n)){var i=this;_e.prototype.update.call(this,t,function(o){i.updateDom(t,o._shadowDom)})}else this.remove(e,n)},Wn.prototype.remove=function(e,t){t._shadowDomId!=null&&(this.removeDom(t),e.style.filter="")},Wn.prototype.updateDom=function(e,t){var n=t.getElementsByTagName("feDropShadow");n=n.length===0?this.createElement("feDropShadow"):n[0];var i,o,a,r,s=e.style,l=e.scale&&e.scale[0]||1,u=e.scale&&e.scale[1]||1;if(s.shadowBlur||s.shadowOffsetX||s.shadowOffsetY)i=s.shadowOffsetX||0,o=s.shadowOffsetY||0,a=s.shadowBlur,r=s.shadowColor;else{if(!s.textShadowBlur)return void this.removeDom(t,s);i=s.textShadowOffsetX||0,o=s.textShadowOffsetY||0,a=s.textShadowBlur,r=s.textShadowColor}n.setAttribute("dx",i/l),n.setAttribute("dy",o/u),n.setAttribute("flood-color",r);var h=a/2/l+" "+a/2/u;n.setAttribute("stdDeviation",h),t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width",Math.ceil(a/2*200)+"%"),t.setAttribute("height",Math.ceil(a/2*200)+"%"),t.appendChild(n),s._shadowDom=t},Wn.prototype.markUsed=function(e){var t=e.style;t&&t._shadowDom&&_e.prototype.markUsed.call(this,t._shadowDom)};var pu=function(e,t,n,i){this.root=e,this.storage=t,this._opts=n=G({},n||{});var o=Ti("svg");o.setAttribute("xmlns","http://www.w3.org/2000/svg"),o.setAttribute("version","1.1"),o.setAttribute("baseProfile","full"),o.style.cssText="user-select:none;position:absolute;left:0;top:0;",this.gradientManager=new Ci(i,o),this.clipPathManager=new ja(i,o),this.shadowManager=new Wn(i,o);var a=document.createElement("div");a.style.cssText="overflow:hidden;position:relative",this._svgRoot=o,this._viewport=a,e.appendChild(a),a.appendChild(o),this.resize(n.width,n.height),this._visibleList=[]};pu.prototype={constructor:pu,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(){var e=this.storage.getDisplayList(!0);this._paintList(e)},setBackgroundColor:function(e){this._viewport.style.background=e},_paintList:function(e){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var t,n=this._svgRoot,i=this._visibleList,o=e.length,a=[];for(t=0;t<o;t++){var r=OA(f=e[t]),s=Gs(f)||Vs(f);f.invisible||(f.__dirty&&(r&&r.brush(f),this.clipPathManager.update(f),f.style&&(this.gradientManager.update(f.style.fill),this.gradientManager.update(f.style.stroke),this.shadowManager.update(s,f)),f.__dirty=!1),a.push(f))}var l,u=fP(i,a);for(t=0;t<u.length;t++)if((c=u[t]).removed)for(d=0;d<c.count;d++){var s=Gs(f=i[c.indices[d]]),h=Vs(f);h1(n,s),h1(n,h)}for(t=0;t<u.length;t++){var c=u[t];if(c.added)for(d=0;d<c.count;d++){var s=Gs(f=a[c.indices[d]]),h=Vs(f);l?Bs(n,s,l):u1(n,s),s?Bs(n,h,s):l?Bs(n,h,l):u1(n,h),Bs(n,h,s),l=h||s||l,this.gradientManager.addWithoutUpdate(s,f),this.shadowManager.addWithoutUpdate(l,f),this.clipPathManager.markUsed(f)}else if(!c.removed)for(var d=0;d<c.count;d++){var f=a[c.indices[d]];l=s=Vs(f)||Gs(f)||l,this.gradientManager.markUsed(f),this.gradientManager.addWithoutUpdate(s,f),this.shadowManager.markUsed(f),this.shadowManager.addWithoutUpdate(s,f),this.clipPathManager.markUsed(f)}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=a},_getDefs:function(e){var t=this._svgRoot,n=this._svgRoot.getElementsByTagName("defs");return n.length===0?e?((n=t.insertBefore(Ti("defs"),t.firstChild)).contains||(n.contains=function(i){var o=n.children;if(!o)return!1;for(var a=o.length-1;a>=0;--a)if(o[a]===i)return!0;return!1}),n):null:n[0]},resize:function(e,t){var n=this._viewport;n.style.display="none";var i=this._opts;if(e!=null&&(i.width=e),t!=null&&(i.height=t),e=this._getSize(0),t=this._getSize(1),n.style.display="",this._width!==e||this._height!==t){this._width=e,this._height=t;var o=n.style;o.width=e+"px",o.height=t+"px";var a=this._svgRoot;a.setAttribute("width",e),a.setAttribute("height",t)}},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var t=this._opts,n=["width","height"][e],i=["clientWidth","clientHeight"][e],o=["paddingLeft","paddingTop"][e],a=["paddingRight","paddingBottom"][e];if(t[n]!=null&&t[n]!=="auto")return parseFloat(t[n]);var r=this.root,s=document.defaultView.getComputedStyle(r);return(r[i]||Rs(s[n])||Rs(r.style[n]))-(Rs(s[o])||0)-(Rs(s[a])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToDataUrl:function(){return this.refresh(),"data:image/svg+xml;charset=UTF-8,"+this._svgRoot.outerHTML}},b(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(e){pu.prototype[e]=NA(e)}),Uu("svg",pu),$.version="4.0.4",$.dependencies=KT,$.PRIORITY=Ho,$.init=function(e,t,n){var i=wh(e);if(i)return i;var o=new Ia(e,t,n);return o.id="ec_"+QT++,Gi[o.id]=o,sg(e,nf,o.id),US(o),o},$.connect=function(e){if(O(e)){var t=e;e=null,Ge(t,function(n){n.group!=null&&(e=n.group)}),e=e||"g_"+eC++,Ge(t,function(n){n.group=e})}return Ll[e]=!0,e},$.disConnect=wm,$.disconnect=tC,$.dispose=function(e){typeof e=="string"?e=Gi[e]:e instanceof Ia||(e=wh(e)),e instanceof Ia&&!e.isDisposed()&&e.dispose()},$.getInstanceByDom=wh,$.getInstanceById=function(e){return Gi[e]},$.registerTheme=bh,$.registerPreprocessor=He,$.registerProcessor=ut,$.registerPostUpdate=function(e){gx.push(e)},$.registerAction=se,$.registerCoordinateSystem=Sh,$.getCoordinateSystemDimensions=function(e){var t=Xe.get(e);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()},$.registerLayout=be,$.registerVisual=ye,$.registerLoading=bm,$.extendComponentModel=it,$.extendComponentView=Oe,$.extendSeriesModel=Aa,$.extendChartView=Qe,$.setCanvasCreator=function(e){ao("createCanvas",e)},$.registerMap=function(e,t,n){t.geoJson&&!t.features&&(n=t.specialAreas,t=t.geoJson),typeof t=="string"&&(t=typeof JSON!="undefined"&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")()),vx[e]={geoJson:t,specialAreas:n}},$.getMap=es,$.dataTool=nC,$.zrender=aT,$.graphic=Nt,$.number=TT,$.format=LT,$.throttle=vh,$.helper=wC,$.matrix=XA,$.vector=ZA,$.color=$A,$.parseGeoJSON=ff,$.parseGeoJson=SC,$.util=Dx,$.List=Ee,$.Model=re,$.Axis=Le,$.env=ee});
